/*! For license information please see main.d4ed9918.js.LICENSE.txt */
!function(){var t={559:function(t,e){!function(t){"use strict";var e="1.8.0";function n(t){var e,n,i,r;for(n=1,i=arguments.length;n<i;n++)for(e in r=arguments[n])t[e]=r[e];return t}var i=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function r(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var i=n.call(arguments,2);return function(){return t.apply(e,i.length?i.concat(n.call(arguments)):arguments)}}var o=0;function a(t){return"_leaflet_id"in t||(t._leaflet_id=++o),t._leaflet_id}function s(t,e,n){var i,r,o,a;return a=function(){i=!1,r&&(o.apply(n,r),r=!1)},o=function(){i?r=arguments:(t.apply(n,arguments),setTimeout(a,e),i=!0)},o}function u(t,e,n){var i=e[1],r=e[0],o=i-r;return t===i&&n?t:((t-r)%o+o)%o+r}function c(){return!1}function l(t,e){if(!1===e)return t;var n=Math.pow(10,void 0===e?6:e);return Math.round(t*n)/n}function h(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function f(t){return h(t).split(/\s+/)}function d(t,e){for(var n in Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?i(t.options):{}),e)t.options[n]=e[n];return t.options}function p(t,e,n){var i=[];for(var r in t)i.push(encodeURIComponent(n?r.toUpperCase():r)+"="+encodeURIComponent(t[r]));return(e&&-1!==e.indexOf("?")?"&":"?")+i.join("&")}var v=/\{ *([\w_ -]+) *\}/g;function g(t,e){return t.replace(v,(function(t,n){var i=e[n];if(void 0===i)throw new Error("No value provided for variable "+t);return"function"===typeof i&&(i=i(e)),i}))}var m=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function y(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}var _="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function k(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var w=0;function b(t){var e=+new Date,n=Math.max(0,16-(e-w));return w=e+n,window.setTimeout(t,n)}var S=window.requestAnimationFrame||k("RequestAnimationFrame")||b,T=window.cancelAnimationFrame||k("CancelAnimationFrame")||k("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function x(t,e,n){if(!n||S!==b)return S.call(window,r(t,e));t.call(e)}function C(t){t&&T.call(window,t)}var E={__proto__:null,extend:n,create:i,bind:r,get lastId(){return o},stamp:a,throttle:s,wrapNum:u,falseFn:c,formatNum:l,trim:h,splitWords:f,setOptions:d,getParamString:p,template:g,isArray:m,indexOf:y,emptyImageUrl:_,requestFn:S,cancelFn:T,requestAnimFrame:x,cancelAnimFrame:C};function M(){}function O(t){if("undefined"!==typeof L&&L&&L.Mixin){t=m(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}M.extend=function(t){var e=function(){d(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},r=e.__super__=this.prototype,o=i(r);for(var a in o.constructor=e,e.prototype=o,this)Object.prototype.hasOwnProperty.call(this,a)&&"prototype"!==a&&"__super__"!==a&&(e[a]=this[a]);return t.statics&&n(e,t.statics),t.includes&&(O(t.includes),n.apply(null,[o].concat(t.includes))),n(o,t),delete o.statics,delete o.includes,o.options&&(o.options=r.options?i(r.options):{},n(o.options,t.options)),o._initHooks=[],o.callInitHooks=function(){if(!this._initHooksCalled){r.callInitHooks&&r.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=o._initHooks.length;t<e;t++)o._initHooks[t].call(this)}},e},M.include=function(t){var e=this.prototype.options;return n(this.prototype,t),t.options&&(this.prototype.options=e,this.mergeOptions(t.options)),this},M.mergeOptions=function(t){return n(this.prototype.options,t),this},M.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"===typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var P={on:function(t,e,n){if("object"===typeof t)for(var i in t)this._on(i,t[i],e);else for(var r=0,o=(t=f(t)).length;r<o;r++)this._on(t[r],e,n);return this},off:function(t,e,n){if(arguments.length)if("object"===typeof t)for(var i in t)this._off(i,t[i],e);else{t=f(t);for(var r=1===arguments.length,o=0,a=t.length;o<a;o++)r?this._off(t[o]):this._off(t[o],e,n)}else delete this._events;return this},_on:function(t,e,n){if("function"===typeof e){this._events=this._events||{};var i=this._events[t];i||(i=[],this._events[t]=i),n===this&&(n=void 0);for(var r={fn:e,ctx:n},o=i,a=0,s=o.length;a<s;a++)if(o[a].fn===e&&o[a].ctx===n)return;o.push(r)}else console.warn("wrong listener type: "+typeof e)},_off:function(t,e,n){var i,r,o;if(this._events&&(i=this._events[t]))if(1!==arguments.length)if(n===this&&(n=void 0),"function"===typeof e){for(r=0,o=i.length;r<o;r++){var a=i[r];if(a.ctx===n&&a.fn===e)return this._firingCount&&(a.fn=c,this._events[t]=i=i.slice()),void i.splice(r,1)}console.warn("listener not found")}else console.warn("wrong listener type: "+typeof e);else{if(this._firingCount)for(r=0,o=i.length;r<o;r++)i[r].fn=c;delete this._events[t]}},fire:function(t,e,i){if(!this.listens(t,i))return this;var r=n({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var o=this._events[t];if(o){this._firingCount=this._firingCount+1||1;for(var a=0,s=o.length;a<s;a++){var u=o[a];u.fn.call(u.ctx||this,r)}this._firingCount--}}return i&&this._propagateEvent(r),this},listens:function(t,e){"string"!==typeof t&&console.warn('"string" type argument expected');var n=this._events&&this._events[t];if(n&&n.length)return!0;if(e)for(var i in this._eventParents)if(this._eventParents[i].listens(t,e))return!0;return!1},once:function(t,e,n){if("object"===typeof t){for(var i in t)this.once(i,t[i],e);return this}var o=r((function(){this.off(t,e,n).off(t,o,n)}),this);return this.on(t,e,n).on(t,o,n)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[a(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[a(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,n({layer:t.target,propagatedFrom:t.target},t),!0)}};P.addEventListener=P.on,P.removeEventListener=P.clearAllEventListeners=P.off,P.addOneTimeEventListener=P.once,P.fireEvent=P.fire,P.hasEventListeners=P.listens;var A=M.extend(P);function I(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e}var N=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};function R(t,e,n){return t instanceof I?t:m(t)?new I(t[0],t[1]):void 0===t||null===t?t:"object"===typeof t&&"x"in t&&"y"in t?new I(t.x,t.y):new I(t,e,n)}function B(t,e){if(t)for(var n=e?[t,e]:t,i=0,r=n.length;i<r;i++)this.extend(n[i])}function D(t,e){return!t||t instanceof B?t:new B(t,e)}function j(t,e){if(t)for(var n=e?[t,e]:t,i=0,r=n.length;i<r;i++)this.extend(n[i])}function W(t,e){return t instanceof j?t:new j(t,e)}function F(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==n&&(this.alt=+n)}function z(t,e,n){return t instanceof F?t:m(t)&&"object"!==typeof t[0]?3===t.length?new F(t[0],t[1],t[2]):2===t.length?new F(t[0],t[1]):null:void 0===t||null===t?t:"object"===typeof t&&"lat"in t?new F(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new F(t,e,n)}I.prototype={clone:function(){return new I(this.x,this.y)},add:function(t){return this.clone()._add(R(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(R(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new I(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new I(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=N(this.x),this.y=N(this.y),this},distanceTo:function(t){var e=(t=R(t)).x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return(t=R(t)).x===this.x&&t.y===this.y},contains:function(t){return t=R(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+l(this.x)+", "+l(this.y)+")"}},B.prototype={extend:function(t){return t=R(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new I((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new I(this.min.x,this.max.y)},getTopRight:function(){return new I(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return(t="number"===typeof t[0]||t instanceof I?R(t):D(t))instanceof B?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=D(t);var e=this.min,n=this.max,i=t.min,r=t.max,o=r.x>=e.x&&i.x<=n.x,a=r.y>=e.y&&i.y<=n.y;return o&&a},overlaps:function(t){t=D(t);var e=this.min,n=this.max,i=t.min,r=t.max,o=r.x>e.x&&i.x<n.x,a=r.y>e.y&&i.y<n.y;return o&&a},isValid:function(){return!(!this.min||!this.max)}},j.prototype={extend:function(t){var e,n,i=this._southWest,r=this._northEast;if(t instanceof F)e=t,n=t;else{if(!(t instanceof j))return t?this.extend(z(t)||W(t)):this;if(e=t._southWest,n=t._northEast,!e||!n)return this}return i||r?(i.lat=Math.min(e.lat,i.lat),i.lng=Math.min(e.lng,i.lng),r.lat=Math.max(n.lat,r.lat),r.lng=Math.max(n.lng,r.lng)):(this._southWest=new F(e.lat,e.lng),this._northEast=new F(n.lat,n.lng)),this},pad:function(t){var e=this._southWest,n=this._northEast,i=Math.abs(e.lat-n.lat)*t,r=Math.abs(e.lng-n.lng)*t;return new j(new F(e.lat-i,e.lng-r),new F(n.lat+i,n.lng+r))},getCenter:function(){return new F((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new F(this.getNorth(),this.getWest())},getSouthEast:function(){return new F(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"===typeof t[0]||t instanceof F||"lat"in t?z(t):W(t);var e,n,i=this._southWest,r=this._northEast;return t instanceof j?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=i.lat&&n.lat<=r.lat&&e.lng>=i.lng&&n.lng<=r.lng},intersects:function(t){t=W(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),r=t.getNorthEast(),o=r.lat>=e.lat&&i.lat<=n.lat,a=r.lng>=e.lng&&i.lng<=n.lng;return o&&a},overlaps:function(t){t=W(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),r=t.getNorthEast(),o=r.lat>e.lat&&i.lat<n.lat,a=r.lng>e.lng&&i.lng<n.lng;return o&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=W(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}},F.prototype={equals:function(t,e){return!!t&&(t=z(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+l(this.lat,t)+", "+l(this.lng,t)+")"},distanceTo:function(t){return H.distance(this,z(t))},wrap:function(){return H.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return W([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new F(this.lat,this.lng,this.alt)}};var V={latLngToPoint:function(t,e){var n=this.projection.project(t),i=this.scale(e);return this.transformation._transform(n,i)},pointToLatLng:function(t,e){var n=this.scale(e),i=this.transformation.untransform(t,n);return this.projection.unproject(i)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,n=this.scale(t);return new B(this.transformation.transform(e.min,n),this.transformation.transform(e.max,n))},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?u(t.lng,this.wrapLng,!0):t.lng;return new F(this.wrapLat?u(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var e=t.getCenter(),n=this.wrapLatLng(e),i=e.lat-n.lat,r=e.lng-n.lng;if(0===i&&0===r)return t;var o=t.getSouthWest(),a=t.getNorthEast();return new j(new F(o.lat-i,o.lng-r),new F(a.lat-i,a.lng-r))}},H=n({},V,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,i=t.lat*n,r=e.lat*n,o=Math.sin((e.lat-t.lat)*n/2),a=Math.sin((e.lng-t.lng)*n/2),s=o*o+Math.cos(i)*Math.cos(r)*a*a,u=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return this.R*u}}),U=6378137,K={R:U,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,t.lat),-n),r=Math.sin(i*e);return new I(this.R*t.lng*e,this.R*Math.log((1+r)/(1-r))/2)},unproject:function(t){var e=180/Math.PI;return new F((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:function(){var t=U*Math.PI;return new B([-t,-t],[t,t])}()};function Z(t,e,n,i){if(m(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=n,this._d=i}function q(t,e,n,i){return new Z(t,e,n,i)}Z.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new I((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var G=n({},H,{code:"EPSG:3857",projection:K,transformation:function(){var t=.5/(Math.PI*K.R);return q(t,.5,-t,.5)}()}),Y=n({},G,{code:"EPSG:900913"});function Q(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function $(t,e){var n,i,r,o,a,s,u="";for(n=0,r=t.length;n<r;n++){for(i=0,o=(a=t[n]).length;i<o;i++)u+=(i?"L":"M")+(s=a[i]).x+" "+s.y;u+=e?Nt.svg?"z":"x":""}return u||"M0 0"}var X=document.documentElement.style,J="ActiveXObject"in window,tt=J&&!document.addEventListener,et="msLaunchUri"in navigator&&!("documentMode"in document),nt=It("webkit"),it=It("android"),rt=It("android 2")||It("android 3"),ot=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),at=it&&It("Google")&&ot<537&&!("AudioNode"in window),st=!!window.opera,ut=!et&&It("chrome"),ct=It("gecko")&&!nt&&!st&&!J,lt=!ut&&It("safari"),ht=It("phantom"),ft="OTransition"in X,dt=0===navigator.platform.indexOf("Win"),pt=J&&"transition"in X,vt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!rt,gt="MozPerspective"in X,mt=!window.L_DISABLE_3D&&(pt||vt||gt)&&!ft&&!ht,yt="undefined"!==typeof orientation||It("mobile"),_t=yt&&nt,kt=yt&&vt,wt=!window.PointerEvent&&window.MSPointerEvent,bt=!(!window.PointerEvent&&!wt),St="ontouchstart"in window||!!window.TouchEvent,Tt=!window.L_NO_TOUCH&&(St||bt),xt=yt&&st,Ct=yt&&ct,Et=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Mt=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",c,e),window.removeEventListener("testPassiveEventSupport",c,e)}catch(n){}return t}(),Ot=!!document.createElement("canvas").getContext,Pt=!(!document.createElementNS||!Q("svg").createSVGRect),Lt=!!Pt&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(t.firstChild&&t.firstChild.namespaceURI)}(),At=!Pt&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"===typeof e.adj}catch(n){return!1}}();function It(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var Nt={ie:J,ielt9:tt,edge:et,webkit:nt,android:it,android23:rt,androidStock:at,opera:st,chrome:ut,gecko:ct,safari:lt,phantom:ht,opera12:ft,win:dt,ie3d:pt,webkit3d:vt,gecko3d:gt,any3d:mt,mobile:yt,mobileWebkit:_t,mobileWebkit3d:kt,msPointer:wt,pointer:bt,touch:Tt,touchNative:St,mobileOpera:xt,mobileGecko:Ct,retina:Et,passiveEvents:Mt,canvas:Ot,svg:Pt,vml:At,inlineSvg:Lt},Rt=Nt.msPointer?"MSPointerDown":"pointerdown",Bt=Nt.msPointer?"MSPointerMove":"pointermove",Dt=Nt.msPointer?"MSPointerUp":"pointerup",jt=Nt.msPointer?"MSPointerCancel":"pointercancel",Wt={touchstart:Rt,touchmove:Bt,touchend:Dt,touchcancel:jt},Ft={touchstart:Qt,touchmove:Yt,touchend:Yt,touchcancel:Yt},zt={},Vt=!1;function Ht(t,e,n){return"touchstart"===e&&Gt(),Ft[e]?(n=Ft[e].bind(this,n),t.addEventListener(Wt[e],n,!1),n):(console.warn("wrong event specified:",e),L.Util.falseFn)}function Ut(t,e,n){Wt[e]?t.removeEventListener(Wt[e],n,!1):console.warn("wrong event specified:",e)}function Kt(t){zt[t.pointerId]=t}function Zt(t){zt[t.pointerId]&&(zt[t.pointerId]=t)}function qt(t){delete zt[t.pointerId]}function Gt(){Vt||(document.addEventListener(Rt,Kt,!0),document.addEventListener(Bt,Zt,!0),document.addEventListener(Dt,qt,!0),document.addEventListener(jt,qt,!0),Vt=!0)}function Yt(t,e){if(e.pointerType!==(e.MSPOINTER_TYPE_MOUSE||"mouse")){for(var n in e.touches=[],zt)e.touches.push(zt[n]);e.changedTouches=[e],t(e)}}function Qt(t,e){e.MSPOINTER_TYPE_TOUCH&&e.pointerType===e.MSPOINTER_TYPE_TOUCH&&Ke(e),Yt(t,e)}function $t(t){var e,n,i={};for(n in t)e=t[n],i[n]=e&&e.bind?e.bind(t):e;return t=i,i.type="dblclick",i.detail=2,i.isTrusted=!1,i._simulated=!0,i}var Xt=200;function Jt(t,e){t.addEventListener("dblclick",e);var n,i=0;function r(t){if(1===t.detail){if("mouse"!==t.pointerType&&(!t.sourceCapabilities||t.sourceCapabilities.firesTouchEvents)){var r=Date.now();r-i<=Xt?2===++n&&e($t(t)):n=1,i=r}}else n=t.detail}return t.addEventListener("click",r),{dblclick:e,simDblclick:r}}function te(t,e){t.removeEventListener("dblclick",e.dblclick),t.removeEventListener("click",e.simDblclick)}var ee,ne,ie,re,oe,ae=Se(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),se=Se(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ue="webkitTransition"===se||"OTransition"===se?se+"End":"transitionend";function ce(t){return"string"===typeof t?document.getElementById(t):t}function le(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!n||"auto"===n)&&document.defaultView){var i=document.defaultView.getComputedStyle(t,null);n=i?i[e]:null}return"auto"===n?null:n}function he(t,e,n){var i=document.createElement(t);return i.className=e||"",n&&n.appendChild(i),i}function fe(t){var e=t.parentNode;e&&e.removeChild(t)}function de(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function pe(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function ve(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function ge(t,e){if(void 0!==t.classList)return t.classList.contains(e);var n=ke(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)}function me(t,e){if(void 0!==t.classList)for(var n=f(e),i=0,r=n.length;i<r;i++)t.classList.add(n[i]);else if(!ge(t,e)){var o=ke(t);_e(t,(o?o+" ":"")+e)}}function ye(t,e){void 0!==t.classList?t.classList.remove(e):_e(t,h((" "+ke(t)+" ").replace(" "+e+" "," ")))}function _e(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function ke(t){return t.correspondingElement&&(t=t.correspondingElement),void 0===t.className.baseVal?t.className:t.className.baseVal}function we(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&be(t,e)}function be(t,e){var n=!1,i="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(i)}catch(r){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+i+"(opacity="+e+")"}function Se(t){for(var e=document.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1}function Te(t,e,n){var i=e||new I(0,0);t.style[ae]=(Nt.ie3d?"translate("+i.x+"px,"+i.y+"px)":"translate3d("+i.x+"px,"+i.y+"px,0)")+(n?" scale("+n+")":"")}function xe(t,e){t._leaflet_pos=e,Nt.any3d?Te(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function Ce(t){return t._leaflet_pos||new I(0,0)}if("onselectstart"in document)ee=function(){Re(window,"selectstart",Ke)},ne=function(){De(window,"selectstart",Ke)};else{var Ee=Se(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ee=function(){if(Ee){var t=document.documentElement.style;ie=t[Ee],t[Ee]="none"}},ne=function(){Ee&&(document.documentElement.style[Ee]=ie,ie=void 0)}}function Me(){Re(window,"dragstart",Ke)}function Oe(){De(window,"dragstart",Ke)}function Pe(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(Le(),re=t,oe=t.style.outline,t.style.outline="none",Re(window,"keydown",Le))}function Le(){re&&(re.style.outline=oe,re=void 0,oe=void 0,De(window,"keydown",Le))}function Ae(t){do{t=t.parentNode}while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function Ie(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var Ne={__proto__:null,TRANSFORM:ae,TRANSITION:se,TRANSITION_END:ue,get:ce,getStyle:le,create:he,remove:fe,empty:de,toFront:pe,toBack:ve,hasClass:ge,addClass:me,removeClass:ye,setClass:_e,getClass:ke,setOpacity:we,testProp:Se,setTransform:Te,setPosition:xe,getPosition:Ce,get disableTextSelection(){return ee},get enableTextSelection(){return ne},disableImageDrag:Me,enableImageDrag:Oe,preventOutline:Pe,restoreOutline:Le,getSizedParentNode:Ae,getScale:Ie};function Re(t,e,n,i){if(e&&"object"===typeof e)for(var r in e)Fe(t,r,e[r],n);else for(var o=0,a=(e=f(e)).length;o<a;o++)Fe(t,e[o],n,i);return this}var Be="_leaflet_events";function De(t,e,n,i){if(1===arguments.length)je(t),delete t[Be];else if(e&&"object"===typeof e)for(var r in e)ze(t,r,e[r],n);else if(e=f(e),2===arguments.length)je(t,(function(t){return-1!==y(e,t)}));else for(var o=0,a=e.length;o<a;o++)ze(t,e[o],n,i);return this}function je(t,e){for(var n in t[Be]){var i=n.split(/\d/)[0];e&&!e(i)||ze(t,i,null,null,n)}}var We={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Fe(t,e,n,i){var r=e+a(n)+(i?"_"+a(i):"");if(t[Be]&&t[Be][r])return this;var o=function(e){return n.call(i||t,e||window.event)},s=o;!Nt.touchNative&&Nt.pointer&&0===e.indexOf("touch")?o=Ht(t,e,o):Nt.touch&&"dblclick"===e?o=Jt(t,o):"addEventListener"in t?"touchstart"===e||"touchmove"===e||"wheel"===e||"mousewheel"===e?t.addEventListener(We[e]||e,o,!!Nt.passiveEvents&&{passive:!1}):"mouseenter"===e||"mouseleave"===e?(o=function(e){e=e||window.event,Qe(t,e)&&s(e)},t.addEventListener(We[e],o,!1)):t.addEventListener(e,s,!1):t.attachEvent("on"+e,o),t[Be]=t[Be]||{},t[Be][r]=o}function ze(t,e,n,i,r){r=r||e+a(n)+(i?"_"+a(i):"");var o=t[Be]&&t[Be][r];if(!o)return this;!Nt.touchNative&&Nt.pointer&&0===e.indexOf("touch")?Ut(t,e,o):Nt.touch&&"dblclick"===e?te(t,o):"removeEventListener"in t?t.removeEventListener(We[e]||e,o,!1):t.detachEvent("on"+e,o),t[Be][r]=null}function Ve(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function He(t){return Fe(t,"wheel",Ve),this}function Ue(t){return Re(t,"mousedown touchstart dblclick contextmenu",Ve),t._leaflet_disable_click=!0,this}function Ke(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Ze(t){return Ke(t),Ve(t),this}function qe(t,e){if(!e)return new I(t.clientX,t.clientY);var n=Ie(e),i=n.boundingClientRect;return new I((t.clientX-i.left)/n.x-e.clientLeft,(t.clientY-i.top)/n.y-e.clientTop)}var Ge=Nt.win&&Nt.chrome?2*window.devicePixelRatio:Nt.gecko?window.devicePixelRatio:1;function Ye(t){return Nt.edge?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/Ge:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}function Qe(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(i){return!1}return n!==t}var $e={__proto__:null,on:Re,off:De,stopPropagation:Ve,disableScrollPropagation:He,disableClickPropagation:Ue,preventDefault:Ke,stop:Ze,getMousePosition:qe,getWheelDelta:Ye,isExternalTarget:Qe,addListener:Re,removeListener:De},Xe=A.extend({run:function(t,e,n,i){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=Ce(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=x(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,n=1e3*this._duration;e<n?this._runFrame(this._easeOut(e/n),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));e&&n._round(),xe(this._el,n),this.fire("step")},_complete:function(){C(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Je=A.extend({options:{crs:G,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=d(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=r(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(z(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=se&&Nt.any3d&&!Nt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Re(this._proxy,ue,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,i){return e=void 0===e?this._zoom:this._limitZoom(e),t=this._limitCenter(z(t),e,this.options.maxBounds),i=i||{},this._stop(),this._loaded&&!i.reset&&!0!==i&&(void 0!==i.animate&&(i.zoom=n({animate:i.animate},i.zoom),i.pan=n({animate:i.animate,duration:i.duration},i.pan)),this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,i.zoom):this._tryAnimatedPan(t,i.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(t,e),this)},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(Nt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(Nt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,n){var i=this.getZoomScale(e),r=this.getSize().divideBy(2),o=(t instanceof I?t:this.latLngToContainerPoint(t)).subtract(r).multiplyBy(1-1/i),a=this.containerPointToLatLng(r.add(o));return this.setView(a,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():W(t);var n=R(e.paddingTopLeft||e.padding||[0,0]),i=R(e.paddingBottomRight||e.padding||[0,0]),r=this.getBoundsZoom(t,!1,n.add(i));if((r="number"===typeof e.maxZoom?Math.min(e.maxZoom,r):r)===1/0)return{center:t.getCenter(),zoom:r};var o=i.subtract(n).divideBy(2),a=this.project(t.getSouthWest(),r),s=this.project(t.getNorthEast(),r);return{center:this.unproject(a.add(s).divideBy(2).add(o),r),zoom:r}},fitBounds:function(t,e){if(!(t=W(t)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(e=e||{},!(t=R(t).round()).x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Xe,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){me(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,n){if(!1===(n=n||{}).animate||!Nt.any3d)return this.setView(t,e,n);this._stop();var i=this.project(this.getCenter()),r=this.project(t),o=this.getSize(),a=this._zoom;t=z(t),e=void 0===e?a:e;var s=Math.max(o.x,o.y),u=s*this.getZoomScale(a,e),c=r.distanceTo(i)||1,l=1.42,h=l*l;function f(t){var e=(u*u-s*s+(t?-1:1)*h*h*c*c)/(2*(t?u:s)*h*c),n=Math.sqrt(e*e+1)-e;return n<1e-9?-18:Math.log(n)}function d(t){return(Math.exp(t)-Math.exp(-t))/2}function p(t){return(Math.exp(t)+Math.exp(-t))/2}function v(t){return d(t)/p(t)}var g=f(0);function m(t){return s*(p(g)/p(g+l*t))}function y(t){return s*(p(g)*v(g+l*t)-d(g))/h}function _(t){return 1-Math.pow(1-t,1.5)}var k=Date.now(),w=(f(1)-g)/l,b=n.duration?1e3*n.duration:1e3*w*.8;function S(){var n=(Date.now()-k)/b,o=_(n)*w;n<=1?(this._flyToFrame=x(S,this),this._move(this.unproject(i.add(r.subtract(i).multiplyBy(y(o)/c)),a),this.getScaleZoom(s/m(o),a),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}return this._moveStart(!0,n.noMoveStart),S.call(this),this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)},setMaxBounds:function(t){return(t=W(t)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var n=this.getCenter(),i=this._limitCenter(n,this._zoom,W(t));return n.equals(i)||this.panTo(i,e),this._enforcingBounds=!1,this},panInside:function(t,e){var n=R((e=e||{}).paddingTopLeft||e.padding||[0,0]),i=R(e.paddingBottomRight||e.padding||[0,0]),r=this.project(this.getCenter()),o=this.project(t),a=this.getPixelBounds(),s=D([a.min.add(n),a.max.subtract(i)]),u=s.getSize();if(!s.contains(o)){this._enforcingBounds=!0;var c=o.subtract(s.getCenter()),l=s.extend(o).getSize().subtract(u);r.x+=c.x<0?-l.x:l.x,r.y+=c.y<0?-l.y:l.y,this.panTo(this.unproject(r),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=n({animate:!1,pan:!0},!0===t?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var i=this.getSize(),o=e.divideBy(2).round(),a=i.divideBy(2).round(),s=o.subtract(a);return s.x||s.y?(t.animate&&t.pan?this.panBy(s):(t.pan&&this._rawPanBy(s),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(r(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:i})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=n({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=r(this._handleGeolocationResponse,this),i=r(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,i,t):navigator.geolocation.getCurrentPosition(e,i,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var e=new F(t.coords.latitude,t.coords.longitude),n=e.toBounds(2*t.coords.accuracy),i=this._locateOptions;if(i.setView){var r=this.getBoundsZoom(n);this.setView(e,i.maxZoom?Math.min(r,i.maxZoom):r)}var o={latlng:e,bounds:n,timestamp:t.timestamp};for(var a in t.coords)"number"===typeof t.coords[a]&&(o[a]=t.coords[a]);this.fire("locationfound",o)}},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(e){this._container._leaflet_id=void 0,this._containerId=void 0}var t;for(t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),fe(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(C(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)fe(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var n=he("div","leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),e||this._mapPane);return t&&(this._panes[t]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new j(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=W(t),n=R(n||[0,0]);var i=this.getZoom()||0,r=this.getMinZoom(),o=this.getMaxZoom(),a=t.getNorthWest(),s=t.getSouthEast(),u=this.getSize().subtract(n),c=D(this.project(s,i),this.project(a,i)).getSize(),l=Nt.any3d?this.options.zoomSnap:1,h=u.x/c.x,f=u.y/c.y,d=e?Math.max(h,f):Math.min(h,f);return i=this.getScaleZoom(d,i),l&&(i=Math.round(i/(l/100))*(l/100),i=e?Math.ceil(i/l)*l:Math.floor(i/l)*l),Math.max(r,Math.min(o,i))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new I(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new B(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"===typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;return e=void 0===e?this._zoom:e,n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs;e=void 0===e?this._zoom:e;var i=n.zoom(t*n.scale(e));return isNaN(i)?1/0:i},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(z(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(R(t),e)},layerPointToLatLng:function(t){var e=R(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(z(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(z(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(W(t))},distance:function(t,e){return this.options.crs.distance(z(t),z(e))},containerPointToLayerPoint:function(t){return R(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return R(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(R(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(z(t)))},mouseEventToContainerPoint:function(t){return qe(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=ce(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");Re(e,"scroll",this._onScroll,this),this._containerId=a(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&Nt.any3d,me(t,"leaflet-container"+(Nt.touch?" leaflet-touch":"")+(Nt.retina?" leaflet-retina":"")+(Nt.ielt9?" leaflet-oldie":"")+(Nt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=le(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),xe(this._mapPane,new I(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(me(t.markerPane,"leaflet-zoom-hide"),me(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e){xe(this._mapPane,new I(0,0));var n=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var i=this._zoom!==e;this._moveStart(i,!1)._move(t,e)._moveEnd(i),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,n,i){void 0===e&&(e=this._zoom);var r=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),i?n&&n.pinch&&this.fire("zoom",n):((r||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return C(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){xe(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[a(this._container)]=this;var e=t?De:Re;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),Nt.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){C(this._resizeRequest),this._resizeRequest=x((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var n,i=[],r="mouseout"===e||"mouseover"===e,o=t.target||t.srcElement,s=!1;o;){if((n=this._targets[a(o)])&&("click"===e||"preclick"===e)&&this._draggableMoved(n)){s=!0;break}if(n&&n.listens(e,!0)){if(r&&!Qe(o,t))break;if(i.push(n),r)break}if(o===this._container)break;o=o.parentNode}return i.length||s||r||!this.listens(e,!0)||(i=[this]),i},_isClickDisabled:function(t){for(;t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var e=t.target||t.srcElement;if(!(!this._loaded||e._leaflet_disable_events||"click"===t.type&&this._isClickDisabled(e))){var n=t.type;"mousedown"===n&&Pe(e),this._fireDOMEvent(t,n)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,i){if("click"===t.type){var r=n({},t);r.type="preclick",this._fireDOMEvent(r,r.type,i)}var o=this._findEventTargets(t,e);if(i){for(var a=[],s=0;s<i.length;s++)i[s].listens(e,!0)&&a.push(i[s]);o=a.concat(o)}if(o.length){"contextmenu"===e&&Ke(t);var u=o[0],c={originalEvent:t};if("keypress"!==t.type&&"keydown"!==t.type&&"keyup"!==t.type){var l=u.getLatLng&&(!u._radius||u._radius<=10);c.containerPoint=l?this.latLngToContainerPoint(u.getLatLng()):this.mouseEventToContainerPoint(t),c.layerPoint=this.containerPointToLayerPoint(c.containerPoint),c.latlng=l?u.getLatLng():this.layerPointToLatLng(c.layerPoint)}for(s=0;s<o.length;s++)if(o[s].fire(e,c,!0),c.originalEvent._stopped||!1===o[s].options.bubblingMouseEvents&&-1!==y(this._mouseEvents,e))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return Ce(this._mapPane)||new I(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(i)},_latLngBoundsToNewLayerBounds:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return D([this.project(t.getSouthWest(),e)._subtract(i),this.project(t.getNorthWest(),e)._subtract(i),this.project(t.getSouthEast(),e)._subtract(i),this.project(t.getNorthEast(),e)._subtract(i)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var i=this.project(t,e),r=this.getSize().divideBy(2),o=new B(i.subtract(r),i.add(r)),a=this._getBoundsOffset(o,n,e);return a.round().equals([0,0])?t:this.unproject(i.add(a),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),i=new B(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(i,e))},_getBoundsOffset:function(t,e,n){var i=D(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),r=i.min.subtract(t.min),o=i.max.subtract(t.max);return new I(this._rebound(r.x,-o.x),this._rebound(r.y,-o.y))},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),i=Nt.any3d?this.options.zoomSnap:1;return i&&(t=Math.round(t/i)*i),Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ye(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._trunc();return!(!0!==(e&&e.animate)&&!this.getSize().contains(n))&&(this.panBy(n,e),!0)},_createAnimProxy:function(){var t=this._proxy=he("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",(function(t){var e=ae,n=this._proxy.style[e];Te(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),n===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){fe(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();Te(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(e),r=this._getCenterOffset(t)._divideBy(1-1/i);return!(!0!==n.animate&&!this.getSize().contains(r))&&(x((function(){this._moveStart(!0,!1)._animateZoom(t,e,!0)}),this),!0)},_animateZoom:function(t,e,n,i){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,me(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:i}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(r(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ye(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function tn(t,e){return new Je(t,e)}var en=M.extend({options:{position:"topright"},initialize:function(t){d(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),i=t._controlCorners[n];return me(e,"leaflet-control"),-1!==n.indexOf("bottom")?i.insertBefore(e,i.firstChild):i.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(fe(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),nn=function(t){return new en(t)};Je.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",n=this._controlContainer=he("div",e+"control-container",this._container);function i(i,r){var o=e+i+" "+e+r;t[i+r]=he("div",o,n)}i("top","left"),i("top","right"),i("bottom","left"),i("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)fe(this._controlCorners[t]);fe(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var rn=en.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,n,i){return n<i?-1:i<n?1:0}},initialize:function(t,e,n){for(var i in d(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,t)this._addLayer(t[i],i);for(i in e)this._addLayer(e[i],i,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return en.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(a(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){me(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(me(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):ye(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ye(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=he("div",t),n=this.options.collapsed;e.setAttribute("aria-haspopup",!0),Ue(e),He(e);var i=this._section=he("section",t+"-list");n&&(this._map.on("click",this.collapse,this),Re(e,{mouseenter:function(){Re(i,"click",Ke),this.expand(),setTimeout((function(){De(i,"click",Ke)}))},mouseleave:this.collapse},this));var r=this._layersLink=he("a",t+"-toggle",e);r.href="#",r.title="Layers",r.setAttribute("role","button"),Re(r,"click",Ke),Re(r,"focus",this.expand,this),n||this.expand(),this._baseLayersList=he("div",t+"-base",i),this._separator=he("div",t+"-separator",i),this._overlaysList=he("div",t+"-overlays",i),e.appendChild(i)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&a(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,n){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:n}),this.options.sortLayers&&this._layers.sort(r((function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)}),this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;de(this._baseLayersList),de(this._overlaysList),this._layerControlInputs=[];var t,e,n,i,r=0;for(n=0;n<this._layers.length;n++)i=this._layers[n],this._addItem(i),e=e||i.overlay,t=t||!i.overlay,r+=i.overlay?0:1;return this.options.hideSingleBase&&(t=t&&r>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(a(t.target)),n=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",i=document.createElement("div");return i.innerHTML=n,i.firstChild},_addItem:function(t){var e,n=document.createElement("label"),i=this._map.hasLayer(t.layer);t.overlay?((e=document.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=i):e=this._createRadioElement("leaflet-base-layers_"+a(this),i),this._layerControlInputs.push(e),e.layerId=a(t.layer),Re(e,"click",this._onInputClick,this);var r=document.createElement("span");r.innerHTML=" "+t.name;var o=document.createElement("span");return n.appendChild(o),o.appendChild(e),o.appendChild(r),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var t,e,n=this._layerControlInputs,i=[],r=[];this._handlingClick=!0;for(var o=n.length-1;o>=0;o--)t=n[o],e=this._getLayer(t.layerId).layer,t.checked?i.push(e):t.checked||r.push(e);for(o=0;o<r.length;o++)this._map.hasLayer(r[o])&&this._map.removeLayer(r[o]);for(o=0;o<i.length;o++)this._map.hasLayer(i[o])||this._map.addLayer(i[o]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,n=this._layerControlInputs,i=this._map.getZoom(),r=n.length-1;r>=0;r--)t=n[r],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&i<e.options.minZoom||void 0!==e.options.maxZoom&&i>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this}}),on=function(t,e,n){return new rn(t,e,n)},an=en.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=he("div",e+" leaflet-bar"),i=this.options;return this._zoomInButton=this._createButton(i.zoomInText,i.zoomInTitle,e+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(i.zoomOutText,i.zoomOutTitle,e+"-out",n,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,n,i,r){var o=he("a",n,i);return o.innerHTML=t,o.href="#",o.title=e,o.setAttribute("role","button"),o.setAttribute("aria-label",e),Ue(o),Re(o,"click",Ze),Re(o,"click",r,this),Re(o,"click",this._refocusOnMap,this),o},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";ye(this._zoomInButton,e),ye(this._zoomOutButton,e),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(me(this._zoomOutButton,e),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(me(this._zoomInButton,e),this._zoomInButton.setAttribute("aria-disabled","true"))}});Je.mergeOptions({zoomControl:!0}),Je.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new an,this.addControl(this.zoomControl))}));var sn=function(t){return new an(t)},un=en.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",n=he("div",e),i=this.options;return this._addScales(i,e+"-line",n),t.on(i.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),n},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=he("div",e,n)),t.imperial&&(this._iScale=he("div",e,n))},_update:function(){var t=this._map,e=t.getSize().y/2,n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),n=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,n,e/t)},_updateImperial:function(t){var e,n,i,r=3.2808399*t;r>5280?(e=r/5280,n=this._getRoundNum(e),this._updateScale(this._iScale,n+" mi",n/e)):(i=this._getRoundNum(r),this._updateScale(this._iScale,i+" ft",i/r))},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return e*(n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),cn=function(t){return new un(t)},ln='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',hn=en.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Nt.inlineSvg?ln+" ":"")+"Leaflet</a>"},initialize:function(t){d(this,t),this._attributions={}},onAdd:function(t){for(var e in t.attributionControl=this,this._container=he("div","leaflet-control-attribution"),Ue(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",(function(){this.removeAttribution(t.layer.getAttribution())}),this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(' <span aria-hidden="true">|</span> ')}}});Je.mergeOptions({attributionControl:!0}),Je.addInitHook((function(){this.options.attributionControl&&(new hn).addTo(this)}));var fn=function(t){return new hn(t)};en.Layers=rn,en.Zoom=an,en.Scale=un,en.Attribution=hn,nn.layers=on,nn.zoom=sn,nn.scale=cn,nn.attribution=fn;var dn=M.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});dn.addTo=function(t,e){return t.addHandler(e,this),this};var pn,vn={Events:P},gn=Nt.touch?"touchstart mousedown":"mousedown",mn=A.extend({options:{clickTolerance:3},initialize:function(t,e,n,i){d(this,i),this._element=t,this._dragStartTarget=e||t,this._preventOutline=n},enable:function(){this._enabled||(Re(this._dragStartTarget,gn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(mn._dragging===this&&this.finishDrag(!0),De(this._dragStartTarget,gn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!ge(this._element,"leaflet-zoom-anim")))if(t.touches&&1!==t.touches.length)mn._dragging===this&&this.finishDrag();else if(!(mn._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches)&&(mn._dragging=this,this._preventOutline&&Pe(this._element),Me(),ee(),!this._moving)){this.fire("down");var e=t.touches?t.touches[0]:t,n=Ae(this._element);this._startPoint=new I(e.clientX,e.clientY),this._startPos=Ce(this._element),this._parentScale=Ie(n);var i="mousedown"===t.type;Re(document,i?"mousemove":"touchmove",this._onMove,this),Re(document,i?"mouseup":"touchend touchcancel",this._onUp,this)}},_onMove:function(t){if(this._enabled)if(t.touches&&t.touches.length>1)this._moved=!0;else{var e=t.touches&&1===t.touches.length?t.touches[0]:t,n=new I(e.clientX,e.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,Ke(t),this._moved||(this.fire("dragstart"),this._moved=!0,me(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),me(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,this._lastEvent=t,this._updatePosition()))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),xe(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){ye(document.body,"leaflet-dragging"),this._lastTarget&&(ye(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),De(document,"mousemove touchmove",this._onMove,this),De(document,"mouseup touchend touchcancel",this._onUp,this),Oe(),ne(),this._moved&&this._moving&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,mn._dragging=!1}});function yn(t,e){if(!e||!t.length)return t.slice();var n=e*e;return t=wn(t=Sn(t,n),n)}function _n(t,e,n){return Math.sqrt(Mn(t,e,n,!0))}function kn(t,e,n){return Mn(t,e,n)}function wn(t,e){var n=t.length,i=new(typeof Uint8Array!==void 0+""?Uint8Array:Array)(n);i[0]=i[n-1]=1,bn(t,i,e,0,n-1);var r,o=[];for(r=0;r<n;r++)i[r]&&o.push(t[r]);return o}function bn(t,e,n,i,r){var o,a,s,u=0;for(a=i+1;a<=r-1;a++)(s=Mn(t[a],t[i],t[r],!0))>u&&(o=a,u=s);u>n&&(e[o]=1,bn(t,e,n,i,o),bn(t,e,n,o,r))}function Sn(t,e){for(var n=[t[0]],i=1,r=0,o=t.length;i<o;i++)En(t[i],t[r])>e&&(n.push(t[i]),r=i);return r<o-1&&n.push(t[o-1]),n}function Tn(t,e,n,i,r){var o,a,s,u=i?pn:Cn(t,n),c=Cn(e,n);for(pn=c;;){if(!(u|c))return[t,e];if(u&c)return!1;s=Cn(a=xn(t,e,o=u||c,n,r),n),o===u?(t=a,u=s):(e=a,c=s)}}function xn(t,e,n,i,r){var o,a,s=e.x-t.x,u=e.y-t.y,c=i.min,l=i.max;return 8&n?(o=t.x+s*(l.y-t.y)/u,a=l.y):4&n?(o=t.x+s*(c.y-t.y)/u,a=c.y):2&n?(o=l.x,a=t.y+u*(l.x-t.x)/s):1&n&&(o=c.x,a=t.y+u*(c.x-t.x)/s),new I(o,a,r)}function Cn(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n}function En(t,e){var n=e.x-t.x,i=e.y-t.y;return n*n+i*i}function Mn(t,e,n,i){var r,o=e.x,a=e.y,s=n.x-o,u=n.y-a,c=s*s+u*u;return c>0&&((r=((t.x-o)*s+(t.y-a)*u)/c)>1?(o=n.x,a=n.y):r>0&&(o+=s*r,a+=u*r)),s=t.x-o,u=t.y-a,i?s*s+u*u:new I(o,a)}function On(t){return!m(t[0])||"object"!==typeof t[0][0]&&"undefined"!==typeof t[0][0]}function Pn(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),On(t)}var Ln={__proto__:null,simplify:yn,pointToSegmentDistance:_n,closestPointOnSegment:kn,clipSegment:Tn,_getEdgeIntersection:xn,_getBitCode:Cn,_sqClosestPointOnSegment:Mn,isFlat:On,_flat:Pn};function An(t,e,n){var i,r,o,a,s,u,c,l,h,f=[1,4,2,8];for(r=0,c=t.length;r<c;r++)t[r]._code=Cn(t[r],e);for(a=0;a<4;a++){for(l=f[a],i=[],r=0,o=(c=t.length)-1;r<c;o=r++)s=t[r],u=t[o],s._code&l?u._code&l||((h=xn(u,s,l,e,n))._code=Cn(h,e),i.push(h)):(u._code&l&&((h=xn(u,s,l,e,n))._code=Cn(h,e),i.push(h)),i.push(s));t=i}return t}var In={__proto__:null,clipPolygon:An},Nn={project:function(t){return new I(t.lng,t.lat)},unproject:function(t){return new F(t.y,t.x)},bounds:new B([-180,-90],[180,90])},Rn={R:6378137,R_MINOR:6356752.314245179,bounds:new B([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,n=this.R,i=t.lat*e,r=this.R_MINOR/n,o=Math.sqrt(1-r*r),a=o*Math.sin(i),s=Math.tan(Math.PI/4-i/2)/Math.pow((1-a)/(1+a),o/2);return i=-n*Math.log(Math.max(s,1e-10)),new I(t.lng*e*n,i)},unproject:function(t){for(var e,n=180/Math.PI,i=this.R,r=this.R_MINOR/i,o=Math.sqrt(1-r*r),a=Math.exp(-t.y/i),s=Math.PI/2-2*Math.atan(a),u=0,c=.1;u<15&&Math.abs(c)>1e-7;u++)e=o*Math.sin(s),e=Math.pow((1-e)/(1+e),o/2),s+=c=Math.PI/2-2*Math.atan(a*e)-s;return new F(s*n,t.x*n/i)}},Bn={__proto__:null,LonLat:Nn,Mercator:Rn,SphericalMercator:K},Dn=n({},H,{code:"EPSG:3395",projection:Rn,transformation:function(){var t=.5/(Math.PI*Rn.R);return q(t,.5,-t,.5)}()}),jn=n({},H,{code:"EPSG:4326",projection:Nn,transformation:q(1/180,1,-1/180,.5)}),Wn=n({},V,{projection:Nn,transformation:q(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,i=e.lat-t.lat;return Math.sqrt(n*n+i*i)},infinite:!0});V.Earth=H,V.EPSG3395=Dn,V.EPSG3857=G,V.EPSG900913=Y,V.EPSG4326=jn,V.Simple=Wn;var Fn=A.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[a(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[a(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var n=this.getEvents();e.on(n,this),this.once("remove",(function(){e.off(n,this)}),this)}this.onAdd(e),this.fire("add"),e.fire("layeradd",{layer:this})}}});Je.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=a(t);return this._layers[e]||(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t)),this},removeLayer:function(t){var e=a(t);return this._layers[e]?(this._loaded&&t.onRemove(this),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return a(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},_addLayers:function(t){for(var e=0,n=(t=t?m(t)?t:[t]:[]).length;e<n;e++)this.addLayer(t[e])},_addZoomLimit:function(t){isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[a(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=a(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,n=this._getZoomSpan();for(var i in this._zoomBoundLayers){var r=this._zoomBoundLayers[i].options;t=void 0===r.minZoom?t:Math.min(t,r.minZoom),e=void 0===r.maxZoom?e:Math.max(e,r.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var zn=Fn.extend({initialize:function(t,e){var n,i;if(d(this,e),this._layers={},t)for(n=0,i=t.length;n<i;n++)this.addLayer(t[n])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return("number"===typeof t?t:this.getLayerId(t))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,n,i=Array.prototype.slice.call(arguments,1);for(e in this._layers)(n=this._layers[e])[t]&&n[t].apply(n,i);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return a(t)}}),Vn=function(t,e){return new zn(t,e)},Hn=zn.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),zn.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),zn.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new j;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),Un=function(t,e){return new Hn(t,e)},Kn=M.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){d(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var i=this._createImg(n,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(i,t),(this.options.crossOrigin||""===this.options.crossOrigin)&&(i.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),i},_setIconStyles:function(t,e){var n=this.options,i=n[e+"Size"];"number"===typeof i&&(i=[i,i]);var r=R(i),o=R("shadow"===e&&n.shadowAnchor||n.iconAnchor||r&&r.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(n.className||""),o&&(t.style.marginLeft=-o.x+"px",t.style.marginTop=-o.y+"px"),r&&(t.style.width=r.x+"px",t.style.height=r.y+"px")},_createImg:function(t,e){return(e=e||document.createElement("img")).src=t,e},_getIconUrl:function(t){return Nt.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function Zn(t){return new Kn(t)}var qn=Kn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return"string"!==typeof qn.imagePath&&(qn.imagePath=this._detectIconPath()),(this.options.imagePath||qn.imagePath)+Kn.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var e=function(t,e,n){var i=e.exec(t);return i&&i[n]};return(t=e(t,/^url\((['"])?(.+)\1\)$/,2))&&e(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=he("div","leaflet-default-icon-path",document.body),e=le(t,"background-image")||le(t,"backgroundImage");if(document.body.removeChild(t),e=this._stripUrl(e))return e;var n=document.querySelector('link[href$="leaflet.css"]');return n?n.href.substring(0,n.href.length-"leaflet.css".length-1):""}}),Gn=dn.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new mn(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),me(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ye(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,n=e._map,i=this._marker.options.autoPanSpeed,r=this._marker.options.autoPanPadding,o=Ce(e._icon),a=n.getPixelBounds(),s=n.getPixelOrigin(),u=D(a.min._subtract(s).add(r),a.max._subtract(s).subtract(r));if(!u.contains(o)){var c=R((Math.max(u.max.x,o.x)-u.max.x)/(a.max.x-u.max.x)-(Math.min(u.min.x,o.x)-u.min.x)/(a.min.x-u.min.x),(Math.max(u.max.y,o.y)-u.max.y)/(a.max.y-u.max.y)-(Math.min(u.min.y,o.y)-u.min.y)/(a.min.y-u.min.y)).multiplyBy(i);n.panBy(c,{animate:!1}),this._draggable._newPos._add(c),this._draggable._startPos._add(c),xe(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=x(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(C(this._panRequest),this._panRequest=x(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,n=e._shadow,i=Ce(e._icon),r=e._map.layerPointToLatLng(i);n&&xe(n,i),e._latlng=r,t.latlng=r,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){C(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Yn=Fn.extend({options:{icon:new qn,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){d(this,e),this._latlng=z(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=z(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=t.icon.createIcon(this._icon),i=!1;n!==this._icon&&(this._icon&&this._removeIcon(),i=!0,t.title&&(n.title=t.title),"IMG"===n.tagName&&(n.alt=t.alt||"")),me(n,e),t.keyboard&&(n.tabIndex="0",n.setAttribute("role","button")),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Re(n,"focus",this._panOnFocus,this);var r=t.icon.createShadow(this._shadow),o=!1;r!==this._shadow&&(this._removeShadow(),o=!0),r&&(me(r,e),r.alt=""),this._shadow=r,t.opacity<1&&this._updateOpacity(),i&&this.getPane().appendChild(this._icon),this._initInteraction(),r&&o&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&De(this._icon,"focus",this._panOnFocus,this),fe(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&fe(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&xe(this._icon,t),this._shadow&&xe(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(me(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Gn)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Gn(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&we(this._icon,t),this._shadow&&we(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var e=this.options.icon.options,n=e.iconSize?R(e.iconSize):R(0,0),i=e.iconAnchor?R(e.iconAnchor):R(0,0);t.panInside(this._latlng,{paddingTopLeft:i,paddingBottomRight:n.subtract(i)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Qn(t,e){return new Yn(t,e)}var $n=Fn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return d(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Xn=$n.extend({options:{fill:!0,radius:10},initialize:function(t,e){d(this,e),this._latlng=z(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=z(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return $n.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),i=[t+n,e+n];this._pxBounds=new B(this._point.subtract(i),this._point.add(i))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Jn(t,e){return new Xn(t,e)}var ti=Xn.extend({initialize:function(t,e,i){if("number"===typeof e&&(e=n({},i,{radius:e})),d(this,e),this._latlng=z(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new j(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:$n.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,n=this._map,i=n.options.crs;if(i.distance===H.distance){var r=Math.PI/180,o=this._mRadius/H.R/r,a=n.project([e+o,t]),s=n.project([e-o,t]),u=a.add(s).divideBy(2),c=n.unproject(u).lat,l=Math.acos((Math.cos(o*r)-Math.sin(e*r)*Math.sin(c*r))/(Math.cos(e*r)*Math.cos(c*r)))/r;(isNaN(l)||0===l)&&(l=o/Math.cos(Math.PI/180*e)),this._point=u.subtract(n.getPixelOrigin()),this._radius=isNaN(l)?0:u.x-n.project([c,t-l]).x,this._radiusY=u.y-a.y}else{var h=i.unproject(i.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(h).x}this._updateBounds()}});function ei(t,e,n){return new ti(t,e,n)}var ni=$n.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){d(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,n,i=1/0,r=null,o=Mn,a=0,s=this._parts.length;a<s;a++)for(var u=this._parts[a],c=1,l=u.length;c<l;c++){var h=o(t,e=u[c-1],n=u[c],!0);h<i&&(i=h,r=o(t,e,n))}return r&&(r.distance=Math.sqrt(i)),r},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,i,r,o,a,s=this._rings[0],u=s.length;if(!u)return null;for(t=0,e=0;t<u-1;t++)e+=s[t].distanceTo(s[t+1])/2;if(0===e)return this._map.layerPointToLatLng(s[0]);for(t=0,i=0;t<u-1;t++)if(r=s[t],o=s[t+1],(i+=n=r.distanceTo(o))>e)return a=(i-e)/n,this._map.layerPointToLatLng([o.x-a*(o.x-r.x),o.y-a*(o.y-r.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=z(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new j,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return On(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=On(t),i=0,r=t.length;i<r;i++)n?(e[i]=z(t[i]),this._bounds.extend(e[i])):e[i]=this._convertLatLngs(t[i]);return e},_project:function(){var t=new B;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new I(t,t);this._rawPxBounds&&(this._pxBounds=new B([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)]))},_projectLatlngs:function(t,e,n){var i,r,o=t[0]instanceof F,a=t.length;if(o){for(r=[],i=0;i<a;i++)r[i]=this._map.latLngToLayerPoint(t[i]),n.extend(r[i]);e.push(r)}else for(i=0;i<a;i++)this._projectLatlngs(t[i],e,n)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var e,n,i,r,o,a,s,u=this._parts;for(e=0,i=0,r=this._rings.length;e<r;e++)for(n=0,o=(s=this._rings[e]).length;n<o-1;n++)(a=Tn(s[n],s[n+1],t,n,!0))&&(u[i]=u[i]||[],u[i].push(a[0]),a[1]===s[n+1]&&n!==o-2||(u[i].push(a[1]),i++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,n=0,i=t.length;n<i;n++)t[n]=yn(t[n],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var n,i,r,o,a,s,u=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(n=0,o=this._parts.length;n<o;n++)for(i=0,r=(a=(s=this._parts[n]).length)-1;i<a;r=i++)if((e||0!==i)&&_n(t,s[r],s[i])<=u)return!0;return!1}});function ii(t,e){return new ni(t,e)}ni._flat=Pn;var ri=ni.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,i,r,o,a,s,u,c=this._rings[0],l=c.length;if(!l)return null;for(o=a=s=0,t=0,e=l-1;t<l;e=t++)n=c[t],i=c[e],r=n.y*i.x-i.y*n.x,a+=(n.x+i.x)*r,s+=(n.y+i.y)*r,o+=3*r;return u=0===o?c[0]:[a/o,s/o],this._map.layerPointToLatLng(u)},_convertLatLngs:function(t){var e=ni.prototype._convertLatLngs.call(this,t),n=e.length;return n>=2&&e[0]instanceof F&&e[0].equals(e[n-1])&&e.pop(),e},_setLatLngs:function(t){ni.prototype._setLatLngs.call(this,t),On(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return On(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new I(e,e);if(t=new B(t.min.subtract(n),t.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var i,r=0,o=this._rings.length;r<o;r++)(i=An(this._rings[r],t,!0)).length&&this._parts.push(i)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,n,i,r,o,a,s,u,c=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(r=0,s=this._parts.length;r<s;r++)for(o=0,a=(u=(e=this._parts[r]).length)-1;o<u;a=o++)n=e[o],i=e[a],n.y>t.y!==i.y>t.y&&t.x<(i.x-n.x)*(t.y-n.y)/(i.y-n.y)+n.x&&(c=!c);return c||ni.prototype._containsPoint.call(this,t,!0)}});function oi(t,e){return new ri(t,e)}var ai=Hn.extend({initialize:function(t,e){d(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,i,r=m(t)?t:t.features;if(r){for(e=0,n=r.length;e<n;e++)((i=r[e]).geometries||i.geometry||i.features||i.coordinates)&&this.addData(i);return this}var o=this.options;if(o.filter&&!o.filter(t))return this;var a=si(t,o);return a?(a.feature=pi(t),a.defaultOptions=a.options,this.resetStyle(a),o.onEachFeature&&o.onEachFeature(t,a),this.addLayer(a)):this},resetStyle:function(t){return void 0===t?this.eachLayer(this.resetStyle,this):(t.options=n({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer((function(e){this._setLayerStyle(e,t)}),this)},_setLayerStyle:function(t,e){t.setStyle&&("function"===typeof e&&(e=e(t.feature)),t.setStyle(e))}});function si(t,e){var n,i,r,o,a="Feature"===t.type?t.geometry:t,s=a?a.coordinates:null,u=[],c=e&&e.pointToLayer,l=e&&e.coordsToLatLng||ci;if(!s&&!a)return null;switch(a.type){case"Point":return ui(c,t,n=l(s),e);case"MultiPoint":for(r=0,o=s.length;r<o;r++)n=l(s[r]),u.push(ui(c,t,n,e));return new Hn(u);case"LineString":case"MultiLineString":return i=li(s,"LineString"===a.type?0:1,l),new ni(i,e);case"Polygon":case"MultiPolygon":return i=li(s,"Polygon"===a.type?1:2,l),new ri(i,e);case"GeometryCollection":for(r=0,o=a.geometries.length;r<o;r++){var h=si({geometry:a.geometries[r],type:"Feature",properties:t.properties},e);h&&u.push(h)}return new Hn(u);default:throw new Error("Invalid GeoJSON object.")}}function ui(t,e,n,i){return t?t(e,n):new Yn(n,i&&i.markersInheritOptions&&i)}function ci(t){return new F(t[1],t[0],t[2])}function li(t,e,n){for(var i,r=[],o=0,a=t.length;o<a;o++)i=e?li(t[o],e-1,n):(n||ci)(t[o]),r.push(i);return r}function hi(t,e){return void 0!==(t=z(t)).alt?[l(t.lng,e),l(t.lat,e),l(t.alt,e)]:[l(t.lng,e),l(t.lat,e)]}function fi(t,e,n,i){for(var r=[],o=0,a=t.length;o<a;o++)r.push(e?fi(t[o],e-1,n,i):hi(t[o],i));return!e&&n&&r.push(r[0]),r}function di(t,e){return t.feature?n({},t.feature,{geometry:e}):pi(e)}function pi(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}var vi={toGeoJSON:function(t){return di(this,{type:"Point",coordinates:hi(this.getLatLng(),t)})}};function gi(t,e){return new ai(t,e)}Yn.include(vi),ti.include(vi),Xn.include(vi),ni.include({toGeoJSON:function(t){var e=!On(this._latlngs);return di(this,{type:(e?"Multi":"")+"LineString",coordinates:fi(this._latlngs,e?1:0,!1,t)})}}),ri.include({toGeoJSON:function(t){var e=!On(this._latlngs),n=e&&!On(this._latlngs[0]),i=fi(this._latlngs,n?2:e?1:0,!0,t);return e||(i=[i]),di(this,{type:(n?"Multi":"")+"Polygon",coordinates:i})}}),zn.include({toMultiPoint:function(t){var e=[];return this.eachLayer((function(n){e.push(n.toGeoJSON(t).geometry.coordinates)})),di(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var n="GeometryCollection"===e,i=[];return this.eachLayer((function(e){if(e.toGeoJSON){var r=e.toGeoJSON(t);if(n)i.push(r.geometry);else{var o=pi(r);"FeatureCollection"===o.type?i.push.apply(i,o.features):i.push(o)}}})),n?di(this,{geometries:i,type:"GeometryCollection"}):{type:"FeatureCollection",features:i}}});var mi=gi,yi=Fn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,n){this._url=t,this._bounds=W(e),d(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(me(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){fe(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&pe(this._image),this},bringToBack:function(){return this._map&&ve(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=W(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:he("img");me(e,"leaflet-image-layer"),this._zoomAnimated&&me(e,"leaflet-zoom-animated"),this.options.className&&me(e,this.options.className),e.onselectstart=c,e.onmousemove=c,e.onload=r(this.fire,this,"load"),e.onerror=r(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(e.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;Te(this._image,n,e)},_reset:function(){var t=this._image,e=new B(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();xe(t,e.min),t.style.width=n.x+"px",t.style.height=n.y+"px"},_updateOpacity:function(){we(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),_i=function(t,e,n){return new yi(t,e,n)},ki=yi.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:he("video");if(me(e,"leaflet-image-layer"),this._zoomAnimated&&me(e,"leaflet-zoom-animated"),this.options.className&&me(e,this.options.className),e.onselectstart=c,e.onmousemove=c,e.onloadeddata=r(this.fire,this,"load"),t){for(var n=e.getElementsByTagName("source"),i=[],o=0;o<n.length;o++)i.push(n[o].src);this._url=n.length>0?i:[e.src]}else{m(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(e.style,"objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop,e.muted=!!this.options.muted,e.playsInline=!!this.options.playsInline;for(var a=0;a<this._url.length;a++){var s=he("source");s.src=this._url[a],e.appendChild(s)}}}});function wi(t,e,n){return new ki(t,e,n)}var bi=yi.extend({_initImage:function(){var t=this._image=this._url;me(t,"leaflet-image-layer"),this._zoomAnimated&&me(t,"leaflet-zoom-animated"),this.options.className&&me(t,this.options.className),t.onselectstart=c,t.onmousemove=c}});function Si(t,e,n){return new bi(t,e,n)}var Ti=Fn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0},initialize:function(t,e){d(this,t),this._source=e},openOn:function(t){return(t=arguments.length?t:this._source._map).hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&we(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&we(this._container,1),this.bringToFront(),this.options.interactive&&(me(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(we(this._container,0),this._removeTimeout=setTimeout(r(fe,void 0,this._container),200)):fe(this._container),this.options.interactive&&(ye(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=z(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&pe(this._container),this},bringToBack:function(){return this._map&&ve(this._container),this},_prepareOpen:function(t){var e=this._source;if(!e._map)return!1;if(e instanceof Hn){e=null;var n=this._source._layers;for(var i in n)if(n[i]._map){e=n[i];break}if(!e)return!1;this._source=e}if(!t)if(e.getCenter)t=e.getCenter();else if(e.getLatLng)t=e.getLatLng();else{if(!e.getBounds)throw new Error("Unable to get source layer LatLng.");t=e.getBounds().getCenter()}return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"===typeof this._content?this._content(this._source||this):this._content;if("string"===typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=R(this.options.offset),n=this._getAnchor();this._zoomAnimated?xe(this._container,t.add(n)):e=e.add(t).add(n);var i=this._containerBottom=-e.y,r=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=i+"px",this._container.style.left=r+"px"}},_getAnchor:function(){return[0,0]}});Je.include({_initOverlay:function(t,e,n,i){var r=e;return r instanceof t||(r=new t(i).setContent(e)),n&&r.setLatLng(n),r}}),Fn.include({_initOverlay:function(t,e,n,i){var r=n;return r instanceof t?(d(r,i),r._source=this):(r=e&&!i?e:new t(i,this)).setContent(n),r}});var xi=Ti.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return!(t=arguments.length?t:this._source._map).hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,Ti.prototype.openOn.call(this,t)},onAdd:function(t){Ti.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof $n||this._source.on("preclick",Ve))},onRemove:function(t){Ti.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof $n||this._source.off("preclick",Ve))},getEvents:function(){var t=Ti.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",e=this._container=he("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=he("div",t+"-content-wrapper",e);if(this._contentNode=he("div",t+"-content",n),Ue(e),He(this._contentNode),Re(e,"contextmenu",Ve),this._tipContainer=he("div",t+"-tip-container",e),this._tip=he("div",t+"-tip",this._tipContainer),this.options.closeButton){var i=this._closeButton=he("a",t+"-close-button",e);i.setAttribute("role","button"),i.setAttribute("aria-label","Close popup"),i.href="#close",i.innerHTML='<span aria-hidden="true">&#215;</span>',Re(i,"click",this.close,this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var i=t.offsetHeight,r=this.options.maxHeight,o="leaflet-popup-scrolled";r&&i>r?(e.height=r+"px",me(t,o)):ye(t,o),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();xe(this._container,e.add(n))},_adjustPan:function(t){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var e=this._map,n=parseInt(le(this._container,"marginBottom"),10)||0,i=this._container.offsetHeight+n,r=this._containerWidth,o=new I(this._containerLeft,-i-this._containerBottom);o._add(Ce(this._container));var a=e.layerPointToContainerPoint(o),s=R(this.options.autoPanPadding),u=R(this.options.autoPanPaddingTopLeft||s),c=R(this.options.autoPanPaddingBottomRight||s),l=e.getSize(),h=0,f=0;a.x+r+c.x>l.x&&(h=a.x+r-l.x+c.x),a.x-h-u.x<0&&(h=a.x-u.x),a.y+i+c.y>l.y&&(f=a.y+i-l.y+c.y),a.y-f-u.y<0&&(f=a.y-u.y),(h||f)&&e.fire("autopanstart").panBy([h,f],{animate:t&&"moveend"===t.type})}},_getAnchor:function(){return R(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ci=function(t,e){return new xi(t,e)};Je.mergeOptions({closePopupOnClick:!0}),Je.include({openPopup:function(t,e,n){return this._initOverlay(xi,t,e,n).openOn(this),this},closePopup:function(t){return(t=arguments.length?t:this._popup)&&t.close(),this}}),Fn.include({bindPopup:function(t,e){return this._popup=this._initOverlay(xi,this._popup,t,e),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&this._popup._prepareOpen(t)&&this._popup.openOn(this._map),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(this._popup&&this._map){Ze(t);var e=t.layer||t.target;this._popup._source!==e||e instanceof $n?(this._popup._source=e,this.openPopup(t.latlng)):this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var Ei=Ti.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){Ti.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){Ti.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=Ti.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=he("div",t)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e,n,i=this._map,r=this._container,o=i.latLngToContainerPoint(i.getCenter()),a=i.layerPointToContainerPoint(t),s=this.options.direction,u=r.offsetWidth,c=r.offsetHeight,l=R(this.options.offset),h=this._getAnchor();"top"===s?(e=u/2,n=c):"bottom"===s?(e=u/2,n=0):"center"===s?(e=u/2,n=c/2):"right"===s?(e=0,n=c/2):"left"===s?(e=u,n=c/2):a.x<o.x?(s="right",e=0,n=c/2):(s="left",e=u+2*(l.x+h.x),n=c/2),t=t.subtract(R(e,n,!0)).add(l).add(h),ye(r,"leaflet-tooltip-right"),ye(r,"leaflet-tooltip-left"),ye(r,"leaflet-tooltip-top"),ye(r,"leaflet-tooltip-bottom"),me(r,"leaflet-tooltip-"+s),xe(r,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&we(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return R(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Mi=function(t,e){return new Ei(t,e)};Je.include({openTooltip:function(t,e,n){return this._initOverlay(Ei,t,e,n).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),Fn.include({bindTooltip:function(t,e){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ei,this._tooltip,t,e),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,n.click=this._openTooltip),this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),this[e](n),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&this._tooltip._prepareOpen(t)&&this._tooltip.openOn(this._map),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0))},_moveTooltip:function(t){var e,n,i=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),n=this._map.containerPointToLayerPoint(e),i=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(i)}});var Oi=Kn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),n=this.options;if(n.html instanceof Element?(de(e),e.appendChild(n.html)):e.innerHTML=!1!==n.html?n.html:"",n.bgPos){var i=R(n.bgPos);e.style.backgroundPosition=-i.x+"px "+-i.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});function Pi(t){return new Oi(t)}Kn.Default=qn;var Li=Fn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Nt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){d(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),fe(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(pe(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ve(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=s(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof I?t:new I(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,n=this.getPane().children,i=-t(-1/0,1/0),r=0,o=n.length;r<o;r++)e=n[r].style.zIndex,n[r]!==this._container&&e&&(i=t(i,+e));isFinite(i)&&(this.options.zIndex=i+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Nt.ielt9){we(this._container,this.options.opacity);var t=+new Date,e=!1,n=!1;for(var i in this._tiles){var r=this._tiles[i];if(r.current&&r.loaded){var o=Math.min(1,(t-r.loaded)/200);we(r.el,o),o<1?e=!0:(r.active?n=!0:this._onOpaqueTile(r),r.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),e&&(C(this._fadeFrame),this._fadeFrame=x(this._updateOpacity,this))}},_onOpaqueTile:c,_initContainer:function(){this._container||(this._container=he("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===t?(this._levels[n].el.style.zIndex=e-Math.abs(t-n),this._onUpdateLevel(n)):(fe(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var i=this._levels[t],r=this._map;return i||((i=this._levels[t]={}).el=he("div","leaflet-tile-container leaflet-zoom-animated",this._container),i.el.style.zIndex=e,i.origin=r.project(r.unproject(r.getPixelOrigin()),t).round(),i.zoom=t,this._setZoomTransform(i,r.getCenter(),r.getZoom()),c(i.el.offsetWidth),this._onCreateLevel(i)),this._level=i,i}},_onUpdateLevel:c,_onRemoveLevel:c,_onCreateLevel:c,_pruneTiles:function(){if(this._map){var t,e,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(e=this._tiles[t]).retain=e.current;for(t in this._tiles)if((e=this._tiles[t]).current&&!e.active){var i=e.coords;this._retainParent(i.x,i.y,i.z,i.z-5)||this._retainChildren(i.x,i.y,i.z,i.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)fe(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,n,i){var r=Math.floor(t/2),o=Math.floor(e/2),a=n-1,s=new I(+r,+o);s.z=+a;var u=this._tileCoordsToKey(s),c=this._tiles[u];return c&&c.active?(c.retain=!0,!0):(c&&c.loaded&&(c.retain=!0),a>i&&this._retainParent(r,o,a,i))},_retainChildren:function(t,e,n,i){for(var r=2*t;r<2*t+2;r++)for(var o=2*e;o<2*e+2;o++){var a=new I(r,o);a.z=n+1;var s=this._tileCoordsToKey(a),u=this._tiles[s];u&&u.active?u.retain=!0:(u&&u.loaded&&(u.retain=!0),n+1<i&&this._retainChildren(r,o,n+1,i))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,n,i){var r=Math.round(e);r=void 0!==this.options.maxZoom&&r>this.options.maxZoom||void 0!==this.options.minZoom&&r<this.options.minZoom?void 0:this._clampZoom(r);var o=this.options.updateWhenZooming&&r!==this._tileZoom;i&&!o||(this._tileZoom=r,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==r&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels)this._setZoomTransform(this._levels[n],t,e)},_setZoomTransform:function(t,e,n){var i=this._map.getZoomScale(n,t.zoom),r=t.origin.multiplyBy(i).subtract(this._map._getNewPixelOrigin(e,n)).round();Nt.any3d?Te(t.el,r,i):xe(t.el,r)},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),i=this._tileZoom,r=this._map.getPixelWorldBounds(this._tileZoom);r&&(this._globalTileRange=this._pxBoundsToTileRange(r)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],i).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],i).x/n.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],i).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],i).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),i=e.getZoomScale(n,this._tileZoom),r=e.project(t,this._tileZoom).floor(),o=e.getSize().divideBy(2*i);return new B(r.subtract(o),r.add(o))},_update:function(t){var e=this._map;if(e){var n=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var i=this._getTiledPixelBounds(t),r=this._pxBoundsToTileRange(i),o=r.getCenter(),a=[],s=this.options.keepBuffer,u=new B(r.getBottomLeft().subtract([s,-s]),r.getTopRight().add([s,-s]));if(!(isFinite(r.min.x)&&isFinite(r.min.y)&&isFinite(r.max.x)&&isFinite(r.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var c in this._tiles){var l=this._tiles[c].coords;l.z===this._tileZoom&&u.contains(new I(l.x,l.y))||(this._tiles[c].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(t,n);else{for(var h=r.min.y;h<=r.max.y;h++)for(var f=r.min.x;f<=r.max.x;f++){var d=new I(f,h);if(d.z=this._tileZoom,this._isValidTile(d)){var p=this._tiles[this._tileCoordsToKey(d)];p?p.current=!0:a.push(d)}}if(a.sort((function(t,e){return t.distanceTo(o)-e.distanceTo(o)})),0!==a.length){this._loading||(this._loading=!0,this.fire("loading"));var v=document.createDocumentFragment();for(f=0;f<a.length;f++)this._addTile(a[f],v);this._level.el.appendChild(v)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var i=this._tileCoordsToBounds(t);return W(this.options.bounds).overlaps(i)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,n=this.getTileSize(),i=t.scaleBy(n),r=i.add(n);return[e.unproject(i,t.z),e.unproject(r,t.z)]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),n=new j(e[0],e[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new I(+e[0],+e[1]);return n.z=+e[2],n},_removeTile:function(t){var e=this._tiles[t];e&&(fe(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){me(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=c,t.onmousemove=c,Nt.ielt9&&this.options.opacity<1&&we(t,this.options.opacity)},_addTile:function(t,e){var n=this._getTilePos(t),i=this._tileCoordsToKey(t),o=this.createTile(this._wrapCoords(t),r(this._tileReady,this,t));this._initTile(o),this.createTile.length<2&&x(r(this._tileReady,this,t,null,o)),xe(o,n),this._tiles[i]={el:o,coords:t,current:!0},e.appendChild(o),this.fire("tileloadstart",{tile:o,coords:t})},_tileReady:function(t,e,n){e&&this.fire("tileerror",{error:e,tile:n,coords:t});var i=this._tileCoordsToKey(t);(n=this._tiles[i])&&(n.loaded=+new Date,this._map._fadeAnimated?(we(n.el,0),C(this._fadeFrame),this._fadeFrame=x(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),e||(me(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Nt.ielt9||!this._map._fadeAnimated?x(this._pruneTiles,this):setTimeout(r(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new I(this._wrapX?u(t.x,this._wrapX):t.x,this._wrapY?u(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new B(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function Ai(t){return new Li(t)}var Ii=Li.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,e){this._url=t,(e=d(this,e)).detectRetina&&Nt.retina&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),"string"===typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&void 0===e&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var n=document.createElement("img");return Re(n,"load",r(this._tileOnLoad,this,e,n)),Re(n,"error",r(this._tileOnError,this,e,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"===typeof this.options.referrerPolicy&&(n.referrerPolicy=this.options.referrerPolicy),n.alt="",n.setAttribute("role","presentation"),n.src=this.getTileUrl(t),n},getTileUrl:function(t){var e={r:Nt.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var i=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=i),e["-y"]=i}return g(this._url,n(e,this.options))},_tileOnLoad:function(t,e){Nt.ielt9?setTimeout(r(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,n){var i=this.options.errorTileUrl;i&&e.getAttribute("src")!==i&&(e.src=i),t(n,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom;return this.options.zoomReverse&&(t=e-t),t+this.options.zoomOffset},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&((e=this._tiles[t].el).onload=c,e.onerror=c,!e.complete)){e.src=_;var n=this._tiles[t].coords;fe(e),delete this._tiles[t],this.fire("tileabort",{tile:e,coords:n})}},_removeTile:function(t){var e=this._tiles[t];if(e)return e.el.setAttribute("src",_),Li.prototype._removeTile.call(this,t)},_tileReady:function(t,e,n){if(this._map&&(!n||n.getAttribute("src")!==_))return Li.prototype._tileReady.call(this,t,e,n)}});function Ni(t,e){return new Ii(t,e)}var Ri=Ii.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var i=n({},this.defaultWmsParams);for(var r in e)r in this.options||(i[r]=e[r]);var o=(e=d(this,e)).detectRetina&&Nt.retina?2:1,a=this.getTileSize();i.width=a.x*o,i.height=a.y*o,this.wmsParams=i},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,Ii.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),n=this._crs,i=D(n.project(e[0]),n.project(e[1])),r=i.min,o=i.max,a=(this._wmsVersion>=1.3&&this._crs===jn?[r.y,r.x,o.y,o.x]:[r.x,r.y,o.x,o.y]).join(","),s=Ii.prototype.getTileUrl.call(this,t);return s+p(this.wmsParams,s,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+a},setParams:function(t,e){return n(this.wmsParams,t),e||this.redraw(),this}});function Bi(t,e){return new Ri(t,e)}Ii.WMS=Ri,Ni.wms=Bi;var Di=Fn.extend({options:{padding:.1},initialize:function(t){d(this,t),a(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&me(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),i=this._map.getSize().multiplyBy(.5+this.options.padding),r=this._map.project(this._center,e),o=i.multiplyBy(-n).add(r).subtract(this._map._getNewPixelOrigin(t,e));Nt.any3d?Te(this._container,o,n):xe(this._container,o)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new B(n,n.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ji=Di.extend({options:{tolerance:0},getEvents:function(){var t=Di.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Di.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Re(t,"mousemove",this._onMouseMove,this),Re(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Re(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){C(this._redrawRequest),delete this._ctx,fe(this._container),De(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){Di.prototype._update.call(this);var t=this._bounds,e=this._container,n=t.getSize(),i=Nt.retina?2:1;xe(e,t.min),e.width=i*n.x,e.height=i*n.y,e.style.width=n.x+"px",e.style.height=n.y+"px",Nt.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){Di.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[a(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,n=e.next,i=e.prev;n?n.prev=i:this._drawLast=i,i?i.next=n:this._drawFirst=n,delete t._order,delete this._layers[a(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if("string"===typeof t.options.dashArray){var e,n,i=t.options.dashArray.split(/[, ]+/),r=[];for(n=0;n<i.length;n++){if(e=Number(i[n]),isNaN(e))return;r.push(e)}t.options._dashArray=r}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||x(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new B,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var n=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var i=this._drawFirst;i;i=i.next)t=i.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var n,i,r,o,a=t._parts,s=a.length,u=this._ctx;if(s){for(u.beginPath(),n=0;n<s;n++){for(i=0,r=a[n].length;i<r;i++)o=a[n][i],u[i?"lineTo":"moveTo"](o.x,o.y);e&&u.closePath()}this._fillStroke(u,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,n=this._ctx,i=Math.max(Math.round(t._radius),1),r=(Math.max(Math.round(t._radiusY),1)||i)/i;1!==r&&(n.save(),n.scale(1,r)),n.beginPath(),n.arc(e.x,e.y/r,i,0,2*Math.PI,!1),1!==r&&n.restore(),this._fillStroke(n,t)}},_fillStroke:function(t,e){var n=e.options;n.fill&&(t.globalAlpha=n.fillOpacity,t.fillStyle=n.fillColor||n.color,t.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=n.opacity,t.lineWidth=n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_onClick:function(t){for(var e,n,i=this._map.mouseEventToLayerPoint(t),r=this._drawFirst;r;r=r.next)(e=r.layer).options.interactive&&e._containsPoint(i)&&("click"!==t.type&&"preclick"!==t.type||!this._map._draggableMoved(e))&&(n=e);this._fireEvent(!!n&&[n],t)},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(ye(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var n,i,o=this._drawFirst;o;o=o.next)(n=o.layer).options.interactive&&n._containsPoint(e)&&(i=n);i!==this._hoveredLayer&&(this._handleMouseOut(t),i&&(me(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseover"),this._hoveredLayer=i)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],t),this._mouseHoverThrottled=!0,setTimeout(r((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var n=e.next,i=e.prev;n&&(n.prev=i,i?i.next=n:n&&(this._drawFirst=n),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))}},_bringToBack:function(t){var e=t._order;if(e){var n=e.next,i=e.prev;i&&(i.next=n,n?n.prev=i:i&&(this._drawLast=i),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}});function Wi(t){return Nt.canvas?new ji(t):null}var Fi=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),zi={_initContainer:function(){this._container=he("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Di.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=Fi("shape");me(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=Fi("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[a(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;fe(e),t.removeInteractiveTarget(e),delete this._layers[a(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,i=t.options,r=t._container;r.stroked=!!i.stroke,r.filled=!!i.fill,i.stroke?(e||(e=t._stroke=Fi("stroke")),r.appendChild(e),e.weight=i.weight+"px",e.color=i.color,e.opacity=i.opacity,i.dashArray?e.dashStyle=m(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=i.lineCap.replace("butt","flat"),e.joinstyle=i.lineJoin):e&&(r.removeChild(e),t._stroke=null),i.fill?(n||(n=t._fill=Fi("fill")),r.appendChild(n),n.color=i.fillColor||i.color,n.opacity=i.fillOpacity):n&&(r.removeChild(n),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),i=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+i+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){pe(t._container)},_bringToBack:function(t){ve(t._container)}},Vi=Nt.vml?Fi:Q,Hi=Di.extend({_initContainer:function(){this._container=Vi("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Vi("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){fe(this._container),De(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){Di.prototype._update.call(this);var t=this._bounds,e=t.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,n.setAttribute("width",e.x),n.setAttribute("height",e.y)),xe(n,t.min),n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=Vi("path");t.options.className&&me(e,t.options.className),t.options.interactive&&me(e,"leaflet-interactive"),this._updateStyle(t),this._layers[a(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){fe(t._path),t.removeInteractiveTarget(t._path),delete this._layers[a(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,n=t.options;e&&(n.stroke?(e.setAttribute("stroke",n.color),e.setAttribute("stroke-opacity",n.opacity),e.setAttribute("stroke-width",n.weight),e.setAttribute("stroke-linecap",n.lineCap),e.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?e.setAttribute("stroke-dasharray",n.dashArray):e.removeAttribute("stroke-dasharray"),n.dashOffset?e.setAttribute("stroke-dashoffset",n.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),n.fill?(e.setAttribute("fill",n.fillColor||n.color),e.setAttribute("fill-opacity",n.fillOpacity),e.setAttribute("fill-rule",n.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,$(t._parts,e))},_updateCircle:function(t){var e=t._point,n=Math.max(Math.round(t._radius),1),i="a"+n+","+(Math.max(Math.round(t._radiusY),1)||n)+" 0 1,0 ",r=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+i+2*n+",0 "+i+2*-n+",0 ";this._setPath(t,r)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){pe(t._path)},_bringToBack:function(t){ve(t._path)}});function Ui(t){return Nt.svg||Nt.vml?new Hi(t):null}Nt.vml&&Hi.include(zi),Je.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&Wi(t)||Ui(t)}});var Ki=ri.extend({initialize:function(t,e){ri.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=W(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function Zi(t,e){return new Ki(t,e)}Hi.create=Vi,Hi.pointsToPath=$,ai.geometryToLayer=si,ai.coordsToLatLng=ci,ai.coordsToLatLngs=li,ai.latLngToCoords=hi,ai.latLngsToCoords=fi,ai.getFeature=di,ai.asFeature=pi,Je.mergeOptions({boxZoom:!0});var qi=dn.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Re(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){De(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){fe(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),ee(),Me(),this._startPoint=this._map.mouseEventToContainerPoint(t),Re(document,{contextmenu:Ze,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=he("div","leaflet-zoom-box",this._container),me(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new B(this._point,this._startPoint),n=e.getSize();xe(this._box,e.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(fe(this._box),ye(this._container,"leaflet-crosshair")),ne(),Oe(),De(document,{contextmenu:Ze,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(r(this._resetState,this),0);var e=new j(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Je.addInitHook("addHandler","boxZoom",qi),Je.mergeOptions({doubleClickZoom:!0});var Gi=dn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),i=e.options.zoomDelta,r=t.originalEvent.shiftKey?n-i:n+i;"center"===e.options.doubleClickZoom?e.setZoom(r):e.setZoomAround(t.containerPoint,r)}});Je.addInitHook("addHandler","doubleClickZoom",Gi),Je.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Yi=dn.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new mn(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}me(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ye(this._map._container,"leaflet-grab"),ye(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=W(this._map.options.maxBounds);this._offsetLimit=D(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,r=(i-e+n)%t+e-n,o=(i+e+n)%t-e-n,a=Math.abs(r+n)<Math.abs(o+n)?r:o;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=a},_onDragEnd:function(t){var e=this._map,n=e.options,i=!n.inertia||t.noInertia||this._times.length<2;if(e.fire("dragend",t),i)e.fire("moveend");else{this._prunePositions(+new Date);var r=this._lastPos.subtract(this._positions[0]),o=(this._lastTime-this._times[0])/1e3,a=n.easeLinearity,s=r.multiplyBy(a/o),u=s.distanceTo([0,0]),c=Math.min(n.inertiaMaxSpeed,u),l=s.multiplyBy(c/u),h=c/(n.inertiaDeceleration*a),f=l.multiplyBy(-h/2).round();f.x||f.y?(f=e._limitOffset(f,e.options.maxBounds),x((function(){e.panBy(f,{duration:h,easeLinearity:a,noMoveStart:!0,animate:!0})}))):e.fire("moveend")}}});Je.addInitHook("addHandler","dragging",Yi),Je.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Qi=dn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Re(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),De(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,n=t.scrollTop||e.scrollTop,i=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(i,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,n,i=this._panKeys={},r=this.keyCodes;for(e=0,n=r.left.length;e<n;e++)i[r.left[e]]=[-1*t,0];for(e=0,n=r.right.length;e<n;e++)i[r.right[e]]=[t,0];for(e=0,n=r.down.length;e<n;e++)i[r.down[e]]=[0,t];for(e=0,n=r.up.length;e<n;e++)i[r.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,n,i=this._zoomKeys={},r=this.keyCodes;for(e=0,n=r.zoomIn.length;e<n;e++)i[r.zoomIn[e]]=t;for(e=0,n=r.zoomOut.length;e<n;e++)i[r.zoomOut[e]]=-t},_addHooks:function(){Re(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){De(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,n=t.keyCode,i=this._map;if(n in this._panKeys)i._panAnim&&i._panAnim._inProgress||(e=this._panKeys[n],t.shiftKey&&(e=R(e).multiplyBy(3)),i.panBy(e),i.options.maxBounds&&i.panInsideBounds(i.options.maxBounds));else if(n in this._zoomKeys)i.setZoom(i.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!i._popup||!i._popup.options.closeOnEscapeKey)return;i.closePopup()}Ze(t)}}});Je.addInitHook("addHandler","keyboard",Qi),Je.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var $i=dn.extend({addHooks:function(){Re(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){De(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=Ye(t),n=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var i=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(r(this._performZoom,this),i),Ze(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var i=this._delta/(4*this._map.options.wheelPxPerZoomLevel),r=4*Math.log(2/(1+Math.exp(-Math.abs(i))))/Math.LN2,o=n?Math.ceil(r/n)*n:r,a=t._limitZoom(e+(this._delta>0?o:-o))-e;this._delta=0,this._startTime=null,a&&("center"===t.options.scrollWheelZoom?t.setZoom(e+a):t.setZoomAround(this._lastMousePos,e+a))}});Je.addInitHook("addHandler","scrollWheelZoom",$i);var Xi=600;Je.mergeOptions({tapHold:Nt.touchNative&&Nt.safari&&Nt.mobile,tapTolerance:15});var Ji=dn.extend({addHooks:function(){Re(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){De(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),1===t.touches.length){var e=t.touches[0];this._startPos=this._newPos=new I(e.clientX,e.clientY),this._holdTimeout=setTimeout(r((function(){this._cancel(),this._isTapValid()&&(Re(document,"touchend",Ke),Re(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",e))}),this),Xi),Re(document,"touchend touchcancel contextmenu",this._cancel,this),Re(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){De(document,"touchend",Ke),De(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),De(document,"touchend touchcancel contextmenu",this._cancel,this),De(document,"touchmove",this._onMove,this)},_onMove:function(t){var e=t.touches[0];this._newPos=new I(e.clientX,e.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,e){var n=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY});n._simulated=!0,e.target.dispatchEvent(n)}});Je.addInitHook("addHandler","tapHold",Ji),Je.mergeOptions({touchZoom:Nt.touch,bounceAtZoomLimits:!0});var tr=dn.extend({addHooks:function(){me(this._map._container,"leaflet-touch-zoom"),Re(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ye(this._map._container,"leaflet-touch-zoom"),De(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(n.add(i)._divideBy(2))),this._startDist=n.distanceTo(i),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),Re(document,"touchmove",this._onTouchMove,this),Re(document,"touchend touchcancel",this._onTouchEnd,this),Ke(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]),o=n.distanceTo(i)/this._startDist;if(this._zoom=e.getScaleZoom(o,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&o<1||this._zoom>e.getMaxZoom()&&o>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===o)return}else{var a=n._add(i)._divideBy(2)._subtract(this._centerPoint);if(1===o&&0===a.x&&0===a.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(a),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),C(this._animRequest);var s=r(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=x(s,this,!0),Ke(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,C(this._animRequest),De(document,"touchmove",this._onTouchMove,this),De(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Je.addInitHook("addHandler","touchZoom",tr),Je.BoxZoom=qi,Je.DoubleClickZoom=Gi,Je.Drag=Yi,Je.Keyboard=Qi,Je.ScrollWheelZoom=$i,Je.TapHold=Ji,Je.TouchZoom=tr,t.Bounds=B,t.Browser=Nt,t.CRS=V,t.Canvas=ji,t.Circle=ti,t.CircleMarker=Xn,t.Class=M,t.Control=en,t.DivIcon=Oi,t.DivOverlay=Ti,t.DomEvent=$e,t.DomUtil=Ne,t.Draggable=mn,t.Evented=A,t.FeatureGroup=Hn,t.GeoJSON=ai,t.GridLayer=Li,t.Handler=dn,t.Icon=Kn,t.ImageOverlay=yi,t.LatLng=F,t.LatLngBounds=j,t.Layer=Fn,t.LayerGroup=zn,t.LineUtil=Ln,t.Map=Je,t.Marker=Yn,t.Mixin=vn,t.Path=$n,t.Point=I,t.PolyUtil=In,t.Polygon=ri,t.Polyline=ni,t.Popup=xi,t.PosAnimation=Xe,t.Projection=Bn,t.Rectangle=Ki,t.Renderer=Di,t.SVG=Hi,t.SVGOverlay=bi,t.TileLayer=Ii,t.Tooltip=Ei,t.Transformation=Z,t.Util=E,t.VideoOverlay=ki,t.bind=r,t.bounds=D,t.canvas=Wi,t.circle=ei,t.circleMarker=Jn,t.control=nn,t.divIcon=Pi,t.extend=n,t.featureGroup=Un,t.geoJSON=gi,t.geoJson=mi,t.gridLayer=Ai,t.icon=Zn,t.imageOverlay=_i,t.latLng=z,t.latLngBounds=W,t.layerGroup=Vn,t.map=tn,t.marker=Qn,t.point=R,t.polygon=oi,t.polyline=ii,t.popup=Ci,t.rectangle=Zi,t.setOptions=d,t.stamp=a,t.svg=Ui,t.svgOverlay=Si,t.tileLayer=Ni,t.tooltip=Mi,t.transformation=q,t.version=e,t.videoOverlay=wi;var er=window.L;t.noConflict=function(){return window.L=er,this},window.L=t}(e)},463:function(t,e,n){"use strict";var i=n(791),r=n(296);function o(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function u(t,e){c(t,e),c(t+"Capture",e)}function c(t,e){for(s[t]=e,t=0;t<e.length;t++)a.add(e[t])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(t,e,n,i,r,o,a){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){g[t]=new v(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];g[e]=new v(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){g[t]=new v(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){g[t]=new v(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){g[t]=new v(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){g[t]=new v(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){g[t]=new v(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){g[t]=new v(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){g[t]=new v(t,5,!1,t.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function y(t){return t[1].toUpperCase()}function _(t,e,n,i){var r=g.hasOwnProperty(e)?g[e]:null;(null!==r?0!==r.type:i||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,n,i){if(null===e||"undefined"===typeof e||function(t,e,n,i){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,r,i)&&(n=null),i||null===r?function(t){return!!h.call(p,t)||!h.call(d,t)&&(f.test(t)?p[t]=!0:(d[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=null===n?3!==r.type&&"":n:(e=r.attributeName,i=r.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(m,y);g[e]=new v(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(m,y);g[e]=new v(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(m,y);g[e]=new v(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){g[t]=new v(t,1,!1,t.toLowerCase(),null,!1,!1)})),g.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){g[t]=new v(t,1,!1,t.toLowerCase(),null,!0,!0)}));var k=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),b=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),E=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var I=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var N=Symbol.iterator;function R(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=N&&t[N]||t["@@iterator"])?t:null}var B,D=Object.assign;function j(t){if(void 0===B)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);B=e&&e[1]||""}return"\n"+B+t}var W=!1;function F(t,e){if(!t||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&"string"===typeof c.stack){for(var r=c.stack.split("\n"),o=i.stack.split("\n"),a=r.length-1,s=o.length-1;1<=a&&0<=s&&r[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(r[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||r[a]!==o[s]){var u="\n"+r[a].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}}while(1<=a&&0<=s);break}}}finally{W=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?j(t):""}function z(t){switch(t.tag){case 5:return j(t.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return t=F(t.type,!1);case 11:return t=F(t.type.render,!1);case 1:return t=F(t.type,!0);default:return""}}function V(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case S:return"Fragment";case b:return"Portal";case x:return"Profiler";case T:return"StrictMode";case O:return"Suspense";case P:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case E:return(t.displayName||"Context")+".Consumer";case C:return(t._context.displayName||"Context")+".Provider";case M:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case L:return null!==(e=t.displayName||null)?e:V(t.type)||"Memo";case A:e=t._payload,t=t._init;try{return V(t(e))}catch(n){}}return null}function H(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(e);case 8:return e===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e}return null}function U(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function K(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function Z(t){t._valueTracker||(t._valueTracker=function(t){var e=K(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(t){i=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(t){i=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function q(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=K(t)?t.checked?"true":"false":t.value),(t=i)!==n&&(e.setValue(t),!0)}function G(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Y(t,e){var n=e.checked;return D({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function Q(t,e){var n=null==e.defaultValue?"":e.defaultValue,i=null!=e.checked?e.checked:e.defaultChecked;n=U(null!=e.value?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function $(t,e){null!=(e=e.checked)&&_(t,"checked",e,!1)}function X(t,e){$(t,e);var n=U(e.value),i=e.type;if(null!=n)"number"===i?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===i||"reset"===i)return void t.removeAttribute("value");e.hasOwnProperty("value")?tt(t,e.type,n):e.hasOwnProperty("defaultValue")&&tt(t,e.type,U(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function J(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!("submit"!==i&&"reset"!==i||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function tt(t,e,n){"number"===e&&G(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var et=Array.isArray;function nt(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+U(n),e=null,r=0;r<t.length;r++){if(t[r].value===n)return t[r].selected=!0,void(i&&(t[r].defaultSelected=!0));null!==e||t[r].disabled||(e=t[r])}null!==e&&(e.selected=!0)}}function it(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(o(91));return D({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function rt(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(o(92));if(et(n)){if(1<n.length)throw Error(o(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:U(n)}}function ot(t,e){var n=U(e.value),i=U(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=i&&(t.defaultValue=""+i)}function at(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function st(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ut(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?st(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var ct,lt,ht=(lt=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((ct=ct||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ct.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,i){MSApp.execUnsafeLocalFunction((function(){return lt(t,e)}))}:lt);function ft(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var dt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pt=["Webkit","ms","Moz","O"];function vt(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||dt.hasOwnProperty(t)&&dt[t]?(""+e).trim():e+"px"}function gt(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=vt(n,e[n],i);"float"===n&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}Object.keys(dt).forEach((function(t){pt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),dt[e]=dt[t]}))}));var mt=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yt(t,e){if(e){if(mt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(o(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(o(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(o(62))}}function _t(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kt=null;function wt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var bt=null,St=null,Tt=null;function xt(t){if(t=_r(t)){if("function"!==typeof bt)throw Error(o(280));var e=t.stateNode;e&&(e=wr(e),bt(t.stateNode,t.type,e))}}function Ct(t){St?Tt?Tt.push(t):Tt=[t]:St=t}function Et(){if(St){var t=St,e=Tt;if(Tt=St=null,xt(t),e)for(t=0;t<e.length;t++)xt(e[t])}}function Mt(t,e){return t(e)}function Ot(){}var Pt=!1;function Lt(t,e,n){if(Pt)return t(e,n);Pt=!0;try{return Mt(t,e,n)}finally{Pt=!1,(null!==St||null!==Tt)&&(Ot(),Et())}}function At(t,e){var n=t.stateNode;if(null===n)return null;var i=wr(n);if(null===i)return null;n=i[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!i;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(o(231,e,typeof n));return n}var It=!1;if(l)try{var Nt={};Object.defineProperty(Nt,"passive",{get:function(){It=!0}}),window.addEventListener("test",Nt,Nt),window.removeEventListener("test",Nt,Nt)}catch(lt){It=!1}function Rt(t,e,n,i,r,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(l){this.onError(l)}}var Bt=!1,Dt=null,jt=!1,Wt=null,Ft={onError:function(t){Bt=!0,Dt=t}};function zt(t,e,n,i,r,o,a,s,u){Bt=!1,Dt=null,Rt.apply(Ft,arguments)}function Vt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Ht(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Ut(t){if(Vt(t)!==t)throw Error(o(188))}function Kt(t){return null!==(t=function(t){var e=t.alternate;if(!e){if(null===(e=Vt(t)))throw Error(o(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(null===r)break;var a=r.alternate;if(null===a){if(null!==(i=r.return)){n=i;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return Ut(r),t;if(a===i)return Ut(r),e;a=a.sibling}throw Error(o(188))}if(n.return!==i.return)n=r,i=a;else{for(var s=!1,u=r.child;u;){if(u===n){s=!0,n=r,i=a;break}if(u===i){s=!0,i=r,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,i=r;break}if(u===i){s=!0,i=a,n=r;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==i)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?t:e}(t))?Zt(t):null}function Zt(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=Zt(t);if(null!==e)return e;t=t.sibling}return null}var qt=r.unstable_scheduleCallback,Gt=r.unstable_cancelCallback,Yt=r.unstable_shouldYield,Qt=r.unstable_requestPaint,$t=r.unstable_now,Xt=r.unstable_getCurrentPriorityLevel,Jt=r.unstable_ImmediatePriority,te=r.unstable_UserBlockingPriority,ee=r.unstable_NormalPriority,ne=r.unstable_LowPriority,ie=r.unstable_IdlePriority,re=null,oe=null;var ae=Math.clz32?Math.clz32:function(t){return 0===(t>>>=0)?32:31-(se(t)/ue|0)|0},se=Math.log,ue=Math.LN2;var ce=64,le=4194304;function he(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function fe(t,e){var n=t.pendingLanes;if(0===n)return 0;var i=0,r=t.suspendedLanes,o=t.pingedLanes,a=268435455&n;if(0!==a){var s=a&~r;0!==s?i=he(s):0!==(o&=a)&&(i=he(o))}else 0!==(a=n&~r)?i=he(a):0!==o&&(i=he(o));if(0===i)return 0;if(0!==e&&e!==i&&0===(e&r)&&((r=i&-i)>=(o=e&-e)||16===r&&0!==(4194240&o)))return e;if(0!==(4&i)&&(i|=16&n),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=i;0<e;)r=1<<(n=31-ae(e)),i|=t[n],e&=~r;return i}function de(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function pe(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function ve(){var t=ce;return 0===(4194240&(ce<<=1))&&(ce=64),t}function ge(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function me(t,e,n){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-ae(e)]=n}function ye(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-ae(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var _e=0;function ke(t){return 1<(t&=-t)?4<t?0!==(268435455&t)?16:536870912:4:1}var we,be,Se,Te,xe,Ce=!1,Ee=[],Me=null,Oe=null,Pe=null,Le=new Map,Ae=new Map,Ie=[],Ne="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Re(t,e){switch(t){case"focusin":case"focusout":Me=null;break;case"dragenter":case"dragleave":Oe=null;break;case"mouseover":case"mouseout":Pe=null;break;case"pointerover":case"pointerout":Le.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ae.delete(e.pointerId)}}function Be(t,e,n,i,r,o){return null===t||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},null!==e&&(null!==(e=_r(e))&&be(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,null!==r&&-1===e.indexOf(r)&&e.push(r),t)}function De(t){var e=yr(t.target);if(null!==e){var n=Vt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Ht(n)))return t.blockedOn=e,void xe(t.priority,(function(){Se(n)}))}else if(3===e&&n.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function je(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ye(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=_r(n))&&be(e),t.blockedOn=n,!1;var i=new(n=t.nativeEvent).constructor(n.type,n);kt=i,n.target.dispatchEvent(i),kt=null,e.shift()}return!0}function We(t,e,n){je(t)&&n.delete(e)}function Fe(){Ce=!1,null!==Me&&je(Me)&&(Me=null),null!==Oe&&je(Oe)&&(Oe=null),null!==Pe&&je(Pe)&&(Pe=null),Le.forEach(We),Ae.forEach(We)}function ze(t,e){t.blockedOn===e&&(t.blockedOn=null,Ce||(Ce=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Fe)))}function Ve(t){function e(e){return ze(e,t)}if(0<Ee.length){ze(Ee[0],t);for(var n=1;n<Ee.length;n++){var i=Ee[n];i.blockedOn===t&&(i.blockedOn=null)}}for(null!==Me&&ze(Me,t),null!==Oe&&ze(Oe,t),null!==Pe&&ze(Pe,t),Le.forEach(e),Ae.forEach(e),n=0;n<Ie.length;n++)(i=Ie[n]).blockedOn===t&&(i.blockedOn=null);for(;0<Ie.length&&null===(n=Ie[0]).blockedOn;)De(n),null===n.blockedOn&&Ie.shift()}var He=k.ReactCurrentBatchConfig,Ue=!0;function Ke(t,e,n,i){var r=_e,o=He.transition;He.transition=null;try{_e=1,qe(t,e,n,i)}finally{_e=r,He.transition=o}}function Ze(t,e,n,i){var r=_e,o=He.transition;He.transition=null;try{_e=4,qe(t,e,n,i)}finally{_e=r,He.transition=o}}function qe(t,e,n,i){if(Ue){var r=Ye(t,e,n,i);if(null===r)Ui(t,e,i,Ge,n),Re(t,i);else if(function(t,e,n,i,r){switch(e){case"focusin":return Me=Be(Me,t,e,n,i,r),!0;case"dragenter":return Oe=Be(Oe,t,e,n,i,r),!0;case"mouseover":return Pe=Be(Pe,t,e,n,i,r),!0;case"pointerover":var o=r.pointerId;return Le.set(o,Be(Le.get(o)||null,t,e,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,Ae.set(o,Be(Ae.get(o)||null,t,e,n,i,r)),!0}return!1}(r,t,e,n,i))i.stopPropagation();else if(Re(t,i),4&e&&-1<Ne.indexOf(t)){for(;null!==r;){var o=_r(r);if(null!==o&&we(o),null===(o=Ye(t,e,n,i))&&Ui(t,e,i,Ge,n),o===r)break;r=o}null!==r&&i.stopPropagation()}else Ui(t,e,i,null,n)}}var Ge=null;function Ye(t,e,n,i){if(Ge=null,null!==(t=yr(t=wt(i))))if(null===(e=Vt(t)))t=null;else if(13===(n=e.tag)){if(null!==(t=Ht(e)))return t;t=null}else if(3===n){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ge=t,null}function Qe(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xt()){case Jt:return 1;case te:return 4;case ee:case ne:return 16;case ie:return 536870912;default:return 16}default:return 16}}var $e=null,Xe=null,Je=null;function tn(){if(Je)return Je;var t,e,n=Xe,i=n.length,r="value"in $e?$e.value:$e.textContent,o=r.length;for(t=0;t<i&&n[t]===r[t];t++);var a=i-t;for(e=1;e<=a&&n[i-e]===r[o-e];e++);return Je=r.slice(t,1<e?1-e:void 0)}function en(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function nn(){return!0}function rn(){return!1}function on(t){function e(e,n,i,r,o){for(var a in this._reactName=e,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=o,this.currentTarget=null,t)t.hasOwnProperty(a)&&(e=t[a],this[a]=e?e(r):r[a]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return D(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),e}var an,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=on(cn),hn=D({},cn,{view:0,detail:0}),fn=on(hn),dn=D({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xn,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==un&&(un&&"mousemove"===t.type?(an=t.screenX-un.screenX,sn=t.screenY-un.screenY):sn=an=0,un=t),an)},movementY:function(t){return"movementY"in t?t.movementY:sn}}),pn=on(dn),vn=on(D({},dn,{dataTransfer:0})),gn=on(D({},hn,{relatedTarget:0})),mn=on(D({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=D({},cn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_n=on(yn),kn=on(D({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Sn[t])&&!!e[t]}function xn(){return Tn}var Cn=D({},hn,{key:function(t){if(t.key){var e=wn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=en(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?bn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xn,charCode:function(t){return"keypress"===t.type?en(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?en(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),En=on(Cn),Mn=on(D({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=on(D({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xn})),Pn=on(D({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ln=D({},dn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),An=on(Ln),In=[9,13,27,32],Nn=l&&"CompositionEvent"in window,Rn=null;l&&"documentMode"in document&&(Rn=document.documentMode);var Bn=l&&"TextEvent"in window&&!Rn,Dn=l&&(!Nn||Rn&&8<Rn&&11>=Rn),jn=String.fromCharCode(32),Wn=!1;function Fn(t,e){switch(t){case"keyup":return-1!==In.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Vn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Un(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Hn[t.type]:"textarea"===e}function Kn(t,e,n,i){Ct(i),0<(e=Zi(e,"onChange")).length&&(n=new ln("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Zn=null,qn=null;function Gn(t){ji(t,0)}function Yn(t){if(q(kr(t)))return t}function Qn(t,e){if("change"===t)return e}var $n=!1;if(l){var Xn;if(l){var Jn="oninput"in document;if(!Jn){var ti=document.createElement("div");ti.setAttribute("oninput","return;"),Jn="function"===typeof ti.oninput}Xn=Jn}else Xn=!1;$n=Xn&&(!document.documentMode||9<document.documentMode)}function ei(){Zn&&(Zn.detachEvent("onpropertychange",ni),qn=Zn=null)}function ni(t){if("value"===t.propertyName&&Yn(qn)){var e=[];Kn(e,qn,t,wt(t)),Lt(Gn,e)}}function ii(t,e,n){"focusin"===t?(ei(),qn=n,(Zn=e).attachEvent("onpropertychange",ni)):"focusout"===t&&ei()}function ri(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Yn(qn)}function oi(t,e){if("click"===t)return Yn(e)}function ai(t,e){if("input"===t||"change"===t)return Yn(e)}var si="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e};function ui(t,e){if(si(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!h.call(e,r)||!si(t[r],e[r]))return!1}return!0}function ci(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function li(t,e){var n,i=ci(t);for(t=0;i;){if(3===i.nodeType){if(n=t+i.textContent.length,t<=e&&n>=e)return{node:i,offset:e-t};t=n}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=ci(i)}}function hi(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?hi(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function fi(){for(var t=window,e=G();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(i){n=!1}if(!n)break;e=G((t=e.contentWindow).document)}return e}function di(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function pi(t){var e=fi(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&hi(n.ownerDocument.documentElement,n)){if(null!==i&&di(n))if(e=i.start,void 0===(t=i.end)&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if((t=(e=n.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var r=n.textContent.length,o=Math.min(i.start,r);i=void 0===i.end?o:Math.min(i.end,r),!t.extend&&o>i&&(r=i,i=o,o=r),r=li(n,o);var a=li(n,i);r&&a&&(1!==t.rangeCount||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&((e=e.createRange()).setStart(r.node,r.offset),t.removeAllRanges(),o>i?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}for(e=[],t=n;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<e.length;n++)(t=e[n]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var vi=l&&"documentMode"in document&&11>=document.documentMode,gi=null,mi=null,yi=null,_i=!1;function ki(t,e,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_i||null==gi||gi!==G(i)||("selectionStart"in(i=gi)&&di(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},yi&&ui(yi,i)||(yi=i,0<(i=Zi(mi,"onSelect")).length&&(e=new ln("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=gi)))}function wi(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var bi={animationend:wi("Animation","AnimationEnd"),animationiteration:wi("Animation","AnimationIteration"),animationstart:wi("Animation","AnimationStart"),transitionend:wi("Transition","TransitionEnd")},Si={},Ti={};function xi(t){if(Si[t])return Si[t];if(!bi[t])return t;var e,n=bi[t];for(e in n)if(n.hasOwnProperty(e)&&e in Ti)return Si[t]=n[e];return t}l&&(Ti=document.createElement("div").style,"AnimationEvent"in window||(delete bi.animationend.animation,delete bi.animationiteration.animation,delete bi.animationstart.animation),"TransitionEvent"in window||delete bi.transitionend.transition);var Ci=xi("animationend"),Ei=xi("animationiteration"),Mi=xi("animationstart"),Oi=xi("transitionend"),Pi=new Map,Li="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ai(t,e){Pi.set(t,e),u(e,[t])}for(var Ii=0;Ii<Li.length;Ii++){var Ni=Li[Ii];Ai(Ni.toLowerCase(),"on"+(Ni[0].toUpperCase()+Ni.slice(1)))}Ai(Ci,"onAnimationEnd"),Ai(Ei,"onAnimationIteration"),Ai(Mi,"onAnimationStart"),Ai("dblclick","onDoubleClick"),Ai("focusin","onFocus"),Ai("focusout","onBlur"),Ai(Oi,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ri="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bi=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ri));function Di(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,i,r,a,s,u,c){if(zt.apply(this,arguments),Bt){if(!Bt)throw Error(o(198));var l=Dt;Bt=!1,Dt=null,jt||(jt=!0,Wt=l)}}(i,e,void 0,t),t.currentTarget=null}function ji(t,e){e=0!==(4&e);for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;t:{var o=void 0;if(e)for(var a=i.length-1;0<=a;a--){var s=i[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&r.isPropagationStopped())break t;Di(r,s,c),o=u}else for(a=0;a<i.length;a++){if(u=(s=i[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&r.isPropagationStopped())break t;Di(r,s,c),o=u}}}if(jt)throw t=Wt,jt=!1,Wt=null,t}function Wi(t,e){var n=e[vr];void 0===n&&(n=e[vr]=new Set);var i=t+"__bubble";n.has(i)||(Hi(e,t,2,!1),n.add(i))}function Fi(t,e,n){var i=0;e&&(i|=4),Hi(n,t,i,e)}var zi="_reactListening"+Math.random().toString(36).slice(2);function Vi(t){if(!t[zi]){t[zi]=!0,a.forEach((function(e){"selectionchange"!==e&&(Bi.has(e)||Fi(e,!1,t),Fi(e,!0,t))}));var e=9===t.nodeType?t:t.ownerDocument;null===e||e[zi]||(e[zi]=!0,Fi("selectionchange",!1,e))}}function Hi(t,e,n,i){switch(Qe(e)){case 1:var r=Ke;break;case 4:r=Ze;break;default:r=qe}n=r.bind(null,e,n,t),r=void 0,!It||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(r=!0),i?void 0!==r?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):void 0!==r?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Ui(t,e,n,i,r){var o=i;if(0===(1&e)&&0===(2&e)&&null!==i)t:for(;;){if(null===i)return;var a=i.tag;if(3===a||4===a){var s=i.stateNode.containerInfo;if(s===r||8===s.nodeType&&s.parentNode===r)break;if(4===a)for(a=i.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===r||8===u.nodeType&&u.parentNode===r))return;a=a.return}for(;null!==s;){if(null===(a=yr(s)))return;if(5===(u=a.tag)||6===u){i=o=a;continue t}s=s.parentNode}}i=i.return}Lt((function(){var i=o,r=wt(n),a=[];t:{var s=Pi.get(t);if(void 0!==s){var u=ln,c=t;switch(t){case"keypress":if(0===en(n))break t;case"keydown":case"keyup":u=En;break;case"focusin":c="focus",u=gn;break;case"focusout":c="blur",u=gn;break;case"beforeblur":case"afterblur":u=gn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=On;break;case Ci:case Ei:case Mi:u=mn;break;case Oi:u=Pn;break;case"scroll":u=fn;break;case"wheel":u=An;break;case"copy":case"cut":case"paste":u=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Mn}var l=0!==(4&e),h=!l&&"scroll"===t,f=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=i;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==f&&(null!=(v=At(p,f))&&l.push(Ki(p,v,d)))),h)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,r),a.push({event:s,listeners:l}))}}if(0===(7&e)){if(u="mouseout"===t||"pointerout"===t,(!(s="mouseover"===t||"pointerover"===t)||n===kt||!(c=n.relatedTarget||n.fromElement)||!yr(c)&&!c[pr])&&(u||s)&&(s=r.window===r?r:(s=r.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=i,null!==(c=(c=n.relatedTarget||n.toElement)?yr(c):null)&&(c!==(h=Vt(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=i),u!==c)){if(l=pn,v="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==t&&"pointerover"!==t||(l=Mn,v="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==u?s:kr(u),d=null==c?s:kr(c),(s=new l(v,p+"leave",u,n,r)).target=h,s.relatedTarget=d,v=null,yr(r)===i&&((l=new l(f,p+"enter",c,n,r)).target=d,l.relatedTarget=h,v=l),h=v,u&&c)t:{for(f=c,p=0,d=l=u;d;d=qi(d))p++;for(d=0,v=f;v;v=qi(v))d++;for(;0<p-d;)l=qi(l),p--;for(;0<d-p;)f=qi(f),d--;for(;p--;){if(l===f||null!==f&&l===f.alternate)break t;l=qi(l),f=qi(f)}l=null}else l=null;null!==u&&Gi(a,s,u,l,!1),null!==c&&null!==h&&Gi(a,h,c,l,!0)}if("select"===(u=(s=i?kr(i):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var g=Qn;else if(Un(s))if($n)g=ai;else{g=ri;var m=ii}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=oi);switch(g&&(g=g(t,i))?Kn(a,g,n,r):(m&&m(t,s,i),"focusout"===t&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&tt(s,"number",s.value)),m=i?kr(i):window,t){case"focusin":(Un(m)||"true"===m.contentEditable)&&(gi=m,mi=i,yi=null);break;case"focusout":yi=mi=gi=null;break;case"mousedown":_i=!0;break;case"contextmenu":case"mouseup":case"dragend":_i=!1,ki(a,n,r);break;case"selectionchange":if(vi)break;case"keydown":case"keyup":ki(a,n,r)}var y;if(Nn)t:{switch(t){case"compositionstart":var _="onCompositionStart";break t;case"compositionend":_="onCompositionEnd";break t;case"compositionupdate":_="onCompositionUpdate";break t}_=void 0}else Vn?Fn(t,n)&&(_="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(_="onCompositionStart");_&&(Dn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==_?"onCompositionEnd"===_&&Vn&&(y=tn()):(Xe="value"in($e=r)?$e.value:$e.textContent,Vn=!0)),0<(m=Zi(i,_)).length&&(_=new kn(_,t,null,n,r),a.push({event:_,listeners:m}),y?_.data=y:null!==(y=zn(n))&&(_.data=y))),(y=Bn?function(t,e){switch(t){case"compositionend":return zn(e);case"keypress":return 32!==e.which?null:(Wn=!0,jn);case"textInput":return(t=e.data)===jn&&Wn?null:t;default:return null}}(t,n):function(t,e){if(Vn)return"compositionend"===t||!Nn&&Fn(t,e)?(t=tn(),Je=Xe=$e=null,Vn=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Dn&&"ko"!==e.locale?null:e.data}}(t,n))&&(0<(i=Zi(i,"onBeforeInput")).length&&(r=new kn("onBeforeInput","beforeinput",null,n,r),a.push({event:r,listeners:i}),r.data=y))}ji(a,e)}))}function Ki(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Zi(t,e){for(var n=e+"Capture",i=[];null!==t;){var r=t,o=r.stateNode;5===r.tag&&null!==o&&(r=o,null!=(o=At(t,n))&&i.unshift(Ki(t,o,r)),null!=(o=At(t,e))&&i.push(Ki(t,o,r))),t=t.return}return i}function qi(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Gi(t,e,n,i,r){for(var o=e._reactName,a=[];null!==n&&n!==i;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===i)break;5===s.tag&&null!==c&&(s=c,r?null!=(u=At(n,o))&&a.unshift(Ki(n,u,s)):r||null!=(u=At(n,o))&&a.push(Ki(n,u,s))),n=n.return}0!==a.length&&t.push({event:e,listeners:a})}var Yi=/\r\n?/g,Qi=/\u0000|\uFFFD/g;function $i(t){return("string"===typeof t?t:""+t).replace(Yi,"\n").replace(Qi,"")}function Xi(t,e,n){if(e=$i(e),$i(t)!==e&&n)throw Error(o(425))}function Ji(){}var tr=null,er=null;function nr(t,e){return"textarea"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var ir="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,or="function"===typeof Promise?Promise:void 0,ar="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof or?function(t){return or.resolve(null).then(t).catch(sr)}:ir;function sr(t){setTimeout((function(){throw t}))}function ur(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===i)return t.removeChild(r),void Ve(e);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=r}while(n);Ve(e)}function cr(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function lr(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var hr=Math.random().toString(36).slice(2),fr="__reactFiber$"+hr,dr="__reactProps$"+hr,pr="__reactContainer$"+hr,vr="__reactEvents$"+hr,gr="__reactListeners$"+hr,mr="__reactHandles$"+hr;function yr(t){var e=t[fr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[pr]||n[fr]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=lr(t);null!==t;){if(n=t[fr])return n;t=lr(t)}return e}n=(t=n).parentNode}return null}function _r(t){return!(t=t[fr]||t[pr])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function kr(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(o(33))}function wr(t){return t[dr]||null}var br=[],Sr=-1;function Tr(t){return{current:t}}function xr(t){0>Sr||(t.current=br[Sr],br[Sr]=null,Sr--)}function Cr(t,e){Sr++,br[Sr]=t.current,t.current=e}var Er={},Mr=Tr(Er),Or=Tr(!1),Pr=Er;function Lr(t,e){var n=t.type.contextTypes;if(!n)return Er;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in n)o[r]=e[r];return i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function Ar(t){return null!==(t=t.childContextTypes)&&void 0!==t}function Ir(){xr(Or),xr(Mr)}function Nr(t,e,n){if(Mr.current!==Er)throw Error(o(168));Cr(Mr,e),Cr(Or,n)}function Rr(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var r in i=i.getChildContext())if(!(r in e))throw Error(o(108,H(t)||"Unknown",r));return D({},n,i)}function Br(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Er,Pr=Mr.current,Cr(Mr,t),Cr(Or,Or.current),!0}function Dr(t,e,n){var i=t.stateNode;if(!i)throw Error(o(169));n?(t=Rr(t,e,Pr),i.__reactInternalMemoizedMergedChildContext=t,xr(Or),xr(Mr),Cr(Mr,t)):xr(Or),Cr(Or,n)}var jr=null,Wr=!1,Fr=!1;function zr(t){null===jr?jr=[t]:jr.push(t)}function Vr(){if(!Fr&&null!==jr){Fr=!0;var t=0,e=_e;try{var n=jr;for(_e=1;t<n.length;t++){var i=n[t];do{i=i(!0)}while(null!==i)}jr=null,Wr=!1}catch(r){throw null!==jr&&(jr=jr.slice(t+1)),qt(Jt,Vr),r}finally{_e=e,Fr=!1}}return null}var Hr=k.ReactCurrentBatchConfig;function Ur(t,e){if(t&&t.defaultProps){for(var n in e=D({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}var Kr=Tr(null),Zr=null,qr=null,Gr=null;function Yr(){Gr=qr=Zr=null}function Qr(t){var e=Kr.current;xr(Kr),t._currentValue=e}function $r(t,e,n){for(;null!==t;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==i&&(i.childLanes|=e)):null!==i&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Xr(t,e){Zr=t,Gr=qr=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(ws=!0),t.firstContext=null)}function Jr(t){var e=t._currentValue;if(Gr!==t)if(t={context:t,memoizedValue:e,next:null},null===qr){if(null===Zr)throw Error(o(308));qr=t,Zr.dependencies={lanes:0,firstContext:t}}else qr=qr.next=t;return e}var to=null,eo=!1;function no(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function io(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ro(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function oo(t,e){var n=t.updateQueue;null!==n&&(n=n.shared,ec(t)?(null===(t=n.interleaved)?(e.next=e,null===to?to=[n]:to.push(n)):(e.next=t.next,t.next=e),n.interleaved=e):(null===(t=n.pending)?e.next=e:(e.next=t.next,t.next=e),n.pending=e))}function ao(t,e,n){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194240&n))){var i=e.lanes;n|=i&=t.pendingLanes,e.lanes=n,ye(t,n)}}function so(t,e){var n=t.updateQueue,i=t.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?r=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?r=o=e:o=o.next=e}else r=o=e;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,effects:i.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function uo(t,e,n,i){var r=t.updateQueue;eo=!1;var o=r.firstBaseUpdate,a=r.lastBaseUpdate,s=r.shared.pending;if(null!==s){r.shared.pending=null;var u=s,c=u.next;u.next=null,null===a?o=c:a.next=c,a=u;var l=t.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==a&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==o){var h=r.baseState;for(a=0,l=c=u=null,s=o;;){var f=s.lane,d=s.eventTime;if((i&f)===f){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});t:{var p=t,v=s;switch(f=e,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,f);break t}h=p;break t;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=v.payload)?p.call(d,h,f):p)||void 0===f)break t;h=D({},h,f);break t;case 2:eo=!0}}null!==s.callback&&0!==s.lane&&(t.flags|=64,null===(f=r.effects)?r.effects=[s]:f.push(s))}else d={eventTime:d,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=h):l=l.next=d,a|=f;if(null===(s=s.next)){if(null===(s=r.shared.pending))break;s=(f=s).next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}if(null===l&&(u=h),r.baseState=u,r.firstBaseUpdate=c,r.lastBaseUpdate=l,null!==(e=r.shared.interleaved)){r=e;do{a|=r.lane,r=r.next}while(r!==e)}else null===o&&(r.shared.lanes=0);Iu|=a,t.lanes=a,t.memoizedState=h}}function co(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!==typeof r)throw Error(o(191,r));r.call(i)}}}var lo=(new i.Component).refs;function ho(t,e,n,i){n=null===(n=n(i,e=t.memoizedState))||void 0===n?e:D({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var fo={isMounted:function(t){return!!(t=t._reactInternals)&&Vt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=$u(),r=Xu(t),o=ro(i,r);o.payload=e,void 0!==n&&null!==n&&(o.callback=n),oo(t,o),null!==(e=Ju(t,r,i))&&ao(e,t,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=$u(),r=Xu(t),o=ro(i,r);o.tag=1,o.payload=e,void 0!==n&&null!==n&&(o.callback=n),oo(t,o),null!==(e=Ju(t,r,i))&&ao(e,t,r)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=$u(),i=Xu(t),r=ro(n,i);r.tag=2,void 0!==e&&null!==e&&(r.callback=e),oo(t,r),null!==(e=Ju(t,i,n))&&ao(e,t,i)}};function po(t,e,n,i,r,o,a){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(i,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!ui(n,i)||!ui(r,o))}function vo(t,e,n){var i=!1,r=Er,o=e.contextType;return"object"===typeof o&&null!==o?o=Jr(o):(r=Ar(e)?Pr:Mr.current,o=(i=null!==(i=e.contextTypes)&&void 0!==i)?Lr(t,r):Er),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=fo,t.stateNode=e,e._reactInternals=t,i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=o),e}function go(t,e,n,i){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,i),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&fo.enqueueReplaceState(e,e.state,null)}function mo(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs=lo,no(t);var o=e.contextType;"object"===typeof o&&null!==o?r.context=Jr(o):(o=Ar(e)?Pr:Mr.current,r.context=Lr(t,o)),r.state=t.memoizedState,"function"===typeof(o=e.getDerivedStateFromProps)&&(ho(t,e,o,n),r.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(e=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),e!==r.state&&fo.enqueueReplaceState(r,r.state,null),uo(t,n,r,i),r.state=t.memoizedState),"function"===typeof r.componentDidMount&&(t.flags|=4194308)}var yo=[],_o=0,ko=null,wo=0,bo=[],So=0,To=null,xo=1,Co="";function Eo(t,e){yo[_o++]=wo,yo[_o++]=ko,ko=t,wo=e}function Mo(t,e,n){bo[So++]=xo,bo[So++]=Co,bo[So++]=To,To=t;var i=xo;t=Co;var r=32-ae(i)-1;i&=~(1<<r),n+=1;var o=32-ae(e)+r;if(30<o){var a=r-r%5;o=(i&(1<<a)-1).toString(32),i>>=a,r-=a,xo=1<<32-ae(e)+r|n<<r|i,Co=o+t}else xo=1<<o|n<<r|i,Co=t}function Oo(t){null!==t.return&&(Eo(t,1),Mo(t,1,0))}function Po(t){for(;t===ko;)ko=yo[--_o],yo[_o]=null,wo=yo[--_o],yo[_o]=null;for(;t===To;)To=bo[--So],bo[So]=null,Co=bo[--So],bo[So]=null,xo=bo[--So],bo[So]=null}var Lo=null,Ao=null,Io=!1,No=null;function Ro(t,e){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,null===(e=t.deletions)?(t.deletions=[n],t.flags|=16):e.push(n)}function Bo(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,Lo=t,Ao=cr(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,Lo=t,Ao=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(n=null!==To?{id:xo,overflow:Co}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=e,n.return=t,t.child=n,Lo=t,Ao=null,!0);default:return!1}}function Do(t){return 0!==(1&t.mode)&&0===(128&t.flags)}function jo(t){if(Io){var e=Ao;if(e){var n=e;if(!Bo(t,e)){if(Do(t))throw Error(o(418));e=cr(n.nextSibling);var i=Lo;e&&Bo(t,e)?Ro(i,n):(t.flags=-4097&t.flags|2,Io=!1,Lo=t)}}else{if(Do(t))throw Error(o(418));t.flags=-4097&t.flags|2,Io=!1,Lo=t}}}function Wo(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;Lo=t}function Fo(t){if(t!==Lo)return!1;if(!Io)return Wo(t),Io=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!nr(t.type,t.memoizedProps)),e&&(e=Ao)){if(Do(t)){for(t=Ao;t;)t=cr(t.nextSibling);throw Error(o(418))}for(;e;)Ro(t,e),e=cr(e.nextSibling)}if(Wo(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(o(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){Ao=cr(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}Ao=null}}else Ao=Lo?cr(t.stateNode.nextSibling):null;return!0}function zo(){Ao=Lo=null,Io=!1}function Vo(t){null===No?No=[t]:No.push(t)}function Ho(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var i=n.stateNode}if(!i)throw Error(o(147,t));var r=i,a=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===a?e.ref:(e=function(t){var e=r.refs;e===lo&&(e=r.refs={}),null===t?delete e[a]:e[a]=t},e._stringRef=a,e)}if("string"!==typeof t)throw Error(o(284));if(!n._owner)throw Error(o(290,t))}return t}function Uo(t,e){throw t=Object.prototype.toString.call(e),Error(o(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ko(t){return(0,t._init)(t._payload)}function Zo(t){function e(e,n){if(t){var i=e.deletions;null===i?(e.deletions=[n],e.flags|=16):i.push(n)}}function n(n,i){if(!t)return null;for(;null!==i;)e(n,i),i=i.sibling;return null}function i(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(t,e){return(t=Ac(t,e)).index=0,t.sibling=null,t}function a(e,n,i){return e.index=i,t?null!==(i=e.alternate)?(i=i.index)<n?(e.flags|=2,n):i:(e.flags|=2,n):(e.flags|=1048576,n)}function s(e){return t&&null===e.alternate&&(e.flags|=2),e}function u(t,e,n,i){return null===e||6!==e.tag?((e=Bc(n,t.mode,i)).return=t,e):((e=r(e,n)).return=t,e)}function c(t,e,n,i){var o=n.type;return o===S?h(t,e,n.props.children,i,n.key):null!==e&&(e.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===A&&Ko(o)===e.type)?((i=r(e,n.props)).ref=Ho(t,e,n),i.return=t,i):((i=Ic(n.type,n.key,n.props,null,t.mode,i)).ref=Ho(t,e,n),i.return=t,i)}function l(t,e,n,i){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Dc(n,t.mode,i)).return=t,e):((e=r(e,n.children||[])).return=t,e)}function h(t,e,n,i,o){return null===e||7!==e.tag?((e=Nc(n,t.mode,i,o)).return=t,e):((e=r(e,n)).return=t,e)}function f(t,e,n){if("string"===typeof e&&""!==e||"number"===typeof e)return(e=Bc(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case w:return(n=Ic(e.type,e.key,e.props,null,t.mode,n)).ref=Ho(t,null,e),n.return=t,n;case b:return(e=Dc(e,t.mode,n)).return=t,e;case A:return f(t,(0,e._init)(e._payload),n)}if(et(e)||R(e))return(e=Nc(e,t.mode,n,null)).return=t,e;Uo(t,e)}return null}function d(t,e,n,i){var r=null!==e?e.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:u(t,e,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===r?c(t,e,n,i):null;case b:return n.key===r?l(t,e,n,i):null;case A:return d(t,e,(r=n._init)(n._payload),i)}if(et(n)||R(n))return null!==r?null:h(t,e,n,i,null);Uo(t,n)}return null}function p(t,e,n,i,r){if("string"===typeof i&&""!==i||"number"===typeof i)return u(e,t=t.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case w:return c(e,t=t.get(null===i.key?n:i.key)||null,i,r);case b:return l(e,t=t.get(null===i.key?n:i.key)||null,i,r);case A:return p(t,e,n,(0,i._init)(i._payload),r)}if(et(i)||R(i))return h(e,t=t.get(n)||null,i,r,null);Uo(e,i)}return null}function v(r,o,s,u){for(var c=null,l=null,h=o,v=o=0,g=null;null!==h&&v<s.length;v++){h.index>v?(g=h,h=null):g=h.sibling;var m=d(r,h,s[v],u);if(null===m){null===h&&(h=g);break}t&&h&&null===m.alternate&&e(r,h),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m,h=g}if(v===s.length)return n(r,h),Io&&Eo(r,v),c;if(null===h){for(;v<s.length;v++)null!==(h=f(r,s[v],u))&&(o=a(h,o,v),null===l?c=h:l.sibling=h,l=h);return Io&&Eo(r,v),c}for(h=i(r,h);v<s.length;v++)null!==(g=p(h,r,v,s[v],u))&&(t&&null!==g.alternate&&h.delete(null===g.key?v:g.key),o=a(g,o,v),null===l?c=g:l.sibling=g,l=g);return t&&h.forEach((function(t){return e(r,t)})),Io&&Eo(r,v),c}function g(r,s,u,c){var l=R(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var h=l=null,v=s,g=s=0,m=null,y=u.next();null!==v&&!y.done;g++,y=u.next()){v.index>g?(m=v,v=null):m=v.sibling;var _=d(r,v,y.value,c);if(null===_){null===v&&(v=m);break}t&&v&&null===_.alternate&&e(r,v),s=a(_,s,g),null===h?l=_:h.sibling=_,h=_,v=m}if(y.done)return n(r,v),Io&&Eo(r,g),l;if(null===v){for(;!y.done;g++,y=u.next())null!==(y=f(r,y.value,c))&&(s=a(y,s,g),null===h?l=y:h.sibling=y,h=y);return Io&&Eo(r,g),l}for(v=i(r,v);!y.done;g++,y=u.next())null!==(y=p(v,r,g,y.value,c))&&(t&&null!==y.alternate&&v.delete(null===y.key?g:y.key),s=a(y,s,g),null===h?l=y:h.sibling=y,h=y);return t&&v.forEach((function(t){return e(r,t)})),Io&&Eo(r,g),l}return function t(i,o,a,u){if("object"===typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:t:{for(var c=a.key,l=o;null!==l;){if(l.key===c){if((c=a.type)===S){if(7===l.tag){n(i,l.sibling),(o=r(l,a.props.children)).return=i,i=o;break t}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===A&&Ko(c)===l.type){n(i,l.sibling),(o=r(l,a.props)).ref=Ho(i,l,a),o.return=i,i=o;break t}n(i,l);break}e(i,l),l=l.sibling}a.type===S?((o=Nc(a.props.children,i.mode,u,a.key)).return=i,i=o):((u=Ic(a.type,a.key,a.props,null,i.mode,u)).ref=Ho(i,o,a),u.return=i,i=u)}return s(i);case b:t:{for(l=a.key;null!==o;){if(o.key===l){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(i,o.sibling),(o=r(o,a.children||[])).return=i,i=o;break t}n(i,o);break}e(i,o),o=o.sibling}(o=Dc(a,i.mode,u)).return=i,i=o}return s(i);case A:return t(i,o,(l=a._init)(a._payload),u)}if(et(a))return v(i,o,a,u);if(R(a))return g(i,o,a,u);Uo(i,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(i,o.sibling),(o=r(o,a)).return=i,i=o):(n(i,o),(o=Bc(a,i.mode,u)).return=i,i=o),s(i)):n(i,o)}}var qo=Zo(!0),Go=Zo(!1),Yo={},Qo=Tr(Yo),$o=Tr(Yo),Xo=Tr(Yo);function Jo(t){if(t===Yo)throw Error(o(174));return t}function ta(t,e){switch(Cr(Xo,e),Cr($o,t),Cr(Qo,Yo),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ut(null,"");break;default:e=ut(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}xr(Qo),Cr(Qo,e)}function ea(){xr(Qo),xr($o),xr(Xo)}function na(t){Jo(Xo.current);var e=Jo(Qo.current),n=ut(e,t.type);e!==n&&(Cr($o,t),Cr(Qo,n))}function ia(t){$o.current===t&&(xr(Qo),xr($o))}var ra=Tr(0);function oa(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var aa=[];function sa(){for(var t=0;t<aa.length;t++)aa[t]._workInProgressVersionPrimary=null;aa.length=0}var ua=k.ReactCurrentDispatcher,ca=k.ReactCurrentBatchConfig,la=0,ha=null,fa=null,da=null,pa=!1,va=!1,ga=0,ma=0;function ya(){throw Error(o(321))}function _a(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!si(t[n],e[n]))return!1;return!0}function ka(t,e,n,i,r,a){if(la=a,ha=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ua.current=null===t||null===t.memoizedState?is:rs,t=n(i,r),va){a=0;do{if(va=!1,ga=0,25<=a)throw Error(o(301));a+=1,da=fa=null,e.updateQueue=null,ua.current=os,t=n(i,r)}while(va)}if(ua.current=ns,e=null!==fa&&null!==fa.next,la=0,da=fa=ha=null,pa=!1,e)throw Error(o(300));return t}function wa(){var t=0!==ga;return ga=0,t}function ba(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===da?ha.memoizedState=da=t:da=da.next=t,da}function Sa(){if(null===fa){var t=ha.alternate;t=null!==t?t.memoizedState:null}else t=fa.next;var e=null===da?ha.memoizedState:da.next;if(null!==e)da=e,fa=t;else{if(null===t)throw Error(o(310));t={memoizedState:(fa=t).memoizedState,baseState:fa.baseState,baseQueue:fa.baseQueue,queue:fa.queue,next:null},null===da?ha.memoizedState=da=t:da=da.next=t}return da}function Ta(t,e){return"function"===typeof e?e(t):e}function xa(t){var e=Sa(),n=e.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=t;var i=fa,r=i.baseQueue,a=n.pending;if(null!==a){if(null!==r){var s=r.next;r.next=a.next,a.next=s}i.baseQueue=r=a,n.pending=null}if(null!==r){a=r.next,i=i.baseState;var u=s=null,c=null,l=a;do{var h=l.lane;if((la&h)===h)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),i=l.hasEagerState?l.eagerState:t(i,l.action);else{var f={lane:h,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=f,s=i):c=c.next=f,ha.lanes|=h,Iu|=h}l=l.next}while(null!==l&&l!==a);null===c?s=i:c.next=u,si(i,e.memoizedState)||(ws=!0),e.memoizedState=i,e.baseState=s,e.baseQueue=c,n.lastRenderedState=i}if(null!==(t=n.interleaved)){r=t;do{a=r.lane,ha.lanes|=a,Iu|=a,r=r.next}while(r!==t)}else null===r&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ca(t){var e=Sa(),n=e.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,a=e.memoizedState;if(null!==r){n.pending=null;var s=r=r.next;do{a=t(a,s.action),s=s.next}while(s!==r);si(a,e.memoizedState)||(ws=!0),e.memoizedState=a,null===e.baseQueue&&(e.baseState=a),n.lastRenderedState=a}return[a,i]}function Ea(){}function Ma(t,e){var n=ha,i=Sa(),r=e(),a=!si(i.memoizedState,r);if(a&&(i.memoizedState=r,ws=!0),i=i.queue,Wa(La.bind(null,n,i,t),[t]),i.getSnapshot!==e||a||null!==da&&1&da.memoizedState.tag){if(n.flags|=2048,Na(9,Pa.bind(null,n,i,r,e),void 0,null),null===Cu)throw Error(o(349));0!==(30&la)||Oa(n,e,r)}return r}function Oa(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},null===(e=ha.updateQueue)?(e={lastEffect:null,stores:null},ha.updateQueue=e,e.stores=[t]):null===(n=e.stores)?e.stores=[t]:n.push(t)}function Pa(t,e,n,i){e.value=n,e.getSnapshot=i,Aa(e)&&Ju(t,1,-1)}function La(t,e,n){return n((function(){Aa(e)&&Ju(t,1,-1)}))}function Aa(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!si(t,n)}catch(i){return!0}}function Ia(t){var e=ba();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:t},e.queue=t,t=t.dispatch=$a.bind(null,ha,t),[e.memoizedState,t]}function Na(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},null===(e=ha.updateQueue)?(e={lastEffect:null,stores:null},ha.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function Ra(){return Sa().memoizedState}function Ba(t,e,n,i){var r=ba();ha.flags|=t,r.memoizedState=Na(1|e,n,void 0,void 0===i?null:i)}function Da(t,e,n,i){var r=Sa();i=void 0===i?null:i;var o=void 0;if(null!==fa){var a=fa.memoizedState;if(o=a.destroy,null!==i&&_a(i,a.deps))return void(r.memoizedState=Na(e,n,o,i))}ha.flags|=t,r.memoizedState=Na(1|e,n,o,i)}function ja(t,e){return Ba(8390656,8,t,e)}function Wa(t,e){return Da(2048,8,t,e)}function Fa(t,e){return Da(4,2,t,e)}function za(t,e){return Da(4,4,t,e)}function Va(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Ha(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Da(4,4,Va.bind(null,e,t),n)}function Ua(){}function Ka(t,e){var n=Sa();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&_a(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Za(t,e){var n=Sa();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&_a(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function qa(t,e,n){return 0===(21&la)?(t.baseState&&(t.baseState=!1,ws=!0),t.memoizedState=n):(si(n,e)||(n=ve(),ha.lanes|=n,Iu|=n,t.baseState=!0),e)}function Ga(t,e){var n=_e;_e=0!==n&&4>n?n:4,t(!0);var i=ca.transition;ca.transition={};try{t(!1),e()}finally{_e=n,ca.transition=i}}function Ya(){return Sa().memoizedState}function Qa(t,e,n){var i=Xu(t);n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Xa(t)?Ja(e,n):(ts(t,e,n),null!==(t=Ju(t,i,n=$u()))&&es(t,e,i))}function $a(t,e,n){var i=Xu(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xa(t))Ja(e,r);else{ts(t,e,r);var o=t.alternate;if(0===t.lanes&&(null===o||0===o.lanes)&&null!==(o=e.lastRenderedReducer))try{var a=e.lastRenderedState,s=o(a,n);if(r.hasEagerState=!0,r.eagerState=s,si(s,a))return}catch(u){}null!==(t=Ju(t,i,n=$u()))&&es(t,e,i)}}function Xa(t){var e=t.alternate;return t===ha||null!==e&&e===ha}function Ja(t,e){va=pa=!0;var n=t.pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ts(t,e,n){ec(t)?(null===(t=e.interleaved)?(n.next=n,null===to?to=[e]:to.push(e)):(n.next=t.next,t.next=n),e.interleaved=n):(null===(t=e.pending)?n.next=n:(n.next=t.next,t.next=n),e.pending=n)}function es(t,e,n){if(0!==(4194240&n)){var i=e.lanes;n|=i&=t.pendingLanes,e.lanes=n,ye(t,n)}}var ns={readContext:Jr,useCallback:ya,useContext:ya,useEffect:ya,useImperativeHandle:ya,useInsertionEffect:ya,useLayoutEffect:ya,useMemo:ya,useReducer:ya,useRef:ya,useState:ya,useDebugValue:ya,useDeferredValue:ya,useTransition:ya,useMutableSource:ya,useSyncExternalStore:ya,useId:ya,unstable_isNewReconciler:!1},is={readContext:Jr,useCallback:function(t,e){return ba().memoizedState=[t,void 0===e?null:e],t},useContext:Jr,useEffect:ja,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Ba(4194308,4,Va.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ba(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ba(4,2,t,e)},useMemo:function(t,e){var n=ba();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=ba();return e=void 0!==n?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=Qa.bind(null,ha,t),[i.memoizedState,t]},useRef:function(t){return t={current:t},ba().memoizedState=t},useState:Ia,useDebugValue:Ua,useDeferredValue:function(t){return ba().memoizedState=t},useTransition:function(){var t=Ia(!1),e=t[0];return t=Ga.bind(null,t[1]),ba().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=ha,r=ba();if(Io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=e(),null===Cu)throw Error(o(349));0!==(30&la)||Oa(i,e,n)}r.memoizedState=n;var a={value:n,getSnapshot:e};return r.queue=a,ja(La.bind(null,i,a,t),[t]),i.flags|=2048,Na(9,Pa.bind(null,i,a,n,e),void 0,null),n},useId:function(){var t=ba(),e=Cu.identifierPrefix;if(Io){var n=Co;e=":"+e+"R"+(n=(xo&~(1<<32-ae(xo)-1)).toString(32)+n),0<(n=ga++)&&(e+="H"+n.toString(32)),e+=":"}else e=":"+e+"r"+(n=ma++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},rs={readContext:Jr,useCallback:Ka,useContext:Jr,useEffect:Wa,useImperativeHandle:Ha,useInsertionEffect:Fa,useLayoutEffect:za,useMemo:Za,useReducer:xa,useRef:Ra,useState:function(){return xa(Ta)},useDebugValue:Ua,useDeferredValue:function(t){return qa(Sa(),fa.memoizedState,t)},useTransition:function(){return[xa(Ta)[0],Sa().memoizedState]},useMutableSource:Ea,useSyncExternalStore:Ma,useId:Ya,unstable_isNewReconciler:!1},os={readContext:Jr,useCallback:Ka,useContext:Jr,useEffect:Wa,useImperativeHandle:Ha,useInsertionEffect:Fa,useLayoutEffect:za,useMemo:Za,useReducer:Ca,useRef:Ra,useState:function(){return Ca(Ta)},useDebugValue:Ua,useDeferredValue:function(t){var e=Sa();return null===fa?e.memoizedState=t:qa(e,fa.memoizedState,t)},useTransition:function(){return[Ca(Ta)[0],Sa().memoizedState]},useMutableSource:Ea,useSyncExternalStore:Ma,useId:Ya,unstable_isNewReconciler:!1};function as(t,e){try{var n="",i=e;do{n+=z(i),i=i.return}while(i);var r=n}catch(o){r="\nError generating stack: "+o.message+"\n"+o.stack}return{value:t,source:e,stack:r}}function ss(t,e){try{console.error(e.value)}catch(n){setTimeout((function(){throw n}))}}var us,cs,ls,hs="function"===typeof WeakMap?WeakMap:Map;function fs(t,e,n){(n=ro(-1,n)).tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){zu||(zu=!0,Vu=i),ss(0,e)},n}function ds(t,e,n){(n=ro(-1,n)).tag=3;var i=t.type.getDerivedStateFromError;if("function"===typeof i){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){ss(0,e)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ss(0,e),"function"!==typeof i&&(null===Hu?Hu=new Set([this]):Hu.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}function ps(t,e,n){var i=t.pingCache;if(null===i){i=t.pingCache=new hs;var r=new Set;i.set(e,r)}else void 0===(r=i.get(e))&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=Tc.bind(null,t,e,n),e.then(t,t))}function vs(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function gs(t,e,n,i,r){return 0===(1&t.mode)?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((e=ro(-1,1)).tag=2,oo(n,e))),n.lanes|=1),t):(t.flags|=65536,t.lanes=r,t)}function ms(t,e){if(!Io)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?e||null===t.tail?t.tail=null:t.tail.sibling=null:i.sibling=null}}function ys(t){var e=null!==t.alternate&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;null!==r;)n|=r.lanes|r.childLanes,i|=14680064&r.subtreeFlags,i|=14680064&r.flags,r.return=t,r=r.sibling;else for(r=t.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function _s(t,e,n){var i=e.pendingProps;switch(Po(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ys(e),null;case 1:case 17:return Ar(e.type)&&Ir(),ys(e),null;case 3:return i=e.stateNode,ea(),xr(Or),xr(Mr),sa(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==t&&null!==t.child||(Fo(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,null!==No&&(oc(No),No=null))),ys(e),null;case 5:ia(e);var r=Jo(Xo.current);if(n=e.type,null!==t&&null!=e.stateNode)cs(t,e,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(null===e.stateNode)throw Error(o(166));return ys(e),null}if(t=Jo(Qo.current),Fo(e)){i=e.stateNode,n=e.type;var a=e.memoizedProps;switch(i[fr]=e,i[dr]=a,t=0!==(1&e.mode),n){case"dialog":Wi("cancel",i),Wi("close",i);break;case"iframe":case"object":case"embed":Wi("load",i);break;case"video":case"audio":for(r=0;r<Ri.length;r++)Wi(Ri[r],i);break;case"source":Wi("error",i);break;case"img":case"image":case"link":Wi("error",i),Wi("load",i);break;case"details":Wi("toggle",i);break;case"input":Q(i,a),Wi("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!a.multiple},Wi("invalid",i);break;case"textarea":rt(i,a),Wi("invalid",i)}for(var u in yt(n,a),r=null,a)if(a.hasOwnProperty(u)){var c=a[u];"children"===u?"string"===typeof c?i.textContent!==c&&(!0!==a.suppressHydrationWarning&&Xi(i.textContent,c,t),r=["children",c]):"number"===typeof c&&i.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Xi(i.textContent,c,t),r=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Wi("scroll",i)}switch(n){case"input":Z(i),J(i,a,!0);break;case"textarea":Z(i),at(i);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(i.onclick=Ji)}i=r,e.updateQueue=i,null!==i&&(e.flags|=4)}else{u=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=st(n)),"http://www.w3.org/1999/xhtml"===t?"script"===n?((t=u.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof i.is?t=u.createElement(n,{is:i.is}):(t=u.createElement(n),"select"===n&&(u=t,i.multiple?u.multiple=!0:i.size&&(u.size=i.size))):t=u.createElementNS(t,n),t[fr]=e,t[dr]=i,us(t,e),e.stateNode=t;t:{switch(u=_t(n,i),n){case"dialog":Wi("cancel",t),Wi("close",t),r=i;break;case"iframe":case"object":case"embed":Wi("load",t),r=i;break;case"video":case"audio":for(r=0;r<Ri.length;r++)Wi(Ri[r],t);r=i;break;case"source":Wi("error",t),r=i;break;case"img":case"image":case"link":Wi("error",t),Wi("load",t),r=i;break;case"details":Wi("toggle",t),r=i;break;case"input":Q(t,i),r=Y(t,i),Wi("invalid",t);break;case"option":default:r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=D({},i,{value:void 0}),Wi("invalid",t);break;case"textarea":rt(t,i),r=it(t,i),Wi("invalid",t)}for(a in yt(n,r),c=r)if(c.hasOwnProperty(a)){var l=c[a];"style"===a?gt(t,l):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&ht(t,l):"children"===a?"string"===typeof l?("textarea"!==n||""!==l)&&ft(t,l):"number"===typeof l&&ft(t,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=l&&"onScroll"===a&&Wi("scroll",t):null!=l&&_(t,a,l,u))}switch(n){case"input":Z(t),J(t,i,!1);break;case"textarea":Z(t),at(t);break;case"option":null!=i.value&&t.setAttribute("value",""+U(i.value));break;case"select":t.multiple=!!i.multiple,null!=(a=i.value)?nt(t,!!i.multiple,a,!1):null!=i.defaultValue&&nt(t,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof r.onClick&&(t.onclick=Ji)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}}i&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return ys(e),null;case 6:if(t&&null!=e.stateNode)ls(0,e,t.memoizedProps,i);else{if("string"!==typeof i&&null===e.stateNode)throw Error(o(166));if(n=Jo(Xo.current),Jo(Qo.current),Fo(e)){if(i=e.stateNode,n=e.memoizedProps,i[fr]=e,(a=i.nodeValue!==n)&&null!==(t=Lo))switch(t.tag){case 3:Xi(i.nodeValue,n,0!==(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&Xi(i.nodeValue,n,0!==(1&t.mode))}a&&(e.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[fr]=e,e.stateNode=i}return ys(e),null;case 13:if(xr(ra),i=e.memoizedState,Io&&null!==Ao&&0!==(1&e.mode)&&0===(128&e.flags)){for(i=Ao;i;)i=cr(i.nextSibling);return zo(),e.flags|=98560,e}if(null!==i&&null!==i.dehydrated){if(i=Fo(e),null===t){if(!i)throw Error(o(318));if(!(i=null!==(i=e.memoizedState)?i.dehydrated:null))throw Error(o(317));i[fr]=e}else zo(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;return ys(e),null}return null!==No&&(oc(No),No=null),0!==(128&e.flags)?(e.lanes=n,e):(i=null!==i,n=!1,null===t?Fo(e):n=null!==t.memoizedState,i!==n&&i&&(e.child.flags|=8192,0!==(1&e.mode)&&(null===t||0!==(1&ra.current)?0===Lu&&(Lu=3):pc())),null!==e.updateQueue&&(e.flags|=4),ys(e),null);case 4:return ea(),null===t&&Vi(e.stateNode.containerInfo),ys(e),null;case 10:return Qr(e.type._context),ys(e),null;case 19:if(xr(ra),null===(a=e.memoizedState))return ys(e),null;if(i=0!==(128&e.flags),null===(u=a.rendering))if(i)ms(a,!1);else{if(0!==Lu||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(u=oa(t))){for(e.flags|=128,ms(a,!1),null!==(i=u.updateQueue)&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;null!==n;)t=i,(a=n).flags&=14680066,null===(u=a.alternate)?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,t=u.dependencies,a.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Cr(ra,1&ra.current|2),e.child}t=t.sibling}null!==a.tail&&$t()>Wu&&(e.flags|=128,i=!0,ms(a,!1),e.lanes=4194304)}else{if(!i)if(null!==(t=oa(u))){if(e.flags|=128,i=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),ms(a,!0),null===a.tail&&"hidden"===a.tailMode&&!u.alternate&&!Io)return ys(e),null}else 2*$t()-a.renderingStartTime>Wu&&1073741824!==n&&(e.flags|=128,i=!0,ms(a,!1),e.lanes=4194304);a.isBackwards?(u.sibling=e.child,e.child=u):(null!==(n=a.last)?n.sibling=u:e.child=u,a.last=u)}return null!==a.tail?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=$t(),e.sibling=null,n=ra.current,Cr(ra,i?1&n|2:1&n),e):(ys(e),null);case 22:case 23:return lc(),i=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==i&&(e.flags|=8192),i&&0!==(1&e.mode)?0!==(1073741824&Ou)&&(ys(e),6&e.subtreeFlags&&(e.flags|=8192)):ys(e),null;case 24:case 25:return null}throw Error(o(156,e.tag))}us=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},cs=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,Jo(Qo.current);var o,a=null;switch(n){case"input":r=Y(t,r),i=Y(t,i),a=[];break;case"select":r=D({},r,{value:void 0}),i=D({},i,{value:void 0}),a=[];break;case"textarea":r=it(t,r),i=it(t,i),a=[];break;default:"function"!==typeof r.onClick&&"function"===typeof i.onClick&&(t.onclick=Ji)}for(l in yt(n,i),n=null,r)if(!i.hasOwnProperty(l)&&r.hasOwnProperty(l)&&null!=r[l])if("style"===l){var u=r[l];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in i){var c=i[l];if(u=null!=r?r[l]:void 0,i.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(a=a||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Wi("scroll",t),a||u===c||(a=[])):(a=a||[]).push(l,c))}n&&(a=a||[]).push("style",n);var l=a;(e.updateQueue=l)&&(e.flags|=4)}},ls=function(t,e,n,i){n!==i&&(e.flags|=4)};var ks=k.ReactCurrentOwner,ws=!1;function bs(t,e,n,i){e.child=null===t?Go(e,null,n,i):qo(e,t.child,n,i)}function Ss(t,e,n,i,r){n=n.render;var o=e.ref;return Xr(e,r),i=ka(t,e,n,i,o,r),n=wa(),null===t||ws?(Io&&n&&Oo(e),e.flags|=1,bs(t,e,i,r),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Us(t,e,r))}function Ts(t,e,n,i,r){if(null===t){var o=n.type;return"function"!==typeof o||Lc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Ic(n.type,null,i,e,e.mode,r)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=o,xs(t,e,o,i,r))}if(o=t.child,0===(t.lanes&r)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:ui)(a,i)&&t.ref===e.ref)return Us(t,e,r)}return e.flags|=1,(t=Ac(o,i)).ref=e.ref,t.return=e,e.child=t}function xs(t,e,n,i,r){if(null!==t){var o=t.memoizedProps;if(ui(o,i)&&t.ref===e.ref){if(ws=!1,e.pendingProps=i=o,0===(t.lanes&r))return e.lanes=t.lanes,Us(t,e,r);0!==(131072&t.flags)&&(ws=!0)}}return Ms(t,e,n,i,r)}function Cs(t,e,n){var i=e.pendingProps,r=i.children,o=null!==t?t.memoizedState:null;if("hidden"===i.mode)if(0===(1&e.mode))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cr(Pu,Ou),Ou|=n;else{if(0===(1073741824&n))return t=null!==o?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Cr(Pu,Ou),Ou|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==o?o.baseLanes:n,Cr(Pu,Ou),Ou|=i}else null!==o?(i=o.baseLanes|n,e.memoizedState=null):i=n,Cr(Pu,Ou),Ou|=i;return bs(t,e,r,n),e.child}function Es(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ms(t,e,n,i,r){var o=Ar(n)?Pr:Mr.current;return o=Lr(e,o),Xr(e,r),n=ka(t,e,n,i,o,r),i=wa(),null===t||ws?(Io&&i&&Oo(e),e.flags|=1,bs(t,e,n,r),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Us(t,e,r))}function Os(t,e,n,i,r){if(Ar(n)){var o=!0;Br(e)}else o=!1;if(Xr(e,r),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),vo(e,n,i),mo(e,n,i,r),i=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Jr(c):c=Lr(e,c=Ar(n)?Pr:Mr.current);var l=n.getDerivedStateFromProps,h="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==i||u!==c)&&go(e,a,i,c),eo=!1;var f=e.memoizedState;a.state=f,uo(e,i,a,r),u=e.memoizedState,s!==i||f!==u||Or.current||eo?("function"===typeof l&&(ho(e,n,l,i),u=e.memoizedState),(s=eo||po(e,n,s,i,f,u,c))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.flags|=4194308)):("function"===typeof a.componentDidMount&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=u),a.props=i,a.state=u,a.context=c,i=s):("function"===typeof a.componentDidMount&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,io(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:Ur(e.type,s),a.props=c,h=e.pendingProps,f=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=Jr(u):u=Lr(e,u=Ar(n)?Pr:Mr.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==h||f!==u)&&go(e,a,i,u),eo=!1,f=e.memoizedState,a.state=f,uo(e,i,a,r);var p=e.memoizedState;s!==h||f!==p||Or.current||eo?("function"===typeof d&&(ho(e,n,d,i),p=e.memoizedState),(c=eo||po(e,n,c,i,f,p,u)||!1)?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(i,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(i,p,u)),"function"===typeof a.componentDidUpdate&&(e.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=p),a.props=i,a.state=p,a.context=u,i=c):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),i=!1)}return Ps(t,e,n,i,o,r)}function Ps(t,e,n,i,r,o){Es(t,e);var a=0!==(128&e.flags);if(!i&&!a)return r&&Dr(e,n,!1),Us(t,e,o);i=e.stateNode,ks.current=e;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return e.flags|=1,null!==t&&a?(e.child=qo(e,t.child,null,o),e.child=qo(e,null,s,o)):bs(t,e,s,o),e.memoizedState=i.state,r&&Dr(e,n,!0),e.child}function Ls(t){var e=t.stateNode;e.pendingContext?Nr(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Nr(0,e.context,!1),ta(t,e.containerInfo)}function As(t,e,n,i,r){return zo(),Vo(r),e.flags|=256,bs(t,e,n,i),e.child}var Is={dehydrated:null,treeContext:null,retryLane:0};function Ns(t){return{baseLanes:t,cachePool:null,transitions:null}}function Rs(t,e){return{baseLanes:t.baseLanes|e,cachePool:null,transitions:t.transitions}}function Bs(t,e,n){var i,r=e.pendingProps,a=ra.current,s=!1,u=0!==(128&e.flags);if((i=u)||(i=(null===t||null!==t.memoizedState)&&0!==(2&a)),i?(s=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(a|=1),Cr(ra,1&a),null===t)return jo(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(0===(1&e.mode)?e.lanes=1:"$!"===t.data?e.lanes=8:e.lanes=1073741824,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},0===(1&r)&&null!==s?(s.childLanes=0,s.pendingProps=a):s=Rc(a,r,0,null),t=Nc(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ns(n),e.memoizedState=Is,t):Ds(e,a));if(null!==(a=t.memoizedState)){if(null!==(i=a.dehydrated)){if(u)return 256&e.flags?(e.flags&=-257,Fs(t,e,n,Error(o(422)))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(s=r.fallback,a=e.mode,r=Rc({mode:"visible",children:r.children},a,0,null),(s=Nc(s,a,n,null)).flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,0!==(1&e.mode)&&qo(e,t.child,null,n),e.child.memoizedState=Ns(n),e.memoizedState=Is,s);if(0===(1&e.mode))e=Fs(t,e,n,null);else if("$!"===i.data)e=Fs(t,e,n,Error(o(419)));else if(r=0!==(n&t.childLanes),ws||r){if(null!==(r=Cu)){switch(n&-n){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(r=0!==(s&(r.suspendedLanes|n))?0:s)&&r!==a.retryLane&&(a.retryLane=r,Ju(t,r,-1))}pc(),e=Fs(t,e,n,Error(o(421)))}else"$?"===i.data?(e.flags|=128,e.child=t.child,e=Cc.bind(null,t),i._reactRetry=e,e=null):(n=a.treeContext,Ao=cr(i.nextSibling),Lo=e,Io=!0,No=null,null!==n&&(bo[So++]=xo,bo[So++]=Co,bo[So++]=To,xo=n.id,Co=n.overflow,To=e),(e=Ds(e,e.pendingProps.children)).flags|=4096);return e}return s?(r=Ws(t,e,r.children,r.fallback,n),s=e.child,a=t.child.memoizedState,s.memoizedState=null===a?Ns(n):Rs(a,n),s.childLanes=t.childLanes&~n,e.memoizedState=Is,r):(n=js(t,e,r.children,n),e.memoizedState=null,n)}return s?(r=Ws(t,e,r.children,r.fallback,n),s=e.child,a=t.child.memoizedState,s.memoizedState=null===a?Ns(n):Rs(a,n),s.childLanes=t.childLanes&~n,e.memoizedState=Is,r):(n=js(t,e,r.children,n),e.memoizedState=null,n)}function Ds(t,e){return(e=Rc({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function js(t,e,n,i){var r=t.child;return t=r.sibling,n=Ac(r,{mode:"visible",children:n}),0===(1&e.mode)&&(n.lanes=i),n.return=e,n.sibling=null,null!==t&&(null===(i=e.deletions)?(e.deletions=[t],e.flags|=16):i.push(t)),e.child=n}function Ws(t,e,n,i,r){var o=e.mode,a=(t=t.child).sibling,s={mode:"hidden",children:n};return 0===(1&o)&&e.child!==t?((n=e.child).childLanes=0,n.pendingProps=s,e.deletions=null):(n=Ac(t,s)).subtreeFlags=14680064&t.subtreeFlags,null!==a?i=Ac(a,i):(i=Nc(i,o,r,null)).flags|=2,i.return=e,n.return=e,n.sibling=i,e.child=n,i}function Fs(t,e,n,i){return null!==i&&Vo(i),qo(e,t.child,null,n),(t=Ds(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function zs(t,e,n){t.lanes|=e;var i=t.alternate;null!==i&&(i.lanes|=e),$r(t.return,e,n)}function Vs(t,e,n,i,r){var o=t.memoizedState;null===o?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r)}function Hs(t,e,n){var i=e.pendingProps,r=i.revealOrder,o=i.tail;if(bs(t,e,i.children,n),0!==(2&(i=ra.current)))i=1&i|2,e.flags|=128;else{if(null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&zs(t,n,e);else if(19===t.tag)zs(t,n,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Cr(ra,i),0===(1&e.mode))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;null!==n;)null!==(t=n.alternate)&&null===oa(t)&&(r=n),n=n.sibling;null===(n=r)?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Vs(e,!1,r,n,o);break;case"backwards":for(n=null,r=e.child,e.child=null;null!==r;){if(null!==(t=r.alternate)&&null===oa(t)){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Vs(e,!0,n,null,o);break;case"together":Vs(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Us(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),Iu|=e.lanes,0===(n&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(o(153));if(null!==e.child){for(n=Ac(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Ac(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function Ks(t,e){switch(Po(e),e.tag){case 1:return Ar(e.type)&&Ir(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return ea(),xr(Or),xr(Mr),sa(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 5:return ia(e),null;case 13:if(xr(ra),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(o(340));zo()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return xr(ra),null;case 4:return ea(),null;case 10:return Qr(e.type._context),null;case 22:case 23:return lc(),null;default:return null}}var Zs=!1,qs=!1,Gs="function"===typeof WeakSet?WeakSet:Set,Ys=null;function Qs(t,e){var n=t.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(i){Sc(t,e,i)}else n.current=null}function $s(t,e,n){try{n()}catch(i){Sc(t,e,i)}}var Xs=!1;function Js(t,e,n){var i=e.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var r=i=i.next;do{if((r.tag&t)===t){var o=r.destroy;r.destroy=void 0,void 0!==o&&$s(e,n,o)}r=r.next}while(r!==i)}}function tu(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function eu(t){var e=t.ref;if(null!==e){var n=t.stateNode;t.tag,t=n,"function"===typeof e?e(t):e.current=t}}function nu(t){var e=t.alternate;null!==e&&(t.alternate=null,nu(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&(delete e[fr],delete e[dr],delete e[vr],delete e[gr],delete e[mr])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function iu(t){return 5===t.tag||3===t.tag||4===t.tag}function ru(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||iu(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function ou(t,e,n){var i=t.tag;if(5===i||6===i)t=t.stateNode,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=Ji));else if(4!==i&&null!==(t=t.child))for(ou(t,e,n),t=t.sibling;null!==t;)ou(t,e,n),t=t.sibling}function au(t,e,n){var i=t.tag;if(5===i||6===i)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==i&&null!==(t=t.child))for(au(t,e,n),t=t.sibling;null!==t;)au(t,e,n),t=t.sibling}var su=null,uu=!1;function cu(t,e,n){for(n=n.child;null!==n;)lu(t,e,n),n=n.sibling}function lu(t,e,n){if(oe&&"function"===typeof oe.onCommitFiberUnmount)try{oe.onCommitFiberUnmount(re,n)}catch(s){}switch(n.tag){case 5:qs||Qs(n,e);case 6:var i=su,r=uu;su=null,cu(t,e,n),uu=r,null!==(su=i)&&(uu?(t=su,n=n.stateNode,8===t.nodeType?t.parentNode.removeChild(n):t.removeChild(n)):su.removeChild(n.stateNode));break;case 18:null!==su&&(uu?(t=su,n=n.stateNode,8===t.nodeType?ur(t.parentNode,n):1===t.nodeType&&ur(t,n),Ve(t)):ur(su,n.stateNode));break;case 4:i=su,r=uu,su=n.stateNode.containerInfo,uu=!0,cu(t,e,n),su=i,uu=r;break;case 0:case 11:case 14:case 15:if(!qs&&(null!==(i=n.updateQueue)&&null!==(i=i.lastEffect))){r=i=i.next;do{var o=r,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&$s(n,e,a),r=r.next}while(r!==i)}cu(t,e,n);break;case 1:if(!qs&&(Qs(n,e),"function"===typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(s){Sc(n,e,s)}cu(t,e,n);break;case 21:cu(t,e,n);break;case 22:1&n.mode?(qs=(i=qs)||null!==n.memoizedState,cu(t,e,n),qs=i):cu(t,e,n);break;default:cu(t,e,n)}}function hu(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new Gs),e.forEach((function(e){var i=Ec.bind(null,t,e);n.has(e)||(n.add(e),e.then(i,i))}))}}function fu(t,e){var n=e.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i];try{var a=t,s=e,u=s;t:for(;null!==u;){switch(u.tag){case 5:su=u.stateNode,uu=!1;break t;case 3:case 4:su=u.stateNode.containerInfo,uu=!0;break t}u=u.return}if(null===su)throw Error(o(160));lu(a,s,r),su=null,uu=!1;var c=r.alternate;null!==c&&(c.return=null),r.return=null}catch(l){Sc(r,e,l)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)du(e,t),e=e.sibling}function du(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(fu(e,t),pu(t),4&i){try{Js(3,t,t.return),tu(3,t)}catch(v){Sc(t,t.return,v)}try{Js(5,t,t.return)}catch(v){Sc(t,t.return,v)}}break;case 1:fu(e,t),pu(t),512&i&&null!==n&&Qs(n,n.return);break;case 5:if(fu(e,t),pu(t),512&i&&null!==n&&Qs(n,n.return),32&t.flags){var r=t.stateNode;try{ft(r,"")}catch(v){Sc(t,t.return,v)}}if(4&i&&null!=(r=t.stateNode)){var a=t.memoizedProps,s=null!==n?n.memoizedProps:a,u=t.type,c=t.updateQueue;if(t.updateQueue=null,null!==c)try{"input"===u&&"radio"===a.type&&null!=a.name&&$(r,a),_t(u,s);var l=_t(u,a);for(s=0;s<c.length;s+=2){var h=c[s],f=c[s+1];"style"===h?gt(r,f):"dangerouslySetInnerHTML"===h?ht(r,f):"children"===h?ft(r,f):_(r,h,f,l)}switch(u){case"input":X(r,a);break;case"textarea":ot(r,a);break;case"select":var d=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?nt(r,!!a.multiple,p,!1):d!==!!a.multiple&&(null!=a.defaultValue?nt(r,!!a.multiple,a.defaultValue,!0):nt(r,!!a.multiple,a.multiple?[]:"",!1))}r[dr]=a}catch(v){Sc(t,t.return,v)}}break;case 6:if(fu(e,t),pu(t),4&i){if(null===t.stateNode)throw Error(o(162));l=t.stateNode,h=t.memoizedProps;try{l.nodeValue=h}catch(v){Sc(t,t.return,v)}}break;case 3:if(fu(e,t),pu(t),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Ve(e.containerInfo)}catch(v){Sc(t,t.return,v)}break;case 4:default:fu(e,t),pu(t);break;case 13:fu(e,t),pu(t),8192&(l=t.child).flags&&null!==l.memoizedState&&(null===l.alternate||null===l.alternate.memoizedState)&&(ju=$t()),4&i&&hu(t);break;case 22:if(l=null!==n&&null!==n.memoizedState,1&t.mode?(qs=(h=qs)||l,fu(e,t),qs=h):fu(e,t),pu(t),8192&i){h=null!==t.memoizedState;t:for(f=null,d=t;;){if(5===d.tag){if(null===f){f=d;try{r=d.stateNode,h?"function"===typeof(a=r.style).setProperty?a.setProperty("display","none","important"):a.display="none":(u=d.stateNode,s=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=vt("display",s))}catch(v){Sc(t,t.return,v)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=h?"":d.memoizedProps}catch(v){Sc(t,t.return,v)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===t)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===t)break t;for(;null===d.sibling;){if(null===d.return||d.return===t)break t;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}if(h&&!l&&0!==(1&t.mode))for(Ys=t,t=t.child;null!==t;){for(l=Ys=t;null!==Ys;){switch(f=(h=Ys).child,h.tag){case 0:case 11:case 14:case 15:Js(4,h,h.return);break;case 1:if(Qs(h,h.return),"function"===typeof(a=h.stateNode).componentWillUnmount){d=h,p=h.return;try{r=d,a.props=r.memoizedProps,a.state=r.memoizedState,a.componentWillUnmount()}catch(v){Sc(d,p,v)}}break;case 5:Qs(h,h.return);break;case 22:if(null!==h.memoizedState){yu(l);continue}}null!==f?(f.return=h,Ys=f):yu(l)}t=t.sibling}}break;case 19:fu(e,t),pu(t),4&i&&hu(t);case 21:}}function pu(t){var e=t.flags;if(2&e){try{t:{for(var n=t.return;null!==n;){if(iu(n)){var i=n;break t}n=n.return}throw Error(o(160))}switch(i.tag){case 5:var r=i.stateNode;32&i.flags&&(ft(r,""),i.flags&=-33),au(t,ru(t),r);break;case 3:case 4:var a=i.stateNode.containerInfo;ou(t,ru(t),a);break;default:throw Error(o(161))}}catch(s){Sc(t,t.return,s)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function vu(t,e,n){Ys=t,gu(t,e,n)}function gu(t,e,n){for(var i=0!==(1&t.mode);null!==Ys;){var r=Ys,o=r.child;if(22===r.tag&&i){var a=null!==r.memoizedState||Zs;if(!a){var s=r.alternate,u=null!==s&&null!==s.memoizedState||qs;s=Zs;var c=qs;if(Zs=a,(qs=u)&&!c)for(Ys=r;null!==Ys;)u=(a=Ys).child,22===a.tag&&null!==a.memoizedState?_u(r):null!==u?(u.return=a,Ys=u):_u(r);for(;null!==o;)Ys=o,gu(o,e,n),o=o.sibling;Ys=r,Zs=s,qs=c}mu(t)}else 0!==(8772&r.subtreeFlags)&&null!==o?(o.return=r,Ys=o):mu(t)}}function mu(t){for(;null!==Ys;){var e=Ys;if(0!==(8772&e.flags)){var n=e.alternate;try{if(0!==(8772&e.flags))switch(e.tag){case 0:case 11:case 15:qs||tu(5,e);break;case 1:var i=e.stateNode;if(4&e.flags&&!qs)if(null===n)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:Ur(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;null!==a&&co(e,a,i);break;case 3:var s=e.updateQueue;if(null!==s){if(n=null,null!==e.child)switch(e.child.tag){case 5:case 1:n=e.child.stateNode}co(e,s,n)}break;case 5:var u=e.stateNode;if(null===n&&4&e.flags){n=u;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===e.memoizedState){var l=e.alternate;if(null!==l){var h=l.memoizedState;if(null!==h){var f=h.dehydrated;null!==f&&Ve(f)}}}break;default:throw Error(o(163))}qs||512&e.flags&&eu(e)}catch(d){Sc(e,e.return,d)}}if(e===t){Ys=null;break}if(null!==(n=e.sibling)){n.return=e.return,Ys=n;break}Ys=e.return}}function yu(t){for(;null!==Ys;){var e=Ys;if(e===t){Ys=null;break}var n=e.sibling;if(null!==n){n.return=e.return,Ys=n;break}Ys=e.return}}function _u(t){for(;null!==Ys;){var e=Ys;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{tu(4,e)}catch(u){Sc(e,n,u)}break;case 1:var i=e.stateNode;if("function"===typeof i.componentDidMount){var r=e.return;try{i.componentDidMount()}catch(u){Sc(e,r,u)}}var o=e.return;try{eu(e)}catch(u){Sc(e,o,u)}break;case 5:var a=e.return;try{eu(e)}catch(u){Sc(e,a,u)}}}catch(u){Sc(e,e.return,u)}if(e===t){Ys=null;break}var s=e.sibling;if(null!==s){s.return=e.return,Ys=s;break}Ys=e.return}}var ku,wu=Math.ceil,bu=k.ReactCurrentDispatcher,Su=k.ReactCurrentOwner,Tu=k.ReactCurrentBatchConfig,xu=0,Cu=null,Eu=null,Mu=0,Ou=0,Pu=Tr(0),Lu=0,Au=null,Iu=0,Nu=0,Ru=0,Bu=null,Du=null,ju=0,Wu=1/0,Fu=null,zu=!1,Vu=null,Hu=null,Uu=!1,Ku=null,Zu=0,qu=0,Gu=null,Yu=-1,Qu=0;function $u(){return 0!==(6&xu)?$t():-1!==Yu?Yu:Yu=$t()}function Xu(t){return 0===(1&t.mode)?1:0!==(2&xu)&&0!==Mu?Mu&-Mu:null!==Hr.transition?(0===Qu&&(Qu=ve()),Qu):0!==(t=_e)?t:t=void 0===(t=window.event)?16:Qe(t.type)}function Ju(t,e,n){if(50<qu)throw qu=0,Gu=null,Error(o(185));var i=tc(t,e);return null===i?null:(me(i,e,n),0!==(2&xu)&&i===Cu||(i===Cu&&(0===(2&xu)&&(Nu|=e),4===Lu&&ac(i,Mu)),nc(i,n),1===e&&0===xu&&0===(1&t.mode)&&(Wu=$t()+500,Wr&&Vr())),i)}function tc(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}function ec(t){return(null!==Cu||null!==to)&&0!==(1&t.mode)&&0===(2&xu)}function nc(t,e){var n=t.callbackNode;!function(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-ae(o),s=1<<a,u=r[a];-1===u?0!==(s&n)&&0===(s&i)||(r[a]=de(s,e)):u<=e&&(t.expiredLanes|=s),o&=~s}}(t,e);var i=fe(t,t===Cu?Mu:0);if(0===i)null!==n&&Gt(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(null!=n&&Gt(n),1===e)0===t.tag?function(t){Wr=!0,zr(t)}(sc.bind(null,t)):zr(sc.bind(null,t)),ar((function(){0===xu&&Vr()})),n=null;else{switch(ke(i)){case 1:n=Jt;break;case 4:n=te;break;case 16:default:n=ee;break;case 536870912:n=ie}n=Mc(n,ic.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ic(t,e){if(Yu=-1,Qu=0,0!==(6&xu))throw Error(o(327));var n=t.callbackNode;if(wc()&&t.callbackNode!==n)return null;var i=fe(t,t===Cu?Mu:0);if(0===i)return null;if(0!==(30&i)||0!==(i&t.expiredLanes)||e)e=vc(t,i);else{e=i;var r=xu;xu|=2;var a=dc();for(Cu===t&&Mu===e||(Fu=null,Wu=$t()+500,hc(t,e));;)try{mc();break}catch(u){fc(t,u)}Yr(),bu.current=a,xu=r,null!==Eu?e=0:(Cu=null,Mu=0,e=Lu)}if(0!==e){if(2===e&&(0!==(r=pe(t))&&(i=r,e=rc(t,r))),1===e)throw n=Au,hc(t,0),ac(t,i),nc(t,$t()),n;if(6===e)ac(t,i);else{if(r=t.current.alternate,0===(30&i)&&!function(t){for(var e=t;;){if(16384&e.flags){var n=e.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var r=n[i],o=r.getSnapshot;r=r.value;try{if(!si(o(),r))return!1}catch(s){return!1}}}if(n=e.child,16384&e.subtreeFlags&&null!==n)n.return=e,e=n;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(r)&&(2===(e=vc(t,i))&&(0!==(a=pe(t))&&(i=a,e=rc(t,a))),1===e))throw n=Au,hc(t,0),ac(t,i),nc(t,$t()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(o(345));case 2:case 5:kc(t,Du,Fu);break;case 3:if(ac(t,i),(130023424&i)===i&&10<(e=ju+500-$t())){if(0!==fe(t,0))break;if(((r=t.suspendedLanes)&i)!==i){$u(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=ir(kc.bind(null,t,Du,Fu),e);break}kc(t,Du,Fu);break;case 4:if(ac(t,i),(4194240&i)===i)break;for(e=t.eventTimes,r=-1;0<i;){var s=31-ae(i);a=1<<s,(s=e[s])>r&&(r=s),i&=~a}if(i=r,10<(i=(120>(i=$t()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*wu(i/1960))-i)){t.timeoutHandle=ir(kc.bind(null,t,Du,Fu),i);break}kc(t,Du,Fu);break;default:throw Error(o(329))}}}return nc(t,$t()),t.callbackNode===n?ic.bind(null,t):null}function rc(t,e){var n=Bu;return t.current.memoizedState.isDehydrated&&(hc(t,e).flags|=256),2!==(t=vc(t,e))&&(e=Du,Du=n,null!==e&&oc(e)),t}function oc(t){null===Du?Du=t:Du.push.apply(Du,t)}function ac(t,e){for(e&=~Ru,e&=~Nu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ae(e),i=1<<n;t[n]=-1,e&=~i}}function sc(t){if(0!==(6&xu))throw Error(o(327));wc();var e=fe(t,0);if(0===(1&e))return nc(t,$t()),null;var n=vc(t,e);if(0!==t.tag&&2===n){var i=pe(t);0!==i&&(e=i,n=rc(t,i))}if(1===n)throw n=Au,hc(t,0),ac(t,e),nc(t,$t()),n;if(6===n)throw Error(o(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,kc(t,Du,Fu),nc(t,$t()),null}function uc(t,e){var n=xu;xu|=1;try{return t(e)}finally{0===(xu=n)&&(Wu=$t()+500,Wr&&Vr())}}function cc(t){null!==Ku&&0===Ku.tag&&0===(6&xu)&&wc();var e=xu;xu|=1;var n=Tu.transition,i=_e;try{if(Tu.transition=null,_e=1,t)return t()}finally{_e=i,Tu.transition=n,0===(6&(xu=e))&&Vr()}}function lc(){Ou=Pu.current,xr(Pu)}function hc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,rr(n)),null!==Eu)for(n=Eu.return;null!==n;){var i=n;switch(Po(i),i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&Ir();break;case 3:ea(),xr(Or),xr(Mr),sa();break;case 5:ia(i);break;case 4:ea();break;case 13:case 19:xr(ra);break;case 10:Qr(i.type._context);break;case 22:case 23:lc()}n=n.return}if(Cu=t,Eu=t=Ac(t.current,null),Mu=Ou=e,Lu=0,Au=null,Ru=Nu=Iu=0,Du=Bu=null,null!==to){for(e=0;e<to.length;e++)if(null!==(i=(n=to[e]).interleaved)){n.interleaved=null;var r=i.next,o=n.pending;if(null!==o){var a=o.next;o.next=r,i.next=a}n.pending=i}to=null}return t}function fc(t,e){for(;;){var n=Eu;try{if(Yr(),ua.current=ns,pa){for(var i=ha.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}pa=!1}if(la=0,da=fa=ha=null,va=!1,ga=0,Su.current=null,null===n||null===n.return){Lu=1,Au=e,Eu=null;break}t:{var a=t,s=n.return,u=n,c=e;if(e=Mu,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,h=u,f=h.tag;if(0===(1&h.mode)&&(0===f||11===f||15===f)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=vs(s);if(null!==p){p.flags&=-257,gs(p,s,u,0,e),1&p.mode&&ps(a,l,e),c=l;var v=(e=p).updateQueue;if(null===v){var g=new Set;g.add(c),e.updateQueue=g}else v.add(c);break t}if(0===(1&e)){ps(a,l,e),pc();break t}c=Error(o(426))}else if(Io&&1&u.mode){var m=vs(s);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),gs(m,s,u,0,e),Vo(c);break t}}a=c,4!==Lu&&(Lu=2),null===Bu?Bu=[a]:Bu.push(a),c=as(c,u),u=s;do{switch(u.tag){case 3:u.flags|=65536,e&=-e,u.lanes|=e,so(u,fs(0,c,e));break t;case 1:a=c;var y=u.type,_=u.stateNode;if(0===(128&u.flags)&&("function"===typeof y.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Hu||!Hu.has(_)))){u.flags|=65536,e&=-e,u.lanes|=e,so(u,ds(u,a,e));break t}}u=u.return}while(null!==u)}_c(n)}catch(k){e=k,Eu===n&&null!==n&&(Eu=n=n.return);continue}break}}function dc(){var t=bu.current;return bu.current=ns,null===t?ns:t}function pc(){0!==Lu&&3!==Lu&&2!==Lu||(Lu=4),null===Cu||0===(268435455&Iu)&&0===(268435455&Nu)||ac(Cu,Mu)}function vc(t,e){var n=xu;xu|=2;var i=dc();for(Cu===t&&Mu===e||(Fu=null,hc(t,e));;)try{gc();break}catch(r){fc(t,r)}if(Yr(),xu=n,bu.current=i,null!==Eu)throw Error(o(261));return Cu=null,Mu=0,Lu}function gc(){for(;null!==Eu;)yc(Eu)}function mc(){for(;null!==Eu&&!Yt();)yc(Eu)}function yc(t){var e=ku(t.alternate,t,Ou);t.memoizedProps=t.pendingProps,null===e?_c(t):Eu=e,Su.current=null}function _c(t){var e=t;do{var n=e.alternate;if(t=e.return,0===(32768&e.flags)){if(null!==(n=_s(n,e,Ou)))return void(Eu=n)}else{if(null!==(n=Ks(n,e)))return n.flags&=32767,void(Eu=n);if(null===t)return Lu=6,void(Eu=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}if(null!==(e=e.sibling))return void(Eu=e);Eu=e=t}while(null!==e);0===Lu&&(Lu=5)}function kc(t,e,n){var i=_e,r=Tu.transition;try{Tu.transition=null,_e=1,function(t,e,n,i){do{wc()}while(null!==Ku);if(0!==(6&xu))throw Error(o(327));n=t.finishedWork;var r=t.finishedLanes;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(o(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-ae(n),o=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~o}}(t,a),t===Cu&&(Eu=Cu=null,Mu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Uu||(Uu=!0,Mc(ee,(function(){return wc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Tu.transition,Tu.transition=null;var s=_e;_e=1;var u=xu;xu|=4,Su.current=null,function(t,e){if(tr=Ue,di(t=fi())){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{var i=(n=(n=t.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch(b){n=null;break t}var s=0,u=-1,c=-1,l=0,h=0,f=t,d=null;e:for(;;){for(var p;f!==n||0!==r&&3!==f.nodeType||(u=s+r),f!==a||0!==i&&3!==f.nodeType||(c=s+i),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)d=f,f=p;for(;;){if(f===t)break e;if(d===n&&++l===r&&(u=s),d===a&&++h===i&&(c=s),null!==(p=f.nextSibling))break;d=(f=d).parentNode}f=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(er={focusedElem:t,selectionRange:n},Ue=!1,Ys=e;null!==Ys;)if(t=(e=Ys).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,Ys=t;else for(;null!==Ys;){e=Ys;try{var v=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var g=v.memoizedProps,m=v.memoizedState,y=e.stateNode,_=y.getSnapshotBeforeUpdate(e.elementType===e.type?g:Ur(e.type,g),m);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var k=e.stateNode.containerInfo;if(1===k.nodeType)k.textContent="";else if(9===k.nodeType){var w=k.body;null!=w&&(w.textContent="")}break;default:throw Error(o(163))}}catch(b){Sc(e,e.return,b)}if(null!==(t=e.sibling)){t.return=e.return,Ys=t;break}Ys=e.return}v=Xs,Xs=!1}(t,n),du(n,t),pi(er),Ue=!!tr,er=tr=null,t.current=n,vu(n,t,r),Qt(),xu=u,_e=s,Tu.transition=a}else t.current=n;if(Uu&&(Uu=!1,Ku=t,Zu=r),0===(a=t.pendingLanes)&&(Hu=null),function(t){if(oe&&"function"===typeof oe.onCommitFiberRoot)try{oe.onCommitFiberRoot(re,t,void 0,128===(128&t.current.flags))}catch(e){}}(n.stateNode),nc(t,$t()),null!==e)for(i=t.onRecoverableError,n=0;n<e.length;n++)i(e[n]);if(zu)throw zu=!1,t=Vu,Vu=null,t;0!==(1&Zu)&&0!==t.tag&&wc(),0!==(1&(a=t.pendingLanes))?t===Gu?qu++:(qu=0,Gu=t):qu=0,Vr()}(t,e,n,i)}finally{Tu.transition=r,_e=i}return null}function wc(){if(null!==Ku){var t=ke(Zu),e=Tu.transition,n=_e;try{if(Tu.transition=null,_e=16>t?16:t,null===Ku)var i=!1;else{if(t=Ku,Ku=null,Zu=0,0!==(6&xu))throw Error(o(331));var r=xu;for(xu|=4,Ys=t.current;null!==Ys;){var a=Ys,s=a.child;if(0!==(16&Ys.flags)){var u=a.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Ys=l;null!==Ys;){var h=Ys;switch(h.tag){case 0:case 11:case 15:Js(8,h,a)}var f=h.child;if(null!==f)f.return=h,Ys=f;else for(;null!==Ys;){var d=(h=Ys).sibling,p=h.return;if(nu(h),h===l){Ys=null;break}if(null!==d){d.return=p,Ys=d;break}Ys=p}}}var v=a.alternate;if(null!==v){var g=v.child;if(null!==g){v.child=null;do{var m=g.sibling;g.sibling=null,g=m}while(null!==g)}}Ys=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Ys=s;else t:for(;null!==Ys;){if(0!==(2048&(a=Ys).flags))switch(a.tag){case 0:case 11:case 15:Js(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Ys=y;break t}Ys=a.return}}var _=t.current;for(Ys=_;null!==Ys;){var k=(s=Ys).child;if(0!==(2064&s.subtreeFlags)&&null!==k)k.return=s,Ys=k;else t:for(s=_;null!==Ys;){if(0!==(2048&(u=Ys).flags))try{switch(u.tag){case 0:case 11:case 15:tu(9,u)}}catch(b){Sc(u,u.return,b)}if(u===s){Ys=null;break t}var w=u.sibling;if(null!==w){w.return=u.return,Ys=w;break t}Ys=u.return}}if(xu=r,Vr(),oe&&"function"===typeof oe.onPostCommitFiberRoot)try{oe.onPostCommitFiberRoot(re,t)}catch(b){}i=!0}return i}finally{_e=n,Tu.transition=e}}return!1}function bc(t,e,n){oo(t,e=fs(0,e=as(n,e),1)),e=$u(),null!==(t=tc(t,1))&&(me(t,1,e),nc(t,e))}function Sc(t,e,n){if(3===t.tag)bc(t,t,n);else for(;null!==e;){if(3===e.tag){bc(e,t,n);break}if(1===e.tag){var i=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Hu||!Hu.has(i))){oo(e,t=ds(e,t=as(n,t),1)),t=$u(),null!==(e=tc(e,1))&&(me(e,1,t),nc(e,t));break}}e=e.return}}function Tc(t,e,n){var i=t.pingCache;null!==i&&i.delete(e),e=$u(),t.pingedLanes|=t.suspendedLanes&n,Cu===t&&(Mu&n)===n&&(4===Lu||3===Lu&&(130023424&Mu)===Mu&&500>$t()-ju?hc(t,0):Ru|=n),nc(t,e)}function xc(t,e){0===e&&(0===(1&t.mode)?e=1:(e=le,0===(130023424&(le<<=1))&&(le=4194304)));var n=$u();null!==(t=tc(t,e))&&(me(t,e,n),nc(t,n))}function Cc(t){var e=t.memoizedState,n=0;null!==e&&(n=e.retryLane),xc(t,n)}function Ec(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(o(314))}null!==i&&i.delete(e),xc(t,n)}function Mc(t,e){return qt(t,e)}function Oc(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(t,e,n,i){return new Oc(t,e,n,i)}function Lc(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Ac(t,e){var n=t.alternate;return null===n?((n=Pc(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&t.flags,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ic(t,e,n,i,r,a){var s=2;if(i=t,"function"===typeof t)Lc(t)&&(s=1);else if("string"===typeof t)s=5;else t:switch(t){case S:return Nc(n.children,r,a,e);case T:s=8,r|=8;break;case x:return(t=Pc(12,n,e,2|r)).elementType=x,t.lanes=a,t;case O:return(t=Pc(13,n,e,r)).elementType=O,t.lanes=a,t;case P:return(t=Pc(19,n,e,r)).elementType=P,t.lanes=a,t;case I:return Rc(n,r,a,e);default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case C:s=10;break t;case E:s=9;break t;case M:s=11;break t;case L:s=14;break t;case A:s=16,i=null;break t}throw Error(o(130,null==t?t:typeof t,""))}return(e=Pc(s,n,e,r)).elementType=t,e.type=i,e.lanes=a,e}function Nc(t,e,n,i){return(t=Pc(7,t,i,e)).lanes=n,t}function Rc(t,e,n,i){return(t=Pc(22,t,i,e)).elementType=I,t.lanes=n,t.stateNode={},t}function Bc(t,e,n){return(t=Pc(6,t,null,e)).lanes=n,t}function Dc(t,e,n){return(e=Pc(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function jc(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ge(0),this.expirationTimes=ge(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ge(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Wc(t,e,n,i,r,o,a,s,u){return t=new jc(t,e,n,s,u),1===e?(e=1,!0===o&&(e|=8)):e=0,o=Pc(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},no(o),t}function Fc(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:b,key:null==i?null:""+i,children:t,containerInfo:e,implementation:n}}function zc(t){if(!t)return Er;t:{if(Vt(t=t._reactInternals)!==t||1!==t.tag)throw Error(o(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(Ar(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(o(171))}if(1===t.tag){var n=t.type;if(Ar(n))return Rr(t,n,e)}return e}function Vc(t,e,n,i,r,o,a,s,u){return(t=Wc(n,i,!0,t,0,o,0,s,u)).context=zc(null),n=t.current,(o=ro(i=$u(),r=Xu(n))).callback=void 0!==e&&null!==e?e:null,oo(n,o),t.current.lanes=r,me(t,r,i),nc(t,i),t}function Hc(t,e,n,i){var r=e.current,o=$u(),a=Xu(r);return n=zc(n),null===e.context?e.context=n:e.pendingContext=n,(e=ro(o,a)).payload={element:t},null!==(i=void 0===i?null:i)&&(e.callback=i),oo(r,e),null!==(t=Ju(r,a,o))&&ao(t,r,a),a}function Uc(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function Kc(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function Zc(t,e){Kc(t,e),(t=t.alternate)&&Kc(t,e)}ku=function(t,e,n){if(null!==t)if(t.memoizedProps!==e.pendingProps||Or.current)ws=!0;else{if(0===(t.lanes&n)&&0===(128&e.flags))return ws=!1,function(t,e,n){switch(e.tag){case 3:Ls(e),zo();break;case 5:na(e);break;case 1:Ar(e.type)&&Br(e);break;case 4:ta(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Cr(Kr,i._currentValue),i._currentValue=r;break;case 13:if(null!==(i=e.memoizedState))return null!==i.dehydrated?(Cr(ra,1&ra.current),e.flags|=128,null):0!==(n&e.child.childLanes)?Bs(t,e,n):(Cr(ra,1&ra.current),null!==(t=Us(t,e,n))?t.sibling:null);Cr(ra,1&ra.current);break;case 19:if(i=0!==(n&e.childLanes),0!==(128&t.flags)){if(i)return Hs(t,e,n);e.flags|=128}if(null!==(r=e.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Cr(ra,ra.current),i)break;return null;case 22:case 23:return e.lanes=0,Cs(t,e,n)}return Us(t,e,n)}(t,e,n);ws=0!==(131072&t.flags)}else ws=!1,Io&&0!==(1048576&e.flags)&&Mo(e,wo,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps;var r=Lr(e,Mr.current);Xr(e,n),r=ka(null,e,i,t,r,n);var a=wa();return e.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ar(i)?(a=!0,Br(e)):a=!1,e.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,no(e),r.updater=fo,e.stateNode=r,r._reactInternals=e,mo(e,i,t,n),e=Ps(null,e,i,!0,a,n)):(e.tag=0,Io&&a&&Oo(e),bs(null,e,r,n),e=e.child),e;case 16:i=e.elementType;t:{switch(null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=(r=i._init)(i._payload),e.type=i,r=e.tag=function(t){if("function"===typeof t)return Lc(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===M)return 11;if(t===L)return 14}return 2}(i),t=Ur(i,t),r){case 0:e=Ms(null,e,i,t,n);break t;case 1:e=Os(null,e,i,t,n);break t;case 11:e=Ss(null,e,i,t,n);break t;case 14:e=Ts(null,e,i,Ur(i.type,t),n);break t}throw Error(o(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,Ms(t,e,i,r=e.elementType===i?r:Ur(i,r),n);case 1:return i=e.type,r=e.pendingProps,Os(t,e,i,r=e.elementType===i?r:Ur(i,r),n);case 3:t:{if(Ls(e),null===t)throw Error(o(387));i=e.pendingProps,r=(a=e.memoizedState).element,io(t,e),uo(e,i,null,n);var s=e.memoizedState;if(i=s.element,a.isDehydrated){if(a={element:i,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,256&e.flags){e=As(t,e,i,n,r=Error(o(423)));break t}if(i!==r){e=As(t,e,i,n,r=Error(o(424)));break t}for(Ao=cr(e.stateNode.containerInfo.firstChild),Lo=e,Io=!0,No=null,n=Go(e,null,i,n),e.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(zo(),i===r){e=Us(t,e,n);break t}bs(t,e,i,n)}e=e.child}return e;case 5:return na(e),null===t&&jo(e),i=e.type,r=e.pendingProps,a=null!==t?t.memoizedProps:null,s=r.children,nr(i,r)?s=null:null!==a&&nr(i,a)&&(e.flags|=32),Es(t,e),bs(t,e,s,n),e.child;case 6:return null===t&&jo(e),null;case 13:return Bs(t,e,n);case 4:return ta(e,e.stateNode.containerInfo),i=e.pendingProps,null===t?e.child=qo(e,null,i,n):bs(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,Ss(t,e,i,r=e.elementType===i?r:Ur(i,r),n);case 7:return bs(t,e,e.pendingProps,n),e.child;case 8:case 12:return bs(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(i=e.type._context,r=e.pendingProps,a=e.memoizedProps,s=r.value,Cr(Kr,i._currentValue),i._currentValue=s,null!==a)if(si(a.value,s)){if(a.children===r.children&&!Or.current){e=Us(t,e,n);break t}}else for(null!==(a=e.child)&&(a.return=e);null!==a;){var u=a.dependencies;if(null!==u){s=a.child;for(var c=u.firstContext;null!==c;){if(c.context===i){if(1===a.tag){(c=ro(-1,n&-n)).tag=2;var l=a.updateQueue;if(null!==l){var h=(l=l.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),l.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),$r(a.return,n,e),u.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===e.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),$r(s,n,e),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===e){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}bs(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Xr(e,n),i=i(r=Jr(r)),e.flags|=1,bs(t,e,i,n),e.child;case 14:return r=Ur(i=e.type,e.pendingProps),Ts(t,e,i,r=Ur(i.type,r),n);case 15:return xs(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Ur(i,r),null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,Ar(i)?(t=!0,Br(e)):t=!1,Xr(e,n),vo(e,i,r),mo(e,i,r,n),Ps(null,e,i,!0,t,n);case 19:return Hs(t,e,n);case 22:return Cs(t,e,n)}throw Error(o(156,e.tag))};var qc="function"===typeof reportError?reportError:function(t){console.error(t)};function Gc(t){this._internalRoot=t}function Yc(t){this._internalRoot=t}function Qc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function $c(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Xc(){}function Jc(t,e,n,i,r){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof r){var s=r;r=function(){var t=Uc(a);s.call(t)}}Hc(e,a,t,r)}else a=function(t,e,n,i,r){if(r){if("function"===typeof i){var o=i;i=function(){var t=Uc(a);o.call(t)}}var a=Vc(e,i,t,0,null,!1,0,"",Xc);return t._reactRootContainer=a,t[pr]=a.current,Vi(8===t.nodeType?t.parentNode:t),cc(),a}for(;r=t.lastChild;)t.removeChild(r);if("function"===typeof i){var s=i;i=function(){var t=Uc(u);s.call(t)}}var u=Wc(t,0,!1,null,0,!1,0,"",Xc);return t._reactRootContainer=u,t[pr]=u.current,Vi(8===t.nodeType?t.parentNode:t),cc((function(){Hc(e,u,n,i)})),u}(n,e,t,r,i);return Uc(a)}Yc.prototype.render=Gc.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(o(409));Hc(t,e,null,null)},Yc.prototype.unmount=Gc.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;cc((function(){Hc(null,t,null,null)})),e[pr]=null}},Yc.prototype.unstable_scheduleHydration=function(t){if(t){var e=Te();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ie.length&&0!==e&&e<Ie[n].priority;n++);Ie.splice(n,0,t),0===n&&De(t)}},we=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=he(e.pendingLanes);0!==n&&(ye(e,1|n),nc(e,$t()),0===(6&xu)&&(Wu=$t()+500,Vr()))}break;case 13:var i=$u();cc((function(){return Ju(t,1,i)})),Zc(t,1)}},be=function(t){13===t.tag&&(Ju(t,134217728,$u()),Zc(t,134217728))},Se=function(t){if(13===t.tag){var e=$u(),n=Xu(t);Ju(t,n,e),Zc(t,n)}},Te=function(){return _e},xe=function(t,e){var n=_e;try{return _e=t,e()}finally{_e=n}},bt=function(t,e,n){switch(e){case"input":if(X(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=wr(i);if(!r)throw Error(o(90));q(i),X(i,r)}}}break;case"textarea":ot(t,n);break;case"select":null!=(e=n.value)&&nt(t,!!n.multiple,e,!1)}},Mt=uc,Ot=cc;var tl={usingClientEntryPoint:!1,Events:[_r,kr,wr,Ct,Et,uc]},el={findFiberByHostInstance:yr,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},nl={bundleType:el.bundleType,version:el.version,rendererPackageName:el.rendererPackageName,rendererConfig:el.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Kt(t))?null:t.stateNode},findFiberByHostInstance:el.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{re=il.inject(nl),oe=il}catch(lt){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,e.createPortal=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(e))throw Error(o(200));return Fc(t,e,null,n)},e.createRoot=function(t,e){if(!Qc(t))throw Error(o(299));var n=!1,i="",r=qc;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(n=!0),void 0!==e.identifierPrefix&&(i=e.identifierPrefix),void 0!==e.onRecoverableError&&(r=e.onRecoverableError)),e=Wc(t,1,!1,null,0,n,0,i,r),t[pr]=e.current,Vi(8===t.nodeType?t.parentNode:t),new Gc(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(o(188));throw t=Object.keys(t).join(","),Error(o(268,t))}return t=null===(t=Kt(e))?null:t.stateNode},e.flushSync=function(t){return cc(t)},e.hydrate=function(t,e,n){if(!$c(e))throw Error(o(200));return Jc(null,t,e,!0,n)},e.hydrateRoot=function(t,e,n){if(!Qc(t))throw Error(o(405));var i=null!=n&&n.hydratedSources||null,r=!1,a="",s=qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),e=Vc(e,null,t,1,null!=n?n:null,r,0,a,s),t[pr]=e.current,Vi(t),i)for(t=0;t<i.length;t++)r=(r=(n=i[t])._getVersion)(n._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Yc(e)},e.render=function(t,e,n){if(!$c(e))throw Error(o(200));return Jc(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!$c(t))throw Error(o(40));return!!t._reactRootContainer&&(cc((function(){Jc(null,null,t,!1,(function(){t._reactRootContainer=null,t[pr]=null}))})),!0)},e.unstable_batchedUpdates=uc,e.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!$c(n))throw Error(o(200));if(null==t||void 0===t._reactInternals)throw Error(o(38));return Jc(t,e,n,!1,i)},e.version="18.1.0-next-22edb9f77-20220426"},250:function(t,e,n){"use strict";var i=n(164);e.createRoot=i.createRoot,e.hydrateRoot=i.hydrateRoot},164:function(t,e,n){"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(463)},374:function(t,e,n){"use strict";var i=n(791),r=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(t,e,n){var i,o={},c=null,l=null;for(i in void 0!==n&&(c=""+n),void 0!==e.key&&(c=""+e.key),void 0!==e.ref&&(l=e.ref),e)a.call(e,i)&&!u.hasOwnProperty(i)&&(o[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps)void 0===o[i]&&(o[i]=e[i]);return{$$typeof:r,type:t,key:c,ref:l,props:o,_owner:s.current}}e.Fragment=o,e.jsx=c,e.jsxs=c},117:function(t,e){"use strict";var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,g={};function m(t,e,n){this.props=t,this.context=e,this.refs=g,this.updater=n||p}function y(){}function _(t,e,n){this.props=t,this.context=e,this.refs=g,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},m.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},y.prototype=m.prototype;var k=_.prototype=new y;k.constructor=_,v(k,m.prototype),k.isPureReactComponent=!0;var w=Array.isArray,b=Object.prototype.hasOwnProperty,S={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function x(t,e,i){var r,o={},a=null,s=null;if(null!=e)for(r in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)b.call(e,r)&&!T.hasOwnProperty(r)&&(o[r]=e[r]);var u=arguments.length-2;if(1===u)o.children=i;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(t&&t.defaultProps)for(r in u=t.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:n,type:t,key:a,ref:s,props:o,_owner:S.current}}function C(t){return"object"===typeof t&&null!==t&&t.$$typeof===n}var E=/\/+/g;function M(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function O(t,e,r,o,a){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var u=!1;if(null===t)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case n:case i:u=!0}}if(u)return a=a(u=t),t=""===o?"."+M(u,0):o,w(a)?(r="",null!=t&&(r=t.replace(E,"$&/")+"/"),O(a,e,r,"",(function(t){return t}))):null!=a&&(C(a)&&(a=function(t,e){return{$$typeof:n,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(a,r+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(E,"$&/")+"/")+t)),e.push(a)),1;if(u=0,o=""===o?".":o+":",w(t))for(var c=0;c<t.length;c++){var l=o+M(s=t[c],c);u+=O(s,e,r,l,a)}else if(l=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=d&&t[d]||t["@@iterator"])?t:null}(t),"function"===typeof l)for(t=l.call(t),c=0;!(s=t.next()).done;)u+=O(s=s.value,e,r,l=o+M(s,c++),a);else if("object"===s)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return u}function P(t,e,n){if(null==t)return t;var i=[],r=0;return O(t,i,"","",(function(t){return e.call(n,t,r++)})),i}function L(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var A={current:null},I={transition:null},N={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:I,ReactCurrentOwner:S};e.Children={map:P,forEach:function(t,e,n){P(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return P(t,(function(){e++})),e},toArray:function(t){return P(t,(function(t){return t}))||[]},only:function(t){if(!C(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=m,e.Fragment=r,e.Profiler=a,e.PureComponent=_,e.StrictMode=o,e.Suspense=l,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,e.cloneElement=function(t,e,i){if(null===t||void 0===t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=v({},t.props),o=t.key,a=t.ref,s=t._owner;if(null!=e){if(void 0!==e.ref&&(a=e.ref,s=S.current),void 0!==e.key&&(o=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)b.call(e,c)&&!T.hasOwnProperty(c)&&(r[c]=void 0===e[c]&&void 0!==u?u[c]:e[c])}var c=arguments.length-2;if(1===c)r.children=i;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];r.children=u}return{$$typeof:n,type:t.type,key:o,ref:a,props:r,_owner:s}},e.createContext=function(t){return(t={$$typeof:u,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:t},t.Consumer=t},e.createElement=x,e.createFactory=function(t){var e=x.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:c,render:t}},e.isValidElement=C,e.lazy=function(t){return{$$typeof:f,_payload:{_status:-1,_result:t},_init:L}},e.memo=function(t,e){return{$$typeof:h,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=I.transition;I.transition={};try{t()}finally{I.transition=e}},e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},e.useCallback=function(t,e){return A.current.useCallback(t,e)},e.useContext=function(t){return A.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return A.current.useDeferredValue(t)},e.useEffect=function(t,e){return A.current.useEffect(t,e)},e.useId=function(){return A.current.useId()},e.useImperativeHandle=function(t,e,n){return A.current.useImperativeHandle(t,e,n)},e.useInsertionEffect=function(t,e){return A.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return A.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return A.current.useMemo(t,e)},e.useReducer=function(t,e,n){return A.current.useReducer(t,e,n)},e.useRef=function(t){return A.current.useRef(t)},e.useState=function(t){return A.current.useState(t)},e.useSyncExternalStore=function(t,e,n){return A.current.useSyncExternalStore(t,e,n)},e.useTransition=function(){return A.current.useTransition()},e.version="18.1.0"},791:function(t,e,n){"use strict";t.exports=n(117)},184:function(t,e,n){"use strict";t.exports=n(374)},813:function(t,e){"use strict";function n(t,e){var n=t.length;t.push(e);t:for(;0<n;){var i=n-1>>>1,r=t[i];if(!(0<o(r,e)))break t;t[i]=e,t[n]=r,n=i}}function i(t){return 0===t.length?null:t[0]}function r(t){if(0===t.length)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;t:for(var i=0,r=t.length,a=r>>>1;i<a;){var s=2*(i+1)-1,u=t[s],c=s+1,l=t[c];if(0>o(u,n))c<r&&0>o(l,u)?(t[i]=l,t[c]=n,i=c):(t[i]=u,t[s]=n,i=s);else{if(!(c<r&&0>o(l,n)))break t;t[i]=l,t[c]=n,i=c}}}return e}function o(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();e.unstable_now=function(){return s.now()-u}}var c=[],l=[],h=1,f=null,d=3,p=!1,v=!1,g=!1,m="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function k(t){for(var e=i(l);null!==e;){if(null===e.callback)r(l);else{if(!(e.startTime<=t))break;r(l),e.sortIndex=e.expirationTime,n(c,e)}e=i(l)}}function w(t){if(g=!1,k(t),!v)if(null!==i(c))v=!0,I(b);else{var e=i(l);null!==e&&N(w,e.startTime-t)}}function b(t,n){v=!1,g&&(g=!1,y(C),C=-1),p=!0;var o=d;try{for(k(n),f=i(c);null!==f&&(!(f.expirationTime>n)||t&&!O());){var a=f.callback;if("function"===typeof a){f.callback=null,d=f.priorityLevel;var s=a(f.expirationTime<=n);n=e.unstable_now(),"function"===typeof s?f.callback=s:f===i(c)&&r(c),k(n)}else r(c);f=i(c)}if(null!==f)var u=!0;else{var h=i(l);null!==h&&N(w,h.startTime-n),u=!1}return u}finally{f=null,d=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,T=!1,x=null,C=-1,E=5,M=-1;function O(){return!(e.unstable_now()-M<E)}function P(){if(null!==x){var t=e.unstable_now();M=t;var n=!0;try{n=x(!0,t)}finally{n?S():(T=!1,x=null)}}else T=!1}if("function"===typeof _)S=function(){_(P)};else if("undefined"!==typeof MessageChannel){var L=new MessageChannel,A=L.port2;L.port1.onmessage=P,S=function(){A.postMessage(null)}}else S=function(){m(P,0)};function I(t){x=t,T||(T=!0,S())}function N(t,n){C=m((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){v||p||(v=!0,I(b))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return i(c)},e.unstable_next=function(t){switch(d){case 1:case 2:case 3:var e=3;break;default:e=d}var n=d;d=e;try{return t()}finally{d=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=d;d=t;try{return e()}finally{d=n}},e.unstable_scheduleCallback=function(t,r,o){var a=e.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,t){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return t={id:h++,callback:r,priorityLevel:t,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(t.sortIndex=o,n(l,t),null===i(c)&&t===i(l)&&(g?(y(C),C=-1):g=!0,N(w,o-a))):(t.sortIndex=s,n(c,t),v||p||(v=!0,I(b))),t},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(t){var e=d;return function(){var n=d;d=e;try{return t.apply(this,arguments)}finally{d=n}}}},296:function(t,e,n){"use strict";t.exports=n(813)}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var o=e[i]={exports:{}};return t[i].call(o.exports,o,o.exports,n),o.exports}n.m=t,n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.f={},n.e=function(t){return Promise.all(Object.keys(n.f).reduce((function(e,i){return n.f[i](t,e),e}),[]))},n.u=function(t){return"static/js/"+t+".ee1dd097.chunk.js"},n.miniCssF=function(t){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}(),n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){var t={},e="laketahoeindepth:";n.l=function(i,r,o,a){if(t[i])t[i].push(r);else{var s,u;if(void 0!==o)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var h=c[l];if(h.getAttribute("src")==i||h.getAttribute("data-webpack")==e+o){s=h;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",e+o),s.src=i),t[i]=[r];var f=function(e,n){s.onerror=s.onload=null,clearTimeout(d);var r=t[i];if(delete t[i],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach((function(t){return t(n)})),e)return e(n)},d=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.p="/laketahoeindepth/",function(){var t={179:0};n.f.j=function(e,i){var r=n.o(t,e)?t[e]:void 0;if(0!==r)if(r)i.push(r[2]);else{var o=new Promise((function(n,i){r=t[e]=[n,i]}));i.push(r[2]=o);var a=n.p+n.u(e),s=new Error;n.l(a,(function(i){if(n.o(t,e)&&(0!==(r=t[e])&&(t[e]=void 0),r)){var o=i&&("load"===i.type?"missing":i.type),a=i&&i.target&&i.target.src;s.message="Loading chunk "+e+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,r[1](s)}}),"chunk-"+e,e)}};var e=function(e,i){var r,o,a=i[0],s=i[1],u=i[2],c=0;if(a.some((function(e){return 0!==t[e]}))){for(r in s)n.o(s,r)&&(n.m[r]=s[r]);if(u)u(n)}for(e&&e(i);c<a.length;c++)o=a[c],n.o(t,o)&&t[o]&&t[o][0](),t[o]=0},i=self.webpackChunklaketahoeindepth=self.webpackChunklaketahoeindepth||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}(),function(){"use strict";var t,e=n(791),i=n(250);function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function o(t,e){if(t){if("string"===typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}function a(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=o(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,r,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(i=n.next()).done)&&(o.push(i.value),!e||o.length!==e);a=!0);}catch(u){s=!0,r=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return o}}(t,e)||o(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(){return u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},u.apply(this,arguments)}!function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"}(t||(t={}));var c=function(t){return t};var l="beforeunload",h="popstate";function f(t){t.preventDefault(),t.returnValue=""}function d(){var t=[];return{get length(){return t.length},push:function(e){return t.push(e),function(){t=t.filter((function(t){return t!==e}))}},call:function(e){t.forEach((function(t){return t&&t(e)}))}}}function p(){return Math.random().toString(36).substr(2,8)}function v(t){var e=t.pathname,n=void 0===e?"/":e,i=t.search,r=void 0===i?"":i,o=t.hash,a=void 0===o?"":o;return r&&"?"!==r&&(n+="?"===r.charAt(0)?r:"?"+r),a&&"#"!==a&&(n+="#"===a.charAt(0)?a:"#"+a),n}function g(t){var e={};if(t){var n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));var i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}var m=(0,e.createContext)(null);var y=(0,e.createContext)(null);var _=(0,e.createContext)({outlet:null,matches:[]});function k(t,e){if(!t)throw new Error(e)}function w(t,e,n){void 0===n&&(n="/");var i=O(("string"===typeof e?g(e):e).pathname||"/",n);if(null==i)return null;var r=b(t);!function(t){t.sort((function(t,e){return t.score!==e.score?e.score-t.score:function(t,e){var n=t.length===e.length&&t.slice(0,-1).every((function(t,n){return t===e[n]}));return n?t[t.length-1]-e[e.length-1]:0}(t.routesMeta.map((function(t){return t.childrenIndex})),e.routesMeta.map((function(t){return t.childrenIndex})))}))}(r);for(var o=null,a=0;null==o&&a<r.length;++a)o=C(r[a],i);return o}function b(t,e,n,i){return void 0===e&&(e=[]),void 0===n&&(n=[]),void 0===i&&(i=""),t.forEach((function(t,r){var o={relativePath:t.path||"",caseSensitive:!0===t.caseSensitive,childrenIndex:r,route:t};o.relativePath.startsWith("/")&&(o.relativePath.startsWith(i)||k(!1),o.relativePath=o.relativePath.slice(i.length));var a=P([i,o.relativePath]),s=n.concat(o);t.children&&t.children.length>0&&(!0===t.index&&k(!1),b(t.children,e,s,a)),(null!=t.path||t.index)&&e.push({path:a,score:x(a,t.index),routesMeta:s})})),e}var S=/^:\w+$/,T=function(t){return"*"===t};function x(t,e){var n=t.split("/"),i=n.length;return n.some(T)&&(i+=-2),e&&(i+=2),n.filter((function(t){return!T(t)})).reduce((function(t,e){return t+(S.test(e)?3:""===e?1:10)}),i)}function C(t,e){for(var n=t.routesMeta,i={},r="/",o=[],a=0;a<n.length;++a){var s=n[a],u=a===n.length-1,c="/"===r?e:e.slice(r.length)||"/",l=E({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(i,l.params);var h=s.route;o.push({params:i,pathname:P([r,l.pathname]),pathnameBase:L(P([r,l.pathnameBase])),route:h}),"/"!==l.pathnameBase&&(r=P([r,l.pathnameBase]))}return o}function E(t,e){"string"===typeof t&&(t={path:t,caseSensitive:!1,end:!0});var n=function(t,e,n){void 0===e&&(e=!1);void 0===n&&(n=!0);var i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(t,e){return i.push(e),"([^\\/]+)"}));t.endsWith("*")?(i.push("*"),r+="*"===t||"/*"===t?"(.*)$":"(?:\\/(.+)|\\/*)$"):r+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(r,e?void 0:"i"),i]}(t.path,t.caseSensitive,t.end),i=s(n,2),r=i[0],o=i[1],a=e.match(r);if(!a)return null;var u=a[0],c=u.replace(/(.)\/+$/,"$1"),l=a.slice(1),h=o.reduce((function(t,e,n){if("*"===e){var i=l[n]||"";c=u.slice(0,u.length-i.length).replace(/(.)\/+$/,"$1")}return t[e]=function(t,e){try{return decodeURIComponent(t)}catch(n){return t}}(l[n]||""),t}),{});return{params:h,pathname:u,pathnameBase:c,pattern:t}}function M(t,e,n){var i,r="string"===typeof t?g(t):t,o=""===t||""===r.pathname?"/":r.pathname;if(null==o)i=n;else{var a=e.length-1;if(o.startsWith("..")){for(var s=o.split("/");".."===s[0];)s.shift(),a-=1;r.pathname=s.join("/")}i=a>=0?e[a]:"/"}var u=function(t,e){void 0===e&&(e="/");var n="string"===typeof t?g(t):t,i=n.pathname,r=n.search,o=void 0===r?"":r,a=n.hash,s=void 0===a?"":a,u=i?i.startsWith("/")?i:function(t,e){var n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach((function(t){".."===t?n.length>1&&n.pop():"."!==t&&n.push(t)})),n.length>1?n.join("/"):"/"}(i,e):e;return{pathname:u,search:A(o),hash:I(s)}}(r,i);return o&&"/"!==o&&o.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function O(t,e){if("/"===e)return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;var n=t.charAt(e.length);return n&&"/"!==n?null:t.slice(e.length)||"/"}var P=function(t){return t.join("/").replace(/\/\/+/g,"/")},L=function(t){return t.replace(/\/+$/,"").replace(/^\/*/,"/")},A=function(t){return t&&"?"!==t?t.startsWith("?")?t:"?"+t:""},I=function(t){return t&&"#"!==t?t.startsWith("#")?t:"#"+t:""};function N(t){R()||k(!1);var n=(0,e.useContext)(m),i=n.basename,r=n.navigator,o=F(t),a=o.hash,s=o.pathname,u=o.search,c=s;if("/"!==i){var l=function(t){return""===t||""===t.pathname?"/":"string"===typeof t?g(t).pathname:t.pathname}(t),h=null!=l&&l.endsWith("/");c="/"===s?i+(h?"/":""):P([i,s])}return r.createHref({pathname:c,search:u,hash:a})}function R(){return null!=(0,e.useContext)(y)}function B(){return R()||k(!1),(0,e.useContext)(y).location}function D(){R()||k(!1);var t=(0,e.useContext)(m),n=t.basename,i=t.navigator,r=(0,e.useContext)(_).matches,o=B().pathname,a=JSON.stringify(r.map((function(t){return t.pathnameBase}))),s=(0,e.useRef)(!1);(0,e.useEffect)((function(){s.current=!0}));var u=(0,e.useCallback)((function(t,e){if(void 0===e&&(e={}),s.current)if("number"!==typeof t){var r=M(t,JSON.parse(a),o);"/"!==n&&(r.pathname=P([n,r.pathname])),(e.replace?i.replace:i.push)(r,e.state)}else i.go(t)}),[n,i,a,o]);return u}var j=(0,e.createContext)(null);function W(){return(0,e.useContext)(j)}function F(t){var n=(0,e.useContext)(_).matches,i=B().pathname,r=JSON.stringify(n.map((function(t){return t.pathnameBase})));return(0,e.useMemo)((function(){return M(t,JSON.parse(r),i)}),[t,r,i])}function z(t,n){return void 0===n&&(n=[]),null==t?null:t.reduceRight((function(i,r,o){return(0,e.createElement)(_.Provider,{children:void 0!==r.route.element?r.route.element:i,value:{outlet:i,matches:n.concat(t.slice(0,o+1))}})}),null)}function V(t){var n=t.to,i=t.replace,r=t.state;R()||k(!1);var o=D();return(0,e.useEffect)((function(){o(n,{replace:i,state:r})})),null}function H(t){return function(t){var n=(0,e.useContext)(_).outlet;return n?(0,e.createElement)(j.Provider,{value:t},n):n}(t.context)}function U(t){k(!1)}function K(n){var i=n.basename,r=void 0===i?"/":i,o=n.children,a=void 0===o?null:o,s=n.location,u=n.navigationType,c=void 0===u?t.Pop:u,l=n.navigator,h=n.static,f=void 0!==h&&h;R()&&k(!1);var d=L(r),p=(0,e.useMemo)((function(){return{basename:d,navigator:l,static:f}}),[d,l,f]);"string"===typeof s&&(s=g(s));var v=s,_=v.pathname,w=void 0===_?"/":_,b=v.search,S=void 0===b?"":b,T=v.hash,x=void 0===T?"":T,C=v.state,E=void 0===C?null:C,M=v.key,P=void 0===M?"default":M,A=(0,e.useMemo)((function(){var t=O(w,d);return null==t?null:{pathname:t,search:S,hash:x,state:E,key:P}}),[d,w,S,x,E,P]);return null==A?null:(0,e.createElement)(m.Provider,{value:p},(0,e.createElement)(y.Provider,{children:a,value:{location:A,navigationType:c}}))}function Z(t){var n=t.children,i=t.location;return function(t,n){R()||k(!1);var i,r=(0,e.useContext)(_).matches,o=r[r.length-1],a=o?o.params:{},s=(o&&o.pathname,o?o.pathnameBase:"/"),u=(o&&o.route,B());if(n){var c,l="string"===typeof n?g(n):n;"/"===s||(null==(c=l.pathname)?void 0:c.startsWith(s))||k(!1),i=l}else i=u;var h=i.pathname||"/",f=w(t,{pathname:"/"===s?h:h.slice(s.length)||"/"});return z(f&&f.map((function(t){return Object.assign({},t,{params:Object.assign({},a,t.params),pathname:P([s,t.pathname]),pathnameBase:"/"===t.pathnameBase?s:P([s,t.pathnameBase])})})),r)}(q(n),i)}function q(t){var n=[];return e.Children.forEach(t,(function(t){if((0,e.isValidElement)(t))if(t.type!==e.Fragment){t.type!==U&&k(!1);var i={caseSensitive:t.props.caseSensitive,element:t.props.element,index:t.props.index,path:t.props.path};t.props.children&&(i.children=q(t.props.children)),n.push(i)}else n.push.apply(n,q(t.props.children))})),n}function G(){return G=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},G.apply(this,arguments)}function Y(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}var Q=["onClick","reloadDocument","replace","state","target","to"],$=["aria-current","caseSensitive","className","end","style","to","children"];function X(n){var i=n.basename,r=n.children,o=n.window,a=(0,e.useRef)();null==a.current&&(a.current=function(e){void 0===e&&(e={});var n=e.window,i=void 0===n?document.defaultView:n,r=i.history;function o(){var t=i.location,e=t.pathname,n=t.search,o=t.hash,a=r.state||{};return[a.idx,c({pathname:e,search:n,hash:o,state:a.usr||null,key:a.key||"default"})]}var a=null;i.addEventListener(h,(function(){if(a)w.call(a),a=null;else{var e=t.Pop,n=o(),i=n[0],r=n[1];if(w.length){if(null!=i){var s=y-i;s&&(a={action:e,location:r,retry:function(){E(-1*s)}},E(s))}}else C(e)}}));var s=t.Pop,m=o(),y=m[0],_=m[1],k=d(),w=d();function b(t){return"string"===typeof t?t:v(t)}function S(t,e){return void 0===e&&(e=null),c(u({pathname:_.pathname,hash:"",search:""},"string"===typeof t?g(t):t,{state:e,key:p()}))}function T(t,e){return[{usr:t.state,key:t.key,idx:e},b(t)]}function x(t,e,n){return!w.length||(w.call({action:t,location:e,retry:n}),!1)}function C(t){s=t;var e=o();y=e[0],_=e[1],k.call({action:s,location:_})}function E(t){r.go(t)}null==y&&(y=0,r.replaceState(u({},r.state,{idx:y}),""));var M={get action(){return s},get location(){return _},createHref:b,push:function e(n,o){var a=t.Push,s=S(n,o);if(x(a,s,(function(){e(n,o)}))){var u=T(s,y+1),c=u[0],l=u[1];try{r.pushState(c,"",l)}catch(h){i.location.assign(l)}C(a)}},replace:function e(n,i){var o=t.Replace,a=S(n,i);if(x(o,a,(function(){e(n,i)}))){var s=T(a,y),u=s[0],c=s[1];r.replaceState(u,"",c),C(o)}},go:E,back:function(){E(-1)},forward:function(){E(1)},listen:function(t){return k.push(t)},block:function(t){var e=w.push(t);return 1===w.length&&i.addEventListener(l,f),function(){e(),w.length||i.removeEventListener(l,f)}}};return M}({window:o}));var m=a.current,y=s((0,e.useState)({action:m.action,location:m.location}),2),_=y[0],k=y[1];return(0,e.useLayoutEffect)((function(){return m.listen(k)}),[m]),(0,e.createElement)(K,{basename:i,children:r,location:_.location,navigationType:_.action,navigator:m})}var J=(0,e.forwardRef)((function(t,n){var i=t.onClick,r=t.reloadDocument,o=t.replace,a=void 0!==o&&o,s=t.state,u=t.target,c=t.to,l=Y(t,Q),h=N(c),f=function(t,n){var i=void 0===n?{}:n,r=i.target,o=i.replace,a=i.state,s=D(),u=B(),c=F(t);return(0,e.useCallback)((function(e){if(0===e.button&&(!r||"_self"===r)&&!function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(e)){e.preventDefault();var n=!!o||v(u)===v(c);s(t,{replace:n,state:a})}}),[u,s,c,o,a,r,t])}(c,{replace:a,state:s,target:u});return(0,e.createElement)("a",G({},l,{href:h,onClick:function(t){i&&i(t),t.defaultPrevented||r||f(t)},ref:n,target:u}))}));var tt=(0,e.forwardRef)((function(t,n){var i=t["aria-current"],r=void 0===i?"page":i,o=t.caseSensitive,a=void 0!==o&&o,s=t.className,u=void 0===s?"":s,c=t.end,l=void 0!==c&&c,h=t.style,f=t.to,d=t.children,p=Y(t,$),v=B(),g=F(f),m=v.pathname,y=g.pathname;a||(m=m.toLowerCase(),y=y.toLowerCase());var _,k=m===y||!l&&m.startsWith(y)&&"/"===m.charAt(y.length),w=k?r:void 0;_="function"===typeof u?u({isActive:k}):[u,k?"active":null].filter(Boolean).join(" ");var b="function"===typeof h?h({isActive:k}):h;return(0,e.createElement)(J,G({},p,{"aria-current":w,className:_,ref:n,style:b,to:f}),"function"===typeof d?d({isActive:k}):d)}));function et(t){var n=(0,e.useRef)(nt(t)),i=B(),r=(0,e.useMemo)((function(){var t,e=nt(i.search),r=a(n.current.keys());try{var o=function(){var i=t.value;e.has(i)||n.current.getAll(i).forEach((function(t){e.append(i,t)}))};for(r.s();!(t=r.n()).done;)o()}catch(s){r.e(s)}finally{r.f()}return e}),[i.search]),o=D();return[r,(0,e.useCallback)((function(t,e){o("?"+nt(t),e)}),[o])]}function nt(t){return void 0===t&&(t=""),new URLSearchParams("string"===typeof t||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((function(e,n){var i=t[n];return e.concat(Array.isArray(i)?i.map((function(t){return[n,t]})):[[n,i]])}),[]))}var it=function(t){t&&t instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(e){var n=e.getCLS,i=e.getFID,r=e.getFCP,o=e.getLCP,a=e.getTTFB;n(t),i(t),r(t),o(t),a(t)}))},rt=n(184);var ot=function(t){return(0,rt.jsxs)("div",{className:"header",children:[(0,rt.jsx)("img",{alt:"Lake Tahoe In Depth",src:"/laketahoeindepth/static/img/header.png"}),(0,rt.jsx)("span",{className:"header-title",children:"Lake Tahoe In Depth"})]})};var at=function(t){var e=t.module;return(0,rt.jsxs)("div",{className:"module-header",children:[(0,rt.jsxs)("div",{className:"module-header-name",children:[" ",e.name," "]}),(0,rt.jsxs)("p",{className:"module-header-desc",children:[" ",e.description]})]})};var st=function(t){var e="module-button";return t.active&&(e+=" module-button-active"),(0,rt.jsxs)(tt,{onClick:t.onClick,className:e,to:t.href,children:[(0,rt.jsx)("img",{src:t.image,alt:t.name}),(0,rt.jsxs)("span",{children:[" ",t.name," "]})]})};var ut=function(t){return(0,rt.jsx)("div",{className:t.class_name,children:t.children})};var ct=function(t){return(0,rt.jsx)(ut,{class_name:"module-selector",children:t.children})};function lt(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||o(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ht(t,e){if(null==t)return{};var n,i,r=function(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ft(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function pt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?dt(Object(n),!0).forEach((function(e){ft(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var vt=(0,e.createContext)(null),gt=vt.Provider;function mt(){var t=(0,e.useContext)(vt);if(null==t)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}var yt=n(559),_t=["bounds","boundsOptions","center","children","className","id","placeholder","style","whenReady","zoom"];function kt(){return kt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},kt.apply(this,arguments)}function wt(t,n){var i=t.bounds,r=t.boundsOptions,o=t.center,a=t.children,u=t.className,c=t.id,l=t.placeholder,h=t.style,f=t.whenReady,d=t.zoom,p=ht(t,_t),v=s((0,e.useState)({className:u,id:c,style:h}),1)[0],g=s((0,e.useState)(null),2),m=g[0],y=g[1];(0,e.useImperativeHandle)(n,(function(){var t;return null!==(t=null===m||void 0===m?void 0:m.map)&&void 0!==t?t:null}),[m]);var _=(0,e.useCallback)((function(t){if(null!==t&&null===m){var e=new yt.Map(t,p);null!=o&&null!=d?e.setView(o,d):null!=i&&e.fitBounds(i,r),null!=f&&e.whenReady(f),y(function(t){return Object.freeze({__version:1,map:t})}(e))}}),[]);(0,e.useEffect)((function(){return function(){null===m||void 0===m||m.map.remove()}}),[]);var k=m?e.createElement(gt,{value:m},a):null!==l&&void 0!==l?l:null;return e.createElement("div",kt({},v,{ref:_}),k)}var bt=(0,e.forwardRef)(wt),St=n(164);function Tt(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function xt(t,n){return null==n?function(n,i){return(0,e.useRef)(t(n,i))}:function(i,r){var o=(0,e.useRef)(t(i,r)),a=(0,e.useRef)(i),s=o.current.instance;return(0,e.useEffect)((function(){a.current!==i&&(n(s,i,a.current),a.current=i)}),[s,i,r]),o}}function Ct(t,n){var i=(0,e.useRef)(n);(0,e.useEffect)((function(){n!==i.current&&null!=t.attributionControl&&(null!=i.current&&t.attributionControl.removeAttribution(i.current),null!=n&&t.attributionControl.addAttribution(n)),i.current=n}),[t,n])}function Et(t,n){var i=(0,e.useRef)();(0,e.useEffect)((function(){return null!=n&&t.instance.on(n),i.current=n,function(){null!=i.current&&t.instance.off(i.current),i.current=null}}),[t,n])}function Mt(t,e){var n,i=null!==(n=t.pane)&&void 0!==n?n:e.pane;return i?pt(pt({},t),{},{pane:i}):t}function Ot(t){return function(n){var i=mt(),r=t(Mt(n,i),i);return Ct(i.map,n.attribution),Et(r.current,n.eventHandlers),function(t,n){(0,e.useEffect)((function(){var e;return(null!==(e=n.layerContainer)&&void 0!==e?e:n.map).addLayer(t.instance),function(){var e;null===(e=n.layerContainer)||void 0===e||e.removeLayer(t.instance),n.map.removeLayer(t.instance)}}),[n,t])}(r.current,i),r}}var Pt=["url"],Lt=function(t,n){return function(t){function n(n,i){var r=t(n).current.instance;return(0,e.useImperativeHandle)(i,(function(){return r})),null}return(0,e.forwardRef)(n)}(Ot(xt(t,n)))}((function(t,e){var n=t.url,i=ht(t,Pt);return Tt(new yt.TileLayer(n,Mt(i,e)),e)}),(function(t,e,n){var i=e.opacity,r=e.zIndex;null!=i&&i!==n.opacity&&t.setOpacity(i),null!=r&&r!==n.zIndex&&t.setZIndex(r)}));function At(t){return At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},At(t)}function It(){It=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(C){s=function(t,e,n){return t[e]=n}}function u(t,e,n,i){var r=e&&e.prototype instanceof h?e:h,o=Object.create(r.prototype),a=new S(i||[]);return o._invoke=function(t,e,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return x()}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var u=c(t,e,n);if("normal"===u.type){if(i=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i="completed",n.method="throw",n.arg=u.arg)}}}(t,n,a),o}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(C){return{type:"throw",arg:C}}}t.wrap=u;var l={};function h(){}function f(){}function d(){}var p={};s(p,r,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(T([])));g&&g!==e&&n.call(g,r)&&(p=g);var m=d.prototype=h.prototype=Object.create(p);function y(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function i(r,o,a,s){var u=c(t[r],t,o);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"==At(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){i("next",t,a,s)}),(function(t){i("throw",t,a,s)})):e.resolve(h).then((function(t){l.value=t,a(l)}),(function(t){return i("throw",t,a,s)}))}s(u.arg)}var r;this._invoke=function(t,n){function o(){return new e((function(e,r){i(t,n,e,r)}))}return r=r?r.then(o,o):o()}}function k(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var i=c(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,l;var r=i.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function b(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function T(t){if(t){var e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function e(){for(;++i<t.length;)if(n.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return f.prototype=d,s(m,"constructor",d),s(d,"constructor",f),f.displayName=s(d,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},y(_.prototype),s(_.prototype,o,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var a=new _(u(e,n,i,r),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},y(m),s(m,a,"Generator"),s(m,r,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},t.values=T,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(n,i){return a.type="throw",a.arg=t,e.next=n,i&&(e.method="next",e.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),b(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;b(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:T(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}function Nt(t,e,n,i,r,o,a){try{var s=t[o](a),u=s.value}catch(c){return void n(c)}s.done?e(u):Promise.resolve(u).then(i,r)}function Rt(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var o=t.apply(e,n);function a(t){Nt(o,i,r,a,s,"next",t)}function s(t){Nt(o,i,r,a,s,"throw",t)}a(void 0)}))}}var Bt=JSON.parse('{"biking":{"name":"Biking","desc":"Biking offers magnificent views of\xa0Lake Tahoe. Choose from miles of paved paths and mountain biking trails. Pristine wilderness and panoramic vistas reward your challenging climb up steep and rocky trails, so come prepared. Trail etiquette asks that you \u201cleave no trace\u201d and respect hikers and animals as you ride.","poster":"/laketahoeindepth/static/img/activities/poster/activities-21-biking.png","thumb":"/laketahoeindepth/static/img/activities/thumb/activities-02.png","icon":"/laketahoeindepth/static/img/activities/icons/activity-icons2-11.svg"},"boating":{"name":"Boating","desc":"While many locals prefer human-powered, low-impact activities, watercraft rentals are another option for a true blue Lake Tahoe adventure. Wakesurfing, wakeboarding, and waterskiing are usually best in the morning. Remember that if you bring a boat from elsewhere, you must have it inspected for aquatic invasive species before you launch.","poster":"/laketahoeindepth/static/img/activities/poster/activities-32-boating.png","thumb":"/laketahoeindepth/static/img/activities/thumb/activities-13.png","icon":"/laketahoeindepth/static/img/activities/icons/activity-icons2-01.svg","license":"https://creativecommons.org/licenses/by/4.0/","source":"Tom Hilton"},"camping":{"name":"Camping","desc":"For total immersion in the Tahoe experience, nothing beats camping. Fall asleep under the stars and awaken in the crisp mountain air, ready for anything. Tahoe\u2019s \u201cTake Care\u201d campaign offers good suggestions for protecting this beautiful land while you enjoy it.","poster":"/laketahoeindepth/static/img/activities/poster/activities-20-camping.png","thumb":"/laketahoeindepth/static/img/activities/thumb/activities-01.png","icon":"/laketahoeindepth/static/img/activities/icons/activity-icons2-12.svg"},"crossCountrySkiing":{"name":"Cross-country Skiing","desc":"Lake Tahoe features\xa0the largest concentration of cross- country ski areas in North America. You can stride or skate in open meadows, explore secluded valleys, or climb to scenic overlooks. Backcountry skiers can access thousands of vertical feet of open terrain\xa0whether steps from the car or miles into the backcountry. Venture beyond the boundaries of the ski resort and into a world without crowds and tracked- up slopes.","poster":"/laketahoeindepth/static/img/activities/poster/activities-29-crosscountry.png","thumb":"/laketahoeindepth/static/img/activities/thumb/activities-06.png","icon":"/laketahoeindepth/static/img/activities/icons/activity-icons2-13.svg"},"fishing":{"name":"Fishing","desc":"Depending on the season, you can catch Mackinaw (Lake Trout), Rainbow Trout, Brown Trout, and Kokanee Salmon while fishing on Lake Tahoe. Whether you enjoy casual shore fishing, fly-fishing, or on-lake charters, you\u2019ve got options! Note that fishing regulations vary between California and Nevada, and a license is always required.","poster":"/laketahoeindepth/static/img/activities/poster/activities-33-fishing.png","thumb":"/laketahoeindepth/static/img/activities/thumb/activities-14.png","icon":"/laketahoeindepth/static/img/activities/icons/activity-icons2-02.svg"},"golfing":{"name":"Golfing","desc":"Regardless of where you play, whether your course snakes through a glacially etched valley, contours along Lake Tahoe itself, or winds links-style through the trees, you\u2019re going to witness some of the most eye-popping views found in Northern California and Nevada.","poster":"/laketahoeindepth/static/img/activities/poster/activities-22-golfing.png","thumb":"/laketahoeindepth/static/img/activities/thumb/activities-03.png","icon":"/laketahoeindepth/static/img/activities/icons/activity-icons2-14.svg"},"hiking":{"name":"Hiking","desc":"Hiking and exploring on foot is one of the best ways to access the beauty of Lake Tahoe. An extensive network of trails leads you up glacier-carved granite slopes to discover hidden waterfalls, along alpine meadows painted with wildflowers, or through pine-scented forests where birds and squirrels track your progress.","poster":"/laketahoeindepth/static/img/activities/poster/activities-23-hiking.png","thumb":"/laketahoeindepth/static/img/activities/thumb/activities-04.png","icon":"/laketahoeindepth/static/img/activities/icons/activity-icons2-16.svg"},"kayaking":{"name":"Kayaking & Canoeing","desc":"Tahoe\u2019s sandy beaches and rocky inlets are ideal for all non-motorized watercrafts. The Lake Tahoe Water Trail Map guides you on this 1-4 day journey. If you bring your own boat, visit \u201cTahoe Keepers\u201d to learn how to clean, drain, and dry it. Stop the spread of aquatic invasive species!","poster":"/laketahoeindepth/static/img/activities/poster/activities-31-kayaking.png","thumb":"/laketahoeindepth/static/img/activities/thumb/activities-12.png","icon":"/laketahoeindepth/static/img/activities/icons/activity-icons2-03.svg"},"kitesurfing":{"name":"Kitesurfing & Windsurfing","desc":"Summer winds on Lake Tahoe are variable. Typically, gentle north winds in the morning becoming stronger in the afternoon/evenings and swing out from the west/southwest. The challenge lies in the unpredictability. You\u2019ll need to read the wind on the water as you surf.","poster":"/laketahoeindepth/static/img/activities/poster/activities-35-windsurfing.png","thumb":"/laketahoeindepth/static/img/activities/thumb/activities-16.png","icon":"/laketahoeindepth/static/img/activities/icons/activity-icons2-04.svg"},"museums":{"name":"Museums & Cultural Activities","desc":"When you\'re craving to learn more about the environmental science of Lake Tahoe, visit the UC Davis Tahoe Science Center in Incline Village or Eriksson Education Center in Tahoe City. To learn about Tahoe\'s people and history, check out the many historical and cultural museums located around the lake.","poster":"/laketahoeindepth/static/img/activities/poster/tahoe_activity_museums.png","thumb":"/laketahoeindepth/static/img/activities/thumb/tahoe_activity_museums-icon.png","icon":"/laketahoeindepth/static/img/activities/icons/activity-icons-museums-20.svg"},"paddleboarding":{"name":"Paddleboarding","desc":"Stand-up paddleboarding is a great water sport for anyone of any ability. Lake Tahoe offers over 72 miles of shoreline with\xa0dozens of public launch/landing sites.\xa0 If you bring your own board, visit \u201cTahoe Keepers\u201d to learn how to clean, drain, and dry it. Stop the spread of aquatic invasive species!","poster":"/laketahoeindepth/static/img/activities/poster/activities-30-paddleboarding.png","thumb":"/laketahoeindepth/static/img/activities/thumb/activities-11.png","icon":"/laketahoeindepth/static/img/activities/icons/activity-icons2-05.svg"},"playgrounds":{"name":"Parks & Playgrounds","desc":"From \\"Sno-Parks\\" to swings and merry-go-rounds, Tahoe is a great place to play. Explore these spots for family fun in any season!","poster":"/laketahoeindepth/static/img/activities/poster/tahoe_activity_playgrounds.png","thumb":"/laketahoeindepth/static/img/activities/thumb/tahoe_activity_playgrounds-icon.png","icon":"/laketahoeindepth/static/img/activities/icons/activity-icons-playgrounds-15.svg","license":"https://creativecommons.org/licenses/by/4.0/","source":"George Ruiz"},"rafting":{"name":"Rafting","desc":"Enjoy a peaceful five-mile float down the Truckee River in rafts or inner tubes. Start your float at Tahoe City and pull out at Alpine Meadows Road. Note that alcohol is illegal on the river, and please be sensitive to this delicate environment by using the proper garbage and restroom facilities.","poster":"/laketahoeindepth/static/img/activities/poster/activities-24-rafting.png","thumb":"/laketahoeindepth/static/img/activities/thumb/activities-05.png","icon":"/laketahoeindepth/static/img/activities/icons/activity-icons2-06.svg"},"rockclimbing":{"name":"Rock Climbing","desc":"Want to get \\"up close and personal\\" with Tahoe\'s geologic history? Mostly granite with some basalt, Tahoe\'s sheer cliffs and boulders offer climbing challenges for almost every level of expertise. With crags facing every direction, you can find a good climb almost any time of year.","poster":"/laketahoeindepth/static/img/activities/poster/tahoe_activity_rockclimbing.png","thumb":"/laketahoeindepth/static/img/activities/thumb/tahoe_activity_rockclimbing-icon.png","icon":"/laketahoeindepth/static/img/activities/icons/activity-icons-rockclimbing-10.svg","license":"https://creativecommons.org/licenses/by/4.0/","source":"Maria Ly"},"sailing":{"name":"Sailing","desc":"Summer winds on Lake Tahoe are variable. Typically, gentle north winds in the morning becoming stronger in the afternoon/evenings and swing out from the west/southwest. The challenge lies in the unpredictability. If you bring a boat from elsewhere, you must have it inspected for aquatic invasive species before you launch.","poster":"/laketahoeindepth/static/img/activities/poster/activities-37-sailing.png","thumb":"/laketahoeindepth/static/img/activities/thumb/activities-18.png","icon":"/laketahoeindepth/static/img/activities/icons/activity-icons2-09.svg"},"skiing":{"name":"Skiing & Snowboarding","desc":"Skiing and snowboarding are a vital part of the winter experience at Lake Tahoe. Tourists and locals alike flock to local ski resorts for skiing and snowboarding adventures with a wide range of terrain for beginner, intermediate, and advanced skiers. Some of America\u2019s top Winter Olympians trained at Tahoe!","poster":"/laketahoeindepth/static/img/activities/poster/activities-27-skiing.png","thumb":"/laketahoeindepth/static/img/activities/thumb/activities-08.png","icon":"/laketahoeindepth/static/img/activities/icons/activity-icons2-17.svg"},"sledding":{"name":"Sledding & Tubing","desc":"Make memories on the mountain with friends and family when you visit Lake Tahoe sledding hills. Many ski areas feature groomed snow-play areas and tubing lanes for varying thrill levels, and \u201cSno-Parks\u201d can be found throughout the Tahoe Basin. Awaken the kid inside and find a good hill for sledding!","poster":"/laketahoeindepth/static/img/activities/poster/activities-28-sledding.png","thumb":"/laketahoeindepth/static/img/activities/thumb/activities-07.png","icon":"/laketahoeindepth/static/img/activities/icons/activity-icons2-18.svg"},"snowshoeing":{"name":"Snowshoeing & Snow Play","desc":"Backcountry snowshoeing, whether peaceful or strenuous, offers spectacular views of the lake and the surrounding mountains. For fun and easy snow-play, California State \u201cSno-Park\u201d recreation areas are easily accessible and usually offer plowed\xa0off-street parking. Choose any National Forest land for more rugged terrain.","poster":"/laketahoeindepth/static/img/activities/poster/activities-26-snowshoeing.png","thumb":"/laketahoeindepth/static/img/activities/thumb/activities-09.png","icon":"/laketahoeindepth/static/img/activities/icons/activity-icons2-19.svg"},"surfing":{"name":"Surfing","desc":"When huge storms hit Northern California, they can stir up the waters of\xa0Lake Tahoe\xa0enough to create waves large enough for surfers. These conditions are considered dangerous for most water activities, but they don\u2019t stop thrill-seekers from putting on their wetsuits and hitting the chilly waters.","poster":"/laketahoeindepth/static/img/activities/poster/activities-34-surfing.png","thumb":"/laketahoeindepth/static/img/activities/thumb/activities-15.png","icon":"/laketahoeindepth/static/img/activities/icons/activity-icons2-07.svg"},"swimming":{"name":"Swimming","desc":"Lake Tahoe\'s\xa0water is cold, but come the hot days of summer, this clear, blue water is so enticing you won\'t care. Beautiful sandy beaches encourage the timid to start slow, while granite boulders allow a full-body plunge. Summer temperatures in shallow water can get as high as 68\xb0F.","poster":"/laketahoeindepth/static/img/activities/poster/activities-25-swimming.png","thumb":"/laketahoeindepth/static/img/activities/thumb/activities-10.png","icon":"/laketahoeindepth/static/img/activities/icons/activity-icons2-08.svg"}}'),Dt=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],jt=["January","February","March","April","May","June","July","August","September","October","November","December"],Wt=["Spring","Summer","Fall","Winter"],Ft=36e5,zt=864e5,Vt=31536e6;function Ht(t,e){return{lat:t,lon:e}}function Ut(t,e){var n=s(t,2),i=n[0],r=n[1],o=s(e,2),a=o[0],u=o[1],c=i*Math.PI/180,l=a*Math.PI/180,h=(a-i)*Math.PI/180,f=(u-r)*Math.PI/180,d=Math.sin(h/2)*Math.sin(h/2)+Math.cos(c)*Math.cos(l)*Math.sin(f/2)*Math.sin(f/2);return 621371e-9*(6371e3*(2*Math.atan2(Math.sqrt(d),Math.sqrt(1-d))))}function Kt(t){for(var e=0,n=0,i=0,r=0;r<t.length;r++){var o=t[r][0]*Math.PI/180,a=t[r][1]*Math.PI/180;e+=Math.cos(o)*Math.cos(a),n+=Math.cos(o)*Math.sin(a),i+=Math.sin(o)}var s=e/t.length,u=n/t.length,c=i/t.length,l=(a=Math.atan2(u,s),Math.sqrt(s*s+u*u));return[180*(o=Math.atan2(c,l))/Math.PI,180*a/Math.PI]}function Zt(t){return Object.values(Bt).find((function(e){return e.name===t})).icon}function qt(t){if(!t.includes("/"))return[new Date(t),0];var e,n=function(t){return/^\d$/.test(t)},i=s(t.split("/"),2),r=i[0],o=0,u=0,c=a(i[1]);try{for(c.s();!(e=c.n()).done;){var l=e.value;if(n(l))u=10*u+parseInt(l);else{if("P"===l)continue;if("M"===l)throw new Error("Month designator 'M' not implemented in interval parser");if("W"===l)o+=24*u*7,u=0;else if("D"===l)o+=24*u,u=0;else{if("T"===l)continue;if("H"===l)o+=u,u=0;else if("M"===l)o+=Math.floor(u/60),u=0;else{if("S"!==l)throw new Error("Unexpected character '".concat(l,"' in interval timestamp"));o+=Math.floor(u/360),u=0}}}}}catch(h){c.e(h)}finally{c.f()}return[new Date(r),o]}function Gt(t){return t.setMinutes(t.getMinutes()+30),t.setMinutes(0,0,0),t}function Yt(t,e,n,i){return Qt.apply(this,arguments)}function Qt(){return Qt=Rt(It().mark((function t(e,n,i,r){var o,a,s,u;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=null!==(o=i)&&void 0!==o?o:{"Content-Type":"application/json"},r=null!==(a=r)&&void 0!==a?a:"cors",s=new URL(e),void 0!==n&&(s.search=new URLSearchParams(n).toString()),t.next=6,fetch(s,{method:"GET",mode:r,headers:i});case 6:return u=t.sent,t.next=9,u.json();case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}}),t)}))),Qt.apply(this,arguments)}function $t(t){var e;t=null!==(e=t)&&void 0!==e?e:0;var n=new Date;return n=new Date(n.getTime()+t*zt)}function Xt(t){return((t-1)%(e=12)+e)%e+1;var e}function Jt(t,e,n){if(0===e.length||0===n.length)throw new Error("Expected at least 1 data point");if(e.length!==n.length)throw new Error("Expected X.length === Y.length");var i=e[0],r=e[e.length-1],o=n[0],a=n[n.length-1];if(t<i)return o;if(t>r)return a;for(var s=0;e[s]<=t;)s+=1;var u=e[s-1],c=e[s],l=n[s-1],h=n[s];if(c===u)throw new Error("Expected X to monotonically increasing");return l+(h-l)/(c-u)*(t-u)}function te(t,e){return void 0===e&&(e=0),Math.round(t*Math.pow(10,e))/Math.pow(10,e)}function ee(t){return 1.8*t+32}function ne(t){var e=String(t.getUTCFullYear()),n=String(t.getUTCMonth()+1).padStart(2,"0"),i=String(t.getUTCDate()).padStart(2,"0");return"".concat(e).concat(n).concat(i)}function ie(t,e){return void 0===e&&(e=!1),function(n){if(n<=0)return t[0];if(n>=1)return t[t.length-1];if(e){var i=Math.floor(n*t.length);return t[i]}var r=Math.floor(n*(t.length-1)),o=t[r],a=t[r+1],s=r/(t.length-1);n=(n-s)/((r+1)/(t.length-1)-s);for(var u=[],c=0;c<o.length;c++)u.push(Math.floor(o[c]+(a[c]-o[c])*n));return u}}ie([[0,30,77],[0,55,134],[14,88,168],[32,126,184],[48,164,202],[83,200,223],[155,228,239],[225,233,209],[243,213,115],[231,176,0],[218,130,0],[198,84,0],[172,35,0],[130,0,0],[76,0,0]],!0),ie([[0,30,77],[0,55,134],[14,88,168],[32,126,184],[48,164,202],[83,200,223],[155,228,239],[225,233,209],[243,213,115],[231,176,0],[218,130,0],[198,84,0],[172,35,0],[130,0,0],[76,0,0]],!1);function re(t){return t.map((function(t){return"number"===typeof t?function(t){var e=new Date(t.getTime());return e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e}($t(t)):new Date(t)}))}function oe(t,e,n,i){var r,o;i=null!==(o=i)&&void 0!==o?o:7;for(var a=(n=null!==(r=n)&&void 0!==r?r:[.1,.25,.5,1,2,5,10,25,50,100,1e3]).map((function(n){var i=n*Math.ceil(t/n),r=n*Math.floor(e/n);if(isNaN(i)||isNaN(r))throw Error("Invalid increment ".concat(n));return i>=r?0:Math.floor((r-i)/n)+1})),s=a.length-1,u=a.length-2;u>=0;u--){if(a[u]>i){s=u+1;break}0==u&&(s=0)}console.log(t,e,a);for(var c=n[s],l=c*Math.ceil(t/c),h=c*Math.floor(e/c),f=[],d=l;d<=h;d+=c)f.push(d);return f}function ae(t){return!isNaN(parseFloat(t))&&isFinite(t)}function se(t,e,n){var i;n=null!==(i=n)&&void 0!==i?i:1;for(var r=[],o=t;o<e;o+=n)r.push(o);return r}function ue(t,e,n){var i;if(null!==(i=n)&&void 0!==i||(n=!0),!1===n){var r=JSON.parse(JSON.stringify(t));return ue(r,e,!0),r}var o,u=a(t.entries());try{for(u.s();!(o=u.n()).done;){var c=s(o.value,2),l=c[0],h=c[1];Array.isArray(h)?ue(h,e):t[l]=e(h,l)}}catch(f){u.e(f)}finally{u.f()}return t}var ce=JSON.parse('[{"name":"Incline Village","loc":[39.25175,-119.9733]},{"name":"Cave Rock","loc":[39.0462962,-119.9578261]},{"name":"South Lake Tahoe","loc":[38.9227176,-120.013534]},{"name":"Emerald Bay","loc":[38.96156,-120.1036887]},{"name":"Homewood","loc":[39.0820174,-120.1626291]},{"name":"Tahoe City","loc":[39.1555087,-120.18275]},{"name":"Kings Beach","loc":[39.249242,-120.0442868]},{"name":"Sand Harbor State Park","loc":[39.1986903,-119.9336363]},{"name":"Zephyr Cove","loc":[39.0058558,-119.9505849]},{"name":"Heavenly","loc":[38.9346193,-119.9426679]},{"name":"Lakeview Commons","loc":[38.94489,-119.9791187]},{"name":"Taylor Creek","loc":[38.938987,-120.0601248]},{"name":"Desolation Wilderness","loc":[38.9499076,-120.1865438]},{"name":"Meeks Bay","loc":[39.034352,-120.1262648]},{"name":"Sugar Pine Point","loc":[39.0504976,-120.1178812]},{"name":"Skunk Harbor","loc":[39.132357,-119.950767]},{"name":"Logan Shoals","loc":[39.0578139,-119.945371],"active":false},{"name":"Fallen Leaf Lake","loc":[38.900402,-120.0791337]},{"name":"Tahoma","loc":[39.0674065,-120.1369987]},{"name":"Sunnyside","loc":[39.1391089,-120.1558019]},{"name":"Alpine Meadows","loc":[39.1645287,-120.2409444]},{"name":"Squaw Valley","loc":[39.2034119,-120.2287701]},{"name":"Dollar Point","loc":[39.1909248,-120.1261392]},{"name":"Carnelian Bay","loc":[39.2268494,-120.0993683]}]'),le=JSON.parse('{"rl":[39.098,-120.031],"i1":{"WIDTH":1920,"HEIGHT":1080},"zK":0.5,"wC":{"v":{"apiKey":"AIzaSyASOUTpDn4PFZwaJhDzvDp3o-WcuV3ptKI","authDomain":"citizen-science-tahoe.firebaseapp.com","databaseURL":"https://citizen-science-tahoe.firebaseio.com","projectId":"citizen-science-tahoe","storageBucket":"citizen-science-tahoe.appspot.com","messagingSenderId":"282360623598","appId":"1:282360623598:web:7ecf25e366b351d8dddeff","measurementId":"G-483LFXPXXL"}}}'),he=["position"],fe=function(t,n){return function(t){function n(n,i){var r=t(n).current,o=r.instance,a=r.context;return(0,e.useImperativeHandle)(i,(function(){return o})),null==n.children?null:e.createElement(gt,{value:a},n.children)}return(0,e.forwardRef)(n)}(Ot(xt(t,n)))}((function(t,e){var n,i,r=t.position,o=ht(t,he),a=new yt.Marker(r,o);return Tt(a,(n=e,i={overlayContainer:a},Object.freeze(pt(pt({},n),i))))}),(function(t,e,n){e.position!==n.position&&t.setLatLng(e.position),null!=e.icon&&e.icon!==n.icon&&t.setIcon(e.icon),null!=e.zIndexOffset&&e.zIndexOffset!==n.zIndexOffset&&t.setZIndexOffset(e.zIndexOffset),null!=e.opacity&&e.opacity!==n.opacity&&t.setOpacity(e.opacity),null!=t.dragging&&e.draggable!==n.draggable&&(!0===e.draggable?t.dragging.enable():t.dragging.disable())}));var de=function(t){var e=(0,yt.divIcon)({html:'<div class="map-label"> '.concat(t.text," </div>"),className:"map-label-container"});return(0,rt.jsx)(fe,{position:t.position,icon:e})};function pe(t){if(!(r=t.length))return[];for(var e=-1,n=function(t,e){var n;if(void 0===e){var i,r=a(t);try{for(r.s();!(i=r.n()).done;){var o=i.value;null!=o&&(n>o||void 0===n&&o>=o)&&(n=o)}}catch(h){r.e(h)}finally{r.f()}}else{var s,u=-1,c=a(t);try{for(c.s();!(s=c.n()).done;){var l=s.value;null!=(l=e(l,++u,t))&&(n>l||void 0===n&&l>=l)&&(n=l)}}catch(h){c.e(h)}finally{c.f()}}return n}(t,ve),i=new Array(n);++e<n;)for(var r,o=-1,s=i[e]=new Array(r);++o<r;)s[o]=t[o][e];return i}function ve(t){return t.length}function ge(){}function me(t){return null==t?ge:function(){return this.querySelector(t)}}function ye(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function _e(){return[]}function ke(t){return null==t?_e:function(){return this.querySelectorAll(t)}}function we(t){return function(){return this.matches(t)}}function be(t){return function(e){return e.matches(t)}}var Se=Array.prototype.find;function Te(){return this.firstElementChild}var xe=Array.prototype.filter;function Ce(){return Array.from(this.children)}function Ee(t){return new Array(t.length)}function Me(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function Oe(t){return function(){return t}}function Pe(t,e,n,i,r,o){for(var a,s=0,u=e.length,c=o.length;s<c;++s)(a=e[s])?(a.__data__=o[s],i[s]=a):n[s]=new Me(t,o[s]);for(;s<u;++s)(a=e[s])&&(r[s]=a)}function Le(t,e,n,i,r,o,a){var s,u,c,l=new Map,h=e.length,f=o.length,d=new Array(h);for(s=0;s<h;++s)(u=e[s])&&(d[s]=c=a.call(u,u.__data__,s,e)+"",l.has(c)?r[s]=u:l.set(c,u));for(s=0;s<f;++s)c=a.call(t,o[s],s,o)+"",(u=l.get(c))?(i[s]=u,u.__data__=o[s],l.delete(c)):n[s]=new Me(t,o[s]);for(s=0;s<h;++s)(u=e[s])&&l.get(d[s])===u&&(r[s]=u)}function Ae(t){return t.__data__}function Ie(t){return"object"===typeof t&&"length"in t?t:Array.from(t)}function Ne(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}Me.prototype={constructor:Me,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Re="http://www.w3.org/1999/xhtml",Be={svg:"http://www.w3.org/2000/svg",xhtml:Re,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function De(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Be.hasOwnProperty(e)?{space:Be[e],local:t}:t}function je(t){return function(){this.removeAttribute(t)}}function We(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Fe(t,e){return function(){this.setAttribute(t,e)}}function ze(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Ve(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function He(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Ue(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Ke(t){return function(){this.style.removeProperty(t)}}function Ze(t,e,n){return function(){this.style.setProperty(t,e,n)}}function qe(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function Ge(t,e){return t.style.getPropertyValue(e)||Ue(t).getComputedStyle(t,null).getPropertyValue(e)}function Ye(t){return function(){delete this[t]}}function Qe(t,e){return function(){this[t]=e}}function $e(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function Xe(t){return t.trim().split(/^|\s+/)}function Je(t){return t.classList||new tn(t)}function tn(t){this._node=t,this._names=Xe(t.getAttribute("class")||"")}function en(t,e){for(var n=Je(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function nn(t,e){for(var n=Je(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function rn(t){return function(){en(this,t)}}function on(t){return function(){nn(this,t)}}function an(t,e){return function(){(e.apply(this,arguments)?en:nn)(this,t)}}function sn(){this.textContent=""}function un(t){return function(){this.textContent=t}}function cn(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function ln(){this.innerHTML=""}function hn(t){return function(){this.innerHTML=t}}function fn(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function dn(){this.nextSibling&&this.parentNode.appendChild(this)}function pn(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function vn(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Re&&e.documentElement.namespaceURI===Re?e.createElement(t):e.createElementNS(n,t)}}function gn(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function mn(t){var e=De(t);return(e.local?gn:vn)(e)}function yn(){return null}function _n(){var t=this.parentNode;t&&t.removeChild(this)}function kn(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function wn(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function bn(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function Sn(t){return function(){var e=this.__on;if(e){for(var n,i=0,r=-1,o=e.length;i<o;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++r]=n:this.removeEventListener(n.type,n.listener,n.options);++r?e.length=r:delete this.__on}}}function Tn(t,e,n){return function(){var i,r=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(r)for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===t.type&&i.name===t.name)return this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),void(i.value=e);this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function xn(t,e,n){var i=Ue(t),r=i.CustomEvent;"function"===typeof r?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function Cn(t,e){return function(){return xn(this,t,e)}}function En(t,e){return function(){return xn(this,t,e.apply(this,arguments))}}tn.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Mn=It().mark(On);function On(){var t,e,n,i,r,o,a;return It().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:t=this._groups,e=0,n=t.length;case 1:if(!(e<n)){s.next=13;break}i=t[e],r=0,o=i.length;case 3:if(!(r<o)){s.next=10;break}if(!(a=i[r])){s.next=7;break}return s.next=7,a;case 7:++r,s.next=3;break;case 10:++e,s.next=1;break;case 13:case"end":return s.stop()}}),Mn,this)}var Pn=[null];function Ln(t,e){this._groups=t,this._parents=e}function An(){return new Ln([[document.documentElement]],Pn)}Ln.prototype=An.prototype=ft({constructor:Ln,select:function(t){"function"!==typeof t&&(t=me(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,a,s=e[r],u=s.length,c=i[r]=new Array(u),l=0;l<u;++l)(o=s[l])&&(a=t.call(o,o.__data__,l,s))&&("__data__"in o&&(a.__data__=o.__data__),c[l]=a);return new Ln(i,this._parents)},selectAll:function(t){t="function"===typeof t?function(t){return function(){return ye(t.apply(this,arguments))}}(t):ke(t);for(var e=this._groups,n=e.length,i=[],r=[],o=0;o<n;++o)for(var a,s=e[o],u=s.length,c=0;c<u;++c)(a=s[c])&&(i.push(t.call(a,a.__data__,c,s)),r.push(a));return new Ln(i,r)},selectChild:function(t){return this.select(null==t?Te:function(t){return function(){return Se.call(this.children,t)}}("function"===typeof t?t:be(t)))},selectChildren:function(t){return this.selectAll(null==t?Ce:function(t){return function(){return xe.call(this.children,t)}}("function"===typeof t?t:be(t)))},filter:function(t){"function"!==typeof t&&(t=we(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,a=e[r],s=a.length,u=i[r]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&u.push(o);return new Ln(i,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,Ae);var n=e?Le:Pe,i=this._parents,r=this._groups;"function"!==typeof t&&(t=Oe(t));for(var o=r.length,a=new Array(o),s=new Array(o),u=new Array(o),c=0;c<o;++c){var l=i[c],h=r[c],f=h.length,d=Ie(t.call(l,l&&l.__data__,c,i)),p=d.length,v=s[c]=new Array(p),g=a[c]=new Array(p),m=u[c]=new Array(f);n(l,h,v,g,m,d,e);for(var y,_,k=0,w=0;k<p;++k)if(y=v[k]){for(k>=w&&(w=k+1);!(_=g[w])&&++w<p;);y._next=_||null}}return(a=new Ln(a,i))._enter=s,a._exit=u,a},enter:function(){return new Ln(this._enter||this._groups.map(Ee),this._parents)},exit:function(){return new Ln(this._exit||this._groups.map(Ee),this._parents)},join:function(t,e,n){var i=this.enter(),r=this,o=this.exit();return"function"===typeof t?(i=t(i))&&(i=i.selection()):i=i.append(t+""),null!=e&&(r=e(r))&&(r=r.selection()),null==n?o.remove():n(o),i&&r?i.merge(r).order():r},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,r=n.length,o=i.length,a=Math.min(r,o),s=new Array(r),u=0;u<a;++u)for(var c,l=n[u],h=i[u],f=l.length,d=s[u]=new Array(f),p=0;p<f;++p)(c=l[p]||h[p])&&(d[p]=c);for(;u<r;++u)s[u]=n[u];return new Ln(s,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],o=r.length-1,a=r[o];--o>=0;)(i=r[o])&&(a&&4^i.compareDocumentPosition(a)&&a.parentNode.insertBefore(i,a),a=i);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Ne);for(var n=this._groups,i=n.length,r=new Array(i),o=0;o<i;++o){for(var a,s=n[o],u=s.length,c=r[o]=new Array(u),l=0;l<u;++l)(a=s[l])&&(c[l]=a);c.sort(e)}return new Ln(r,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,o=i.length;r<o;++r){var a=i[r];if(a)return a}return null},size:function(){var t,e=0,n=a(this);try{for(n.s();!(t=n.n()).done;){t.value;++e}}catch(i){n.e(i)}finally{n.f()}return e},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r,o=e[n],a=0,s=o.length;a<s;++a)(r=o[a])&&t.call(r,r.__data__,a,o);return this},attr:function(t,e){var n=De(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?We:je:"function"===typeof e?n.local?He:Ve:n.local?ze:Fe)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?Ke:"function"===typeof e?qe:Ze)(t,e,null==n?"":n)):Ge(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?Ye:"function"===typeof e?$e:Qe)(t,e)):this.node()[t]},classed:function(t,e){var n=Xe(t+"");if(arguments.length<2){for(var i=Je(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"===typeof e?an:e?rn:on)(n,e))},text:function(t){return arguments.length?this.each(null==t?sn:("function"===typeof t?cn:un)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?ln:("function"===typeof t?fn:hn)(t)):this.node().innerHTML},raise:function(){return this.each(dn)},lower:function(){return this.each(pn)},append:function(t){var e="function"===typeof t?t:mn(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"===typeof t?t:mn(t),i=null==e?yn:"function"===typeof e?e:me(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(_n)},clone:function(t){return this.select(t?wn:kn)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var i,r,o=bn(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?Tn:Sn,i=0;i<a;++i)this.each(s(o[i],e,n));return this}var s=this.node().__on;if(s)for(var u,c=0,l=s.length;c<l;++c)for(i=0,u=s[c];i<a;++i)if((r=o[i]).type===u.type&&r.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"===typeof e?En:Cn)(t,e))}},Symbol.iterator,On);var In=An,Nn={value:function(){}};function Rn(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t);i[t]=[]}return new Bn(i)}function Bn(t){this._=t}function Dn(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",i=t.indexOf(".");if(i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function jn(t,e){for(var n,i=0,r=t.length;i<r;++i)if((n=t[i]).name===e)return n.value}function Wn(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=Nn,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}Bn.prototype=Rn.prototype={constructor:Bn,on:function(t,e){var n,i=this._,r=Dn(t+"",i),o=-1,a=r.length;if(!(arguments.length<2)){if(null!=e&&"function"!==typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=r[o]).type)i[n]=Wn(i[n],t.name,e);else if(null==e)for(n in i)i[n]=Wn(i[n],t.name,null);return this}for(;++o<a;)if((n=(t=r[o]).type)&&(n=jn(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Bn(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),o=0;o<n;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(i=this._[t]).length;o<n;++o)i[o].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(e,n)}};var Fn,zn,Vn=Rn,Hn=0,Un=0,Kn=0,Zn=0,qn=0,Gn=0,Yn="object"===typeof performance&&performance.now?performance:Date,Qn="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function $n(){return qn||(Qn(Xn),qn=Yn.now()+Gn)}function Xn(){qn=0}function Jn(){this._call=this._time=this._next=null}function ti(t,e,n){var i=new Jn;return i.restart(t,e,n),i}function ei(){qn=(Zn=Yn.now())+Gn,Hn=Un=0;try{!function(){$n(),++Hn;for(var t,e=Fn;e;)(t=qn-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Hn}()}finally{Hn=0,function(){var t,e,n=Fn,i=1/0;for(;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Fn=e);zn=t,ii(i)}(),qn=0}}function ni(){var t=Yn.now(),e=t-Zn;e>1e3&&(Gn-=e,Zn=t)}function ii(t){Hn||(Un&&(Un=clearTimeout(Un)),t-qn>24?(t<1/0&&(Un=setTimeout(ei,t-Yn.now()-Gn)),Kn&&(Kn=clearInterval(Kn))):(Kn||(Zn=Yn.now(),Kn=setInterval(ni,1e3)),Hn=1,Qn(ei)))}function ri(t,e,n){var i=new Jn;return e=null==e?0:+e,i.restart((function(n){i.stop(),t(n+e)}),e,n),i}Jn.prototype=ti.prototype={constructor:Jn,restart:function(t,e,n){if("function"!==typeof t)throw new TypeError("callback is not a function");n=(null==n?$n():+n)+(null==e?0:+e),this._next||zn===this||(zn?zn._next=this:Fn=this,zn=this),this._call=t,this._time=n,ii()},stop:function(){this._call&&(this._call=null,this._time=1/0,ii())}};var oi=Vn("start","end","cancel","interrupt"),ai=[];function si(t,e,n,i,r,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var i,r=t.__transition;function o(t){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)}function a(o){var c,l,h,f;if(1!==n.state)return u();for(c in r)if((f=r[c]).name===n.name){if(3===f.state)return ri(a);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete r[c]):+c<e&&(f.state=6,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete r[c])}if(ri((function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(o))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,i=new Array(h=n.tween.length),c=0,l=-1;c<h;++c)(f=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++l]=f);i.length=l+1}}function s(e){for(var r=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(u),n.state=5,1),o=-1,a=i.length;++o<a;)i[o].call(t,r);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){for(var i in n.state=6,n.timer.stop(),delete r[e],r)return;delete t.__transition}r[e]=n,n.timer=ti(o,0,n.time)}(t,n,{name:e,index:i,group:r,on:oi,tween:ai,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function ui(t,e){var n=li(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function ci(t,e){var n=li(t,e);if(n.state>3)throw new Error("too late; already running");return n}function li(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function hi(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var fi,di=180/Math.PI,pi={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function vi(t,e,n,i,r,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*i)&&(n-=t*u,i-=e*u),(s=Math.sqrt(n*n+i*i))&&(n/=s,i/=s,u/=s),t*i<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:r,translateY:o,rotate:Math.atan2(e,t)*di,skewX:Math.atan(u)*di,scaleX:a,scaleY:s}}function gi(t,e,n,i){function r(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],u=[];return o=t(o),a=t(a),function(t,i,r,o,a,s){if(t!==r||i!==o){var u=a.push("translate(",null,e,null,n);s.push({i:u-4,x:hi(t,r)},{i:u-2,x:hi(i,o)})}else(r||o)&&a.push("translate("+r+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,u),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(r(n)+"rotate(",null,i)-2,x:hi(t,e)})):e&&n.push(r(n)+"rotate("+e+i)}(o.rotate,a.rotate,s,u),function(t,e,n,o){t!==e?o.push({i:n.push(r(n)+"skewX(",null,i)-2,x:hi(t,e)}):e&&n.push(r(n)+"skewX("+e+i)}(o.skewX,a.skewX,s,u),function(t,e,n,i,o,a){if(t!==n||e!==i){var s=o.push(r(o)+"scale(",null,",",null,")");a.push({i:s-4,x:hi(t,n)},{i:s-2,x:hi(e,i)})}else 1===n&&1===i||o.push(r(o)+"scale("+n+","+i+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,u),o=a=null,function(t){for(var e,n=-1,i=u.length;++n<i;)s[(e=u[n]).i]=e.x(t);return s.join("")}}}var mi=gi((function(t){var e=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?pi:vi(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),yi=gi((function(t){return null==t?pi:(fi||(fi=document.createElementNS("http://www.w3.org/2000/svg","g")),fi.setAttribute("transform",t),(t=fi.transform.baseVal.consolidate())?vi((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):pi)}),", ",")",")");function _i(t,e){var n,i;return function(){var r=ci(this,t),o=r.tween;if(o!==n)for(var a=0,s=(i=n=o).length;a<s;++a)if(i[a].name===e){(i=i.slice()).splice(a,1);break}r.tween=i}}function ki(t,e,n){var i,r;if("function"!==typeof n)throw new Error;return function(){var o=ci(this,t),a=o.tween;if(a!==i){r=(i=a).slice();for(var s={name:e,value:n},u=0,c=r.length;u<c;++u)if(r[u].name===e){r[u]=s;break}u===c&&r.push(s)}o.tween=r}}function wi(t,e,n){var i=t._id;return t.each((function(){var t=ci(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return li(t,i).value[e]}}function bi(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Si(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Ti(){}var xi=.7,Ci=1/xi,Ei="\\s*([+-]?\\d+)\\s*",Mi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Oi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Pi=/^#([0-9a-f]{3,8})$/,Li=new RegExp("^rgb\\(".concat(Ei,",").concat(Ei,",").concat(Ei,"\\)$")),Ai=new RegExp("^rgb\\(".concat(Oi,",").concat(Oi,",").concat(Oi,"\\)$")),Ii=new RegExp("^rgba\\(".concat(Ei,",").concat(Ei,",").concat(Ei,",").concat(Mi,"\\)$")),Ni=new RegExp("^rgba\\(".concat(Oi,",").concat(Oi,",").concat(Oi,",").concat(Mi,"\\)$")),Ri=new RegExp("^hsl\\(".concat(Mi,",").concat(Oi,",").concat(Oi,"\\)$")),Bi=new RegExp("^hsla\\(".concat(Mi,",").concat(Oi,",").concat(Oi,",").concat(Mi,"\\)$")),Di={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ji(){return this.rgb().formatHex()}function Wi(){return this.rgb().formatRgb()}function Fi(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Pi.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?zi(e):3===n?new Ki(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Vi(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Vi(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Li.exec(t))?new Ki(e[1],e[2],e[3],1):(e=Ai.exec(t))?new Ki(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Ii.exec(t))?Vi(e[1],e[2],e[3],e[4]):(e=Ni.exec(t))?Vi(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Ri.exec(t))?$i(e[1],e[2]/100,e[3]/100,1):(e=Bi.exec(t))?$i(e[1],e[2]/100,e[3]/100,e[4]):Di.hasOwnProperty(t)?zi(Di[t]):"transparent"===t?new Ki(NaN,NaN,NaN,0):null}function zi(t){return new Ki(t>>16&255,t>>8&255,255&t,1)}function Vi(t,e,n,i){return i<=0&&(t=e=n=NaN),new Ki(t,e,n,i)}function Hi(t){return t instanceof Ti||(t=Fi(t)),t?new Ki((t=t.rgb()).r,t.g,t.b,t.opacity):new Ki}function Ui(t,e,n,i){return 1===arguments.length?Hi(t):new Ki(t,e,n,null==i?1:i)}function Ki(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function Zi(){return"#".concat(Qi(this.r)).concat(Qi(this.g)).concat(Qi(this.b))}function qi(){var t=Gi(this.opacity);return"".concat(1===t?"rgb(":"rgba(").concat(Yi(this.r),", ").concat(Yi(this.g),", ").concat(Yi(this.b)).concat(1===t?")":", ".concat(t,")"))}function Gi(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Yi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Qi(t){return((t=Yi(t))<16?"0":"")+t.toString(16)}function $i(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ji(t,e,n,i)}function Xi(t){if(t instanceof Ji)return new Ji(t.h,t.s,t.l,t.opacity);if(t instanceof Ti||(t=Fi(t)),!t)return new Ji;if(t instanceof Ji)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),o=Math.max(e,n,i),a=NaN,s=o-r,u=(o+r)/2;return s?(a=e===o?(n-i)/s+6*(n<i):n===o?(i-e)/s+2:(e-n)/s+4,s/=u<.5?o+r:2-o-r,a*=60):s=u>0&&u<1?0:a,new Ji(a,s,u,t.opacity)}function Ji(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function tr(t){return(t=(t||0)%360)<0?t+360:t}function er(t){return Math.max(0,Math.min(1,t||0))}function nr(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function ir(t,e,n,i,r){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*i+a*r)/6}bi(Ti,Fi,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:ji,formatHex:ji,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Xi(this).formatHsl()},formatRgb:Wi,toString:Wi}),bi(Ki,Ui,Si(Ti,{brighter:function(t){return t=null==t?Ci:Math.pow(Ci,t),new Ki(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?xi:Math.pow(xi,t),new Ki(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},clamp:function(){return new Ki(Yi(this.r),Yi(this.g),Yi(this.b),Gi(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Zi,formatHex:Zi,formatHex8:function(){return"#".concat(Qi(this.r)).concat(Qi(this.g)).concat(Qi(this.b)).concat(Qi(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:qi,toString:qi})),bi(Ji,(function(t,e,n,i){return 1===arguments.length?Xi(t):new Ji(t,e,n,null==i?1:i)}),Si(Ti,{brighter:function(t){return t=null==t?Ci:Math.pow(Ci,t),new Ji(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?xi:Math.pow(xi,t),new Ji(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new Ki(nr(t>=240?t-240:t+120,r,i),nr(t,r,i),nr(t<120?t+240:t-120,r,i),this.opacity)},clamp:function(){return new Ji(tr(this.h),er(this.s),er(this.l),Gi(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=Gi(this.opacity);return"".concat(1===t?"hsl(":"hsla(").concat(tr(this.h),", ").concat(100*er(this.s),"%, ").concat(100*er(this.l),"%").concat(1===t?")":", ".concat(t,")"))}}));var rr=function(t){return function(){return t}};function or(t,e){return function(n){return t+n*e}}function ar(t){return 1===(t=+t)?sr:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}(e,n,t):rr(isNaN(e)?n:e)}}function sr(t,e){var n=e-t;return n?or(t,n):rr(isNaN(t)?e:t)}var ur=function t(e){var n=ar(e);function i(t,e){var i=n((t=Ui(t)).r,(e=Ui(e)).r),r=n(t.g,e.g),o=n(t.b,e.b),a=sr(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=r(e),t.b=o(e),t.opacity=a(e),t+""}}return i.gamma=t,i}(1);function cr(t){return function(e){var n,i,r=e.length,o=new Array(r),a=new Array(r),s=new Array(r);for(n=0;n<r;++n)i=Ui(e[n]),o[n]=i.r||0,a[n]=i.g||0,s[n]=i.b||0;return o=t(o),a=t(a),s=t(s),i.opacity=1,function(t){return i.r=o(t),i.g=a(t),i.b=s(t),i+""}}}cr((function(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),r=t[i],o=t[i+1],a=i>0?t[i-1]:2*r-o,s=i<e-1?t[i+2]:2*o-r;return ir((n-i/e)*e,a,r,o,s)}})),cr((function(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e),r=t[(i+e-1)%e],o=t[i%e],a=t[(i+1)%e],s=t[(i+2)%e];return ir((n-i/e)*e,r,o,a,s)}}));var lr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hr=new RegExp(lr.source,"g");function fr(t,e){var n,i,r,o=lr.lastIndex=hr.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=lr.exec(t))&&(i=hr.exec(e));)(r=i.index)>o&&(r=e.slice(o,r),s[a]?s[a]+=r:s[++a]=r),(n=n[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,u.push({i:a,x:hi(n,i)})),o=hr.lastIndex;return o<e.length&&(r=e.slice(o),s[a]?s[a]+=r:s[++a]=r),s.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,i=0;i<e;++i)s[(n=u[i]).i]=n.x(t);return s.join("")})}function dr(t,e){var n;return("number"===typeof e?hi:e instanceof Fi?ur:(n=Fi(e))?(e=n,ur):fr)(t,e)}function pr(t){return function(){this.removeAttribute(t)}}function vr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function gr(t,e,n){var i,r,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===i?r:r=e(i=a,n)}}function mr(t,e,n){var i,r,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===i?r:r=e(i=a,n)}}function yr(t,e,n){var i,r,o;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttribute(t))===(s=u+"")?null:a===i&&s===r?o:(r=s,o=e(i=a,u));this.removeAttribute(t)}}function _r(t,e,n){var i,r,o;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttributeNS(t.space,t.local))===(s=u+"")?null:a===i&&s===r?o:(r=s,o=e(i=a,u));this.removeAttributeNS(t.space,t.local)}}function kr(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function wr(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function br(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&wr(t,r)),n}return r._value=e,r}function Sr(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&kr(t,r)),n}return r._value=e,r}function Tr(t,e){return function(){ui(this,t).delay=+e.apply(this,arguments)}}function xr(t,e){return e=+e,function(){ui(this,t).delay=e}}function Cr(t,e){return function(){ci(this,t).duration=+e.apply(this,arguments)}}function Er(t,e){return e=+e,function(){ci(this,t).duration=e}}function Mr(t,e){if("function"!==typeof e)throw new Error;return function(){ci(this,t).ease=e}}function Or(t,e,n){var i,r,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?ui:ci;return function(){var a=o(this,t),s=a.on;s!==i&&(r=(i=s).copy()).on(e,n),a.on=r}}var Pr=In.prototype.constructor;function Lr(t){return function(){this.style.removeProperty(t)}}function Ar(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function Ir(t,e,n){var i,r;function o(){var o=e.apply(this,arguments);return o!==r&&(i=(r=o)&&Ar(t,o,n)),i}return o._value=e,o}function Nr(t){return function(e){this.textContent=t.call(this,e)}}function Rr(t){var e,n;function i(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Nr(i)),e}return i._value=t,i}var Br=0;function Dr(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function jr(){return++Br}var Wr=In.prototype;Dr.prototype=function(t){return In().transition(t)}.prototype=ft({constructor:Dr,select:function(t){var e=this._name,n=this._id;"function"!==typeof t&&(t=me(t));for(var i=this._groups,r=i.length,o=new Array(r),a=0;a<r;++a)for(var s,u,c=i[a],l=c.length,h=o[a]=new Array(l),f=0;f<l;++f)(s=c[f])&&(u=t.call(s,s.__data__,f,c))&&("__data__"in s&&(u.__data__=s.__data__),h[f]=u,si(h[f],e,n,f,h,li(s,n)));return new Dr(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!==typeof t&&(t=ke(t));for(var i=this._groups,r=i.length,o=[],a=[],s=0;s<r;++s)for(var u,c=i[s],l=c.length,h=0;h<l;++h)if(u=c[h]){for(var f,d=t.call(u,u.__data__,h,c),p=li(u,n),v=0,g=d.length;v<g;++v)(f=d[v])&&si(f,e,n,v,d,p);o.push(d),a.push(u)}return new Dr(o,a,e,n)},selectChild:Wr.selectChild,selectChildren:Wr.selectChildren,filter:function(t){"function"!==typeof t&&(t=we(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,a=e[r],s=a.length,u=i[r]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&u.push(o);return new Dr(i,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),a=new Array(i),s=0;s<o;++s)for(var u,c=e[s],l=n[s],h=c.length,f=a[s]=new Array(h),d=0;d<h;++d)(u=c[d]||l[d])&&(f[d]=u);for(;s<i;++s)a[s]=e[s];return new Dr(a,this._parents,this._name,this._id)},selection:function(){return new Pr(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=jr(),i=this._groups,r=i.length,o=0;o<r;++o)for(var a,s=i[o],u=s.length,c=0;c<u;++c)if(a=s[c]){var l=li(a,e);si(a,t,n,c,s,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Dr(i,this._parents,t,n)},call:Wr.call,nodes:Wr.nodes,node:Wr.node,size:Wr.size,empty:Wr.empty,each:Wr.each,on:function(t,e){var n=this._id;return arguments.length<2?li(this.node(),n).on.on(t):this.each(Or(n,t,e))},attr:function(t,e){var n=De(t),i="transform"===n?yi:dr;return this.attrTween(t,"function"===typeof e?(n.local?_r:yr)(n,i,wi(this,"attr."+t,e)):null==e?(n.local?vr:pr)(n):(n.local?mr:gr)(n,i,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!==typeof e)throw new Error;var i=De(t);return this.tween(n,(i.local?br:Sr)(i,e))},style:function(t,e,n){var i="transform"===(t+="")?mi:dr;return null==e?this.styleTween(t,function(t,e){var n,i,r;return function(){var o=Ge(this,t),a=(this.style.removeProperty(t),Ge(this,t));return o===a?null:o===n&&a===i?r:r=e(n=o,i=a)}}(t,i)).on("end.style."+t,Lr(t)):"function"===typeof e?this.styleTween(t,function(t,e,n){var i,r,o;return function(){var a=Ge(this,t),s=n(this),u=s+"";return null==s&&(this.style.removeProperty(t),u=s=Ge(this,t)),a===u?null:a===i&&u===r?o:(r=u,o=e(i=a,s))}}(t,i,wi(this,"style."+t,e))).each(function(t,e){var n,i,r,o,a="style."+e,s="end."+a;return function(){var u=ci(this,t),c=u.on,l=null==u.value[a]?o||(o=Lr(e)):void 0;c===n&&r===l||(i=(n=c).copy()).on(s,r=l),u.on=i}}(this._id,t)):this.styleTween(t,function(t,e,n){var i,r,o=n+"";return function(){var a=Ge(this,t);return a===o?null:a===i?r:r=e(i=a,n)}}(t,i,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!==typeof e)throw new Error;return this.tween(i,Ir(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"===typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(wi(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!==typeof t)throw new Error;return this.tween(e,Rr(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,r=li(this.node(),n).tween,o=0,a=r.length;o<a;++o)if((i=r[o]).name===t)return i.value;return null}return this.each((null==e?_i:ki)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"===typeof t?Tr:xr)(e,t)):li(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"===typeof t?Cr:Er)(e,t)):li(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(Mr(e,t)):li(this.node(),e).ease},easeVarying:function(t){if("function"!==typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!==typeof n)throw new Error;ci(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,i=n._id,r=n.size();return new Promise((function(o,a){var s={value:a},u={value:function(){0===--r&&o()}};n.each((function(){var n=ci(this,i),r=n.on;r!==t&&((e=(t=r).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),n.on=e})),0===r&&o()}))}},Symbol.iterator,Wr[Symbol.iterator]);var Fr={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function zr(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error("transition ".concat(e," not found"));return n}In.prototype.interrupt=function(t){return this.each((function(){!function(t,e){var n,i,r,o=t.__transition,a=!0;if(o){for(r in e=null==e?null:e+"",o)(n=o[r]).name===e?(i=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(i?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[r]):a=!1;a&&delete t.__transition}}(this,t)}))},In.prototype.transition=function(t){var e,n;t instanceof Dr?(e=t._id,t=t._name):(e=jr(),(n=Fr).time=$n(),t=null==t?null:t+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var a,s=i[o],u=s.length,c=0;c<u;++c)(a=s[c])&&si(a,t,e,c,s,n||zr(a,e));return new Dr(i,this._parents,t,e)};Math.abs,Math.max,Math.min;function Vr(t){return[+t[0],+t[1]]}function Hr(t){return[Vr(t[0]),Vr(t[1])]}["w","e"].map(Ur),["n","s"].map(Ur),["n","w","e","s","nw","ne","sw","se"].map(Ur);function Ur(t){return{type:t}}var Kr=Math.sqrt(50),Zr=Math.sqrt(10),qr=Math.sqrt(2);function Gr(t,e,n){var i=(e-t)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),o=i/Math.pow(10,r);return r>=0?(o>=Kr?10:o>=Zr?5:o>=qr?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(o>=Kr?10:o>=Zr?5:o>=qr?2:1)}function Yr(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Qr(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function $r(t){var e,n,i;function r(t,i){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length;if(r<o){if(0!==e(i,i))return o;do{var a=r+o>>>1;n(t[a],i)<0?r=a+1:o=a}while(r<o)}return r}return 2!==t.length?(e=Yr,n=function(e,n){return Yr(t(e),n)},i=function(e,n){return t(e)-n}):(e=t===Yr||t===Qr?t:Xr,n=t,i=t),{left:r,center:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length,a=r(t,e,n,o-1);return a>n&&i(t[a-1],e)>-i(t[a],e)?a-1:a},right:function(t,i){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length;if(r<o){if(0!==e(i,i))return o;do{var a=r+o>>>1;n(t[a],i)<=0?r=a+1:o=a}while(r<o)}return r}}}function Xr(){return 0}var Jr=$r(Yr),to=Jr.right,eo=(Jr.left,$r((function(t){return null===t?NaN:+t})).center,to);function no(t,e){var n,i=e?e.length:0,r=t?Math.min(i,t.length):0,o=new Array(r),a=new Array(i);for(n=0;n<r;++n)o[n]=ao(t[n],e[n]);for(;n<i;++n)a[n]=e[n];return function(t){for(n=0;n<r;++n)a[n]=o[n](t);return a}}function io(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}}function ro(t,e){var n,i={},r={};for(n in null!==t&&"object"===typeof t||(t={}),null!==e&&"object"===typeof e||(e={}),e)n in t?i[n]=ao(t[n],e[n]):r[n]=e[n];return function(t){for(n in i)r[n]=i[n](t);return r}}function oo(t,e){e||(e=[]);var n,i=t?Math.min(e.length,t.length):0,r=e.slice();return function(o){for(n=0;n<i;++n)r[n]=t[n]*(1-o)+e[n]*o;return r}}function ao(t,e){var n,i=typeof e;return null==e||"boolean"===i?rr(e):("number"===i?hi:"string"===i?(n=Fi(e))?(e=n,ur):fr:e instanceof Fi?ur:e instanceof Date?io:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?oo:Array.isArray(e)?no:"function"!==typeof e.valueOf&&"function"!==typeof e.toString||isNaN(e)?ro:hi)(t,e)}function so(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function uo(t){return+t}var co=[0,1];function lo(t){return t}function ho(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function fo(t,e,n){var i=t[0],r=t[1],o=e[0],a=e[1];return r<i?(i=ho(r,i),o=n(a,o)):(i=ho(i,r),o=n(o,a)),function(t){return o(i(t))}}function po(t,e,n){var i=Math.min(t.length,e.length)-1,r=new Array(i),o=new Array(i),a=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<i;)r[a]=ho(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=eo(t,e,1,i)-1;return o[n](r[n](e))}}function vo(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function go(){var t,e,n,i,r,o,a=co,s=co,u=ao,c=lo;function l(){var t=Math.min(a.length,s.length);return c!==lo&&(c=function(t,e){var n;return t>e&&(n=t,t=e,e=n),function(n){return Math.max(t,Math.min(e,n))}}(a[0],a[t-1])),i=t>2?po:fo,r=o=null,h}function h(e){return null==e||isNaN(e=+e)?n:(r||(r=i(a.map(t),s,u)))(t(c(e)))}return h.invert=function(n){return c(e((o||(o=i(s,a.map(t),hi)))(n)))},h.domain=function(t){return arguments.length?(a=Array.from(t,uo),l()):a.slice()},h.range=function(t){return arguments.length?(s=Array.from(t),l()):s.slice()},h.rangeRound=function(t){return s=Array.from(t),u=so,l()},h.clamp=function(t){return arguments.length?(c=!!t||lo,l()):c!==lo},h.interpolate=function(t){return arguments.length?(u=t,l()):u},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,i){return t=n,e=i,l()}}function mo(){return go()(lo,lo)}function yo(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}var _o,ko=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function wo(t){if(!(e=ko.exec(t)))throw new Error("invalid format: "+t);var e;return new bo({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function bo(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function So(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function To(t){return(t=So(Math.abs(t)))?t[1]:NaN}function xo(t,e){var n=So(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}wo.prototype=bo.prototype,bo.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Co={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return xo(100*t,e)},r:xo,s:function(t,e){var n=So(t,e);if(!n)return t+"";var i=n[0],r=n[1],o=r-(_o=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,a=i.length;return o===a?i:o>a?i+new Array(o-a+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+So(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function Eo(t){return t}var Mo,Oo,Po,Lo=Array.prototype.map,Ao=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Io(t){var e,n,i=void 0===t.grouping||void 0===t.thousands?Eo:(e=Lo.call(t.grouping,Number),n=t.thousands+"",function(t,i){for(var r=t.length,o=[],a=0,s=e[0],u=0;r>0&&s>0&&(u+s+1>i&&(s=Math.max(1,i-u)),o.push(t.substring(r-=s,r+s)),!((u+=s+1)>i));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}),r=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?Eo:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Lo.call(t.numerals,String)),u=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"\u2212":t.minus+"",l=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=wo(t)).fill,n=t.align,h=t.sign,f=t.symbol,d=t.zero,p=t.width,v=t.comma,g=t.precision,m=t.trim,y=t.type;"n"===y?(v=!0,y="g"):Co[y]||(void 0===g&&(g=12),m=!0,y="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var _="$"===f?r:"#"===f&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",k="$"===f?o:/[%p]/.test(y)?u:"",w=Co[y],b=/[defgprs%]/.test(y);function S(t){var r,o,u,f=_,S=k;if("c"===y)S=w(t)+S,t="";else{var T=(t=+t)<0||1/t<0;if(t=isNaN(t)?l:w(Math.abs(t),g),m&&(t=function(t){t:for(var e,n=t.length,i=1,r=-1;i<n;++i)switch(t[i]){case".":r=e=i;break;case"0":0===r&&(r=i),e=i;break;default:if(!+t[i])break t;r>0&&(r=0)}return r>0?t.slice(0,r)+t.slice(e+1):t}(t)),T&&0===+t&&"+"!==h&&(T=!1),f=(T?"("===h?h:c:"-"===h||"("===h?"":h)+f,S=("s"===y?Ao[8+_o/3]:"")+S+(T&&"("===h?")":""),b)for(r=-1,o=t.length;++r<o;)if(48>(u=t.charCodeAt(r))||u>57){S=(46===u?a+t.slice(r+1):t.slice(r))+S,t=t.slice(0,r);break}}v&&!d&&(t=i(t,1/0));var x=f.length+t.length+S.length,C=x<p?new Array(p-x+1).join(e):"";switch(v&&d&&(t=i(C+t,C.length?p-S.length:1/0),C=""),n){case"<":t=f+t+S+C;break;case"=":t=f+C+t+S;break;case"^":t=C.slice(0,x=C.length>>1)+f+t+S+C.slice(x);break;default:t=C+f+t+S}return s(t)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),S.toString=function(){return t+""},S}return{format:h,formatPrefix:function(t,e){var n=h(((t=wo(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(To(e)/3))),r=Math.pow(10,-i),o=Ao[8+i/3];return function(t){return n(r*t)+o}}}}function No(t,e,n,i){var r,o=function(t,e,n){var i=Math.abs(e-t)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),o=i/r;return o>=Kr?r*=10:o>=Zr?r*=5:o>=qr&&(r*=2),e<t?-r:r}(t,e,n);switch((i=wo(null==i?",f":i)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=i.precision||isNaN(r=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(To(e)/3)))-To(Math.abs(t)))}(o,a))||(i.precision=r),Po(i,a);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(r=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,To(e)-To(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(i.precision=r-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(r=function(t){return Math.max(0,-To(Math.abs(t)))}(o))||(i.precision=r-2*("%"===i.type))}return Oo(i)}function Ro(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var i,r,o,a,s=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((i=e<t)&&(r=t,t=e,e=r),0===(a=Gr(t,e,n))||!isFinite(a))return[];if(a>0){var u=Math.round(t/a),c=Math.round(e/a);for(u*a<t&&++u,c*a>e&&--c,o=new Array(r=c-u+1);++s<r;)o[s]=(u+s)*a}else{a=-a;var l=Math.round(t*a),h=Math.round(e*a);for(l/a<t&&++l,h/a>e&&--h,o=new Array(r=h-l+1);++s<r;)o[s]=(l+s)/a}return i&&o.reverse(),o}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var i=e();return No(i[0],i[i.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var i,r,o=e(),a=0,s=o.length-1,u=o[a],c=o[s],l=10;for(c<u&&(r=u,u=c,c=r,r=a,a=s,s=r);l-- >0;){if((r=Gr(u,c,n))===i)return o[a]=u,o[s]=c,e(o);if(r>0)u=Math.floor(u/r)*r,c=Math.ceil(c/r)*r;else{if(!(r<0))break;u=Math.ceil(u*r)/r,c=Math.floor(c*r)/r}i=r}return t},t}function Bo(){var t=mo();return t.copy=function(){return vo(t,Bo())},yo.apply(t,arguments),Ro(t)}function Do(t){return"string"===typeof t?new Ln([[document.querySelector(t)]],[document.documentElement]):new Ln([[t]],Pn)}function jo(t){return"string"===typeof t?new Ln([document.querySelectorAll(t)],[document.documentElement]):new Ln([ye(t)],Pn)}Mo=Io({thousands:",",grouping:[3],currency:["$",""]}),Oo=Mo.format,Po=Mo.formatPrefix;var Wo=Math.PI,Fo=2*Wo,zo=1e-6,Vo=Fo-zo;function Ho(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Uo(){return new Ho}Ho.prototype=Uo.prototype={constructor:Ho,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,i){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(t,e,n,i,r,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +i+","+(this._x1=+r)+","+(this._y1=+o)},arcTo:function(t,e,n,i,r){t=+t,e=+e,n=+n,i=+i,r=+r;var o=this._x1,a=this._y1,s=n-t,u=i-e,c=o-t,l=a-e,h=c*c+l*l;if(r<0)throw new Error("negative radius: "+r);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>zo)if(Math.abs(l*s-u*c)>zo&&r){var f=n-o,d=i-a,p=s*s+u*u,v=f*f+d*d,g=Math.sqrt(p),m=Math.sqrt(h),y=r*Math.tan((Wo-Math.acos((p+h-v)/(2*g*m)))/2),_=y/m,k=y/g;Math.abs(_-1)>zo&&(this._+="L"+(t+_*c)+","+(e+_*l)),this._+="A"+r+","+r+",0,0,"+ +(l*f>c*d)+","+(this._x1=t+k*s)+","+(this._y1=e+k*u)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,i,r,o){t=+t,e=+e,o=!!o;var a=(n=+n)*Math.cos(i),s=n*Math.sin(i),u=t+a,c=e+s,l=1^o,h=o?i-r:r-i;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+c:(Math.abs(this._x1-u)>zo||Math.abs(this._y1-c)>zo)&&(this._+="L"+u+","+c),n&&(h<0&&(h=h%Fo+Fo),h>Vo?this._+="A"+n+","+n+",0,1,"+l+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+l+","+(this._x1=u)+","+(this._y1=c):h>zo&&(this._+="A"+n+","+n+",0,"+ +(h>=Wo)+","+l+","+(this._x1=t+n*Math.cos(r))+","+(this._y1=e+n*Math.sin(r))))},rect:function(t,e,n,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}};var Ko=Uo;Array.prototype.slice;function Zo(t){return"object"===typeof t&&"length"in t?t:Array.from(t)}function qo(t){return function(){return t}}function Go(t){this._context=t}function Yo(t){return new Go(t)}function Qo(t){return t[0]}function $o(t){return t[1]}function Xo(t,e){var n=qo(!0),i=null,r=Yo,o=null;function a(a){var s,u,c,l=(a=Zo(a)).length,h=!1;for(null==i&&(o=r(c=Ko())),s=0;s<=l;++s)!(s<l&&n(u=a[s],s,a))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(u,s,a),+e(u,s,a));if(c)return o=null,c+""||null}return t="function"===typeof t?t:void 0===t?Qo:qo(t),e="function"===typeof e?e:void 0===e?$o:qo(e),a.x=function(e){return arguments.length?(t="function"===typeof e?e:qo(+e),a):t},a.y=function(t){return arguments.length?(e="function"===typeof t?t:qo(+t),a):e},a.defined=function(t){return arguments.length?(n="function"===typeof t?t:qo(!!t),a):n},a.curve=function(t){return arguments.length?(r=t,null!=i&&(o=r(i)),a):r},a.context=function(t){return arguments.length?(null==t?i=o=null:o=r(i=t),a):i},a}function Jo(t){return t<0?-1:1}function ta(t,e,n){var i=t._x1-t._x0,r=e-t._x1,o=(t._y1-t._y0)/(i||r<0&&-0),a=(n-t._y1)/(r||i<0&&-0),s=(o*r+a*i)/(i+r);return(Jo(o)+Jo(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function ea(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function na(t,e,n){var i=t._x0,r=t._y0,o=t._x1,a=t._y1,s=(o-i)/3;t._context.bezierCurveTo(i+s,r+s*e,o-s,a-s*n,o,a)}function ia(t){this._context=t}function ra(t){this._context=new oa(t)}function oa(t){this._context=t}function aa(t){return new ia(t)}Go.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}},ia.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:na(this,this._t0,ea(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,na(this,ea(this,n=ta(this,t,e)),n);break;default:na(this,this._t0,n=ta(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(ra.prototype=Object.create(ia.prototype)).point=function(t,e){ia.prototype.point.call(this,e,t)},oa.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,r,o){this._context.bezierCurveTo(e,t,i,n,o,r)}};var sa=new Date,ua=new Date;function ca(t,e,n,i){function r(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return r.floor=function(e){return t(e=new Date(+e)),e},r.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},r.round=function(t){var e=r(t),n=r.ceil(t);return t-e<n-t?e:n},r.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},r.range=function(n,i,o){var a,s=[];if(n=r.ceil(n),o=null==o?1:Math.floor(o),!(n<i)||!(o>0))return s;do{s.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<i);return s},r.filter=function(n){return ca((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,i){if(t>=t)if(i<0)for(;++i<=0;)for(;e(t,-1),!n(t););else for(;--i>=0;)for(;e(t,1),!n(t););}))},n&&(r.count=function(e,i){return sa.setTime(+e),ua.setTime(+i),t(sa),t(ua),Math.floor(n(sa,ua))},r.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?r.filter(i?function(e){return i(e)%t===0}:function(e){return r.count(0,e)%t===0}):r:null}),r}var la=6e4,ha=864e5,fa=6048e5;function da(t){return ca((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/fa}))}var pa=da(0),va=da(1),ga=da(2),ma=da(3),ya=da(4),_a=da(5),ka=da(6),wa=(pa.range,va.range,ga.range,ma.range,ya.range,_a.range,ka.range,ca((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/ha}),(function(t){return t.getUTCDate()-1}))),ba=wa;wa.range;function Sa(t){return ca((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*la)/fa}))}var Ta=Sa(0),xa=Sa(1),Ca=Sa(2),Ea=Sa(3),Ma=Sa(4),Oa=Sa(5),Pa=Sa(6),La=(Ta.range,xa.range,Ca.range,Ea.range,Ma.range,Oa.range,Pa.range,ca((function(t){return t.setHours(0,0,0,0)}),(function(t,e){return t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*la)/ha}),(function(t){return t.getDate()-1}))),Aa=La,Ia=(La.range,ca((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()})));Ia.every=function(t){return isFinite(t=Math.floor(t))&&t>0?ca((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var Na=Ia,Ra=(Ia.range,ca((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()})));Ra.every=function(t){return isFinite(t=Math.floor(t))&&t>0?ca((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var Ba=Ra;Ra.range;function Da(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ja(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Wa(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}var Fa,za,Va={"-":"",_:" ",0:"0"},Ha=/^\s*\d+/,Ua=/^%/,Ka=/[\\^$*+?|[\]().{}]/g;function Za(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",o=r.length;return i+(o<n?new Array(n-o+1).join(e)+r:r)}function qa(t){return t.replace(Ka,"\\$&")}function Ga(t){return new RegExp("^(?:"+t.map(qa).join("|")+")","i")}function Ya(t){return new Map(t.map((function(t,e){return[t.toLowerCase(),e]})))}function Qa(t,e,n){var i=Ha.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function $a(t,e,n){var i=Ha.exec(e.slice(n,n+1));return i?(t.u=+i[0],n+i[0].length):-1}function Xa(t,e,n){var i=Ha.exec(e.slice(n,n+2));return i?(t.U=+i[0],n+i[0].length):-1}function Ja(t,e,n){var i=Ha.exec(e.slice(n,n+2));return i?(t.V=+i[0],n+i[0].length):-1}function ts(t,e,n){var i=Ha.exec(e.slice(n,n+2));return i?(t.W=+i[0],n+i[0].length):-1}function es(t,e,n){var i=Ha.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function ns(t,e,n){var i=Ha.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function is(t,e,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function rs(t,e,n){var i=Ha.exec(e.slice(n,n+1));return i?(t.q=3*i[0]-3,n+i[0].length):-1}function os(t,e,n){var i=Ha.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function as(t,e,n){var i=Ha.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function ss(t,e,n){var i=Ha.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function us(t,e,n){var i=Ha.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function cs(t,e,n){var i=Ha.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function ls(t,e,n){var i=Ha.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function hs(t,e,n){var i=Ha.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function fs(t,e,n){var i=Ha.exec(e.slice(n,n+6));return i?(t.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function ds(t,e,n){var i=Ua.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function ps(t,e,n){var i=Ha.exec(e.slice(n));return i?(t.Q=+i[0],n+i[0].length):-1}function vs(t,e,n){var i=Ha.exec(e.slice(n));return i?(t.s=+i[0],n+i[0].length):-1}function gs(t,e){return Za(t.getDate(),e,2)}function ms(t,e){return Za(t.getHours(),e,2)}function ys(t,e){return Za(t.getHours()%12||12,e,2)}function _s(t,e){return Za(1+Aa.count(Na(t),t),e,3)}function ks(t,e){return Za(t.getMilliseconds(),e,3)}function ws(t,e){return ks(t,e)+"000"}function bs(t,e){return Za(t.getMonth()+1,e,2)}function Ss(t,e){return Za(t.getMinutes(),e,2)}function Ts(t,e){return Za(t.getSeconds(),e,2)}function xs(t){var e=t.getDay();return 0===e?7:e}function Cs(t,e){return Za(Ta.count(Na(t)-1,t),e,2)}function Es(t){var e=t.getDay();return e>=4||0===e?Ma(t):Ma.ceil(t)}function Ms(t,e){return t=Es(t),Za(Ma.count(Na(t),t)+(4===Na(t).getDay()),e,2)}function Os(t){return t.getDay()}function Ps(t,e){return Za(xa.count(Na(t)-1,t),e,2)}function Ls(t,e){return Za(t.getFullYear()%100,e,2)}function As(t,e){return Za((t=Es(t)).getFullYear()%100,e,2)}function Is(t,e){return Za(t.getFullYear()%1e4,e,4)}function Ns(t,e){var n=t.getDay();return Za((t=n>=4||0===n?Ma(t):Ma.ceil(t)).getFullYear()%1e4,e,4)}function Rs(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Za(e/60|0,"0",2)+Za(e%60,"0",2)}function Bs(t,e){return Za(t.getUTCDate(),e,2)}function Ds(t,e){return Za(t.getUTCHours(),e,2)}function js(t,e){return Za(t.getUTCHours()%12||12,e,2)}function Ws(t,e){return Za(1+ba.count(Ba(t),t),e,3)}function Fs(t,e){return Za(t.getUTCMilliseconds(),e,3)}function zs(t,e){return Fs(t,e)+"000"}function Vs(t,e){return Za(t.getUTCMonth()+1,e,2)}function Hs(t,e){return Za(t.getUTCMinutes(),e,2)}function Us(t,e){return Za(t.getUTCSeconds(),e,2)}function Ks(t){var e=t.getUTCDay();return 0===e?7:e}function Zs(t,e){return Za(pa.count(Ba(t)-1,t),e,2)}function qs(t){var e=t.getUTCDay();return e>=4||0===e?ya(t):ya.ceil(t)}function Gs(t,e){return t=qs(t),Za(ya.count(Ba(t),t)+(4===Ba(t).getUTCDay()),e,2)}function Ys(t){return t.getUTCDay()}function Qs(t,e){return Za(va.count(Ba(t)-1,t),e,2)}function $s(t,e){return Za(t.getUTCFullYear()%100,e,2)}function Xs(t,e){return Za((t=qs(t)).getUTCFullYear()%100,e,2)}function Js(t,e){return Za(t.getUTCFullYear()%1e4,e,4)}function tu(t,e){var n=t.getUTCDay();return Za((t=n>=4||0===n?ya(t):ya.ceil(t)).getUTCFullYear()%1e4,e,4)}function eu(){return"+0000"}function nu(){return"%"}function iu(t){return+t}function ru(t){return Math.floor(+t/1e3)}function ou(t,e,n){this.k=t,this.x=e,this.y=n}!function(t){Fa=function(t){var e=t.dateTime,n=t.date,i=t.time,r=t.periods,o=t.days,a=t.shortDays,s=t.months,u=t.shortMonths,c=Ga(r),l=Ya(r),h=Ga(o),f=Ya(o),d=Ga(a),p=Ya(a),v=Ga(s),g=Ya(s),m=Ga(u),y=Ya(u),_={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:gs,e:gs,f:ws,g:As,G:Ns,H:ms,I:ys,j:_s,L:ks,m:bs,M:Ss,p:function(t){return r[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:iu,s:ru,S:Ts,u:xs,U:Cs,V:Ms,w:Os,W:Ps,x:null,X:null,y:Ls,Y:Is,Z:Rs,"%":nu},k={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return u[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:Bs,e:Bs,f:zs,g:Xs,G:tu,H:Ds,I:js,j:Ws,L:Fs,m:Vs,M:Hs,p:function(t){return r[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:iu,s:ru,S:Us,u:Ks,U:Zs,V:Gs,w:Ys,W:Qs,x:null,X:null,y:$s,Y:Js,Z:eu,"%":nu},w={a:function(t,e,n){var i=d.exec(e.slice(n));return i?(t.w=p.get(i[0].toLowerCase()),n+i[0].length):-1},A:function(t,e,n){var i=h.exec(e.slice(n));return i?(t.w=f.get(i[0].toLowerCase()),n+i[0].length):-1},b:function(t,e,n){var i=m.exec(e.slice(n));return i?(t.m=y.get(i[0].toLowerCase()),n+i[0].length):-1},B:function(t,e,n){var i=v.exec(e.slice(n));return i?(t.m=g.get(i[0].toLowerCase()),n+i[0].length):-1},c:function(t,n,i){return T(t,e,n,i)},d:as,e:as,f:fs,g:ns,G:es,H:us,I:us,j:ss,L:hs,m:os,M:cs,p:function(t,e,n){var i=c.exec(e.slice(n));return i?(t.p=l.get(i[0].toLowerCase()),n+i[0].length):-1},q:rs,Q:ps,s:vs,S:ls,u:$a,U:Xa,V:Ja,w:Qa,W:ts,x:function(t,e,i){return T(t,n,e,i)},X:function(t,e,n){return T(t,i,e,n)},y:ns,Y:es,Z:is,"%":ds};function b(t,e){return function(n){var i,r,o,a=[],s=-1,u=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(r=Va[i=t.charAt(++s)])?i=t.charAt(++s):r="e"===i?" ":"0",(o=e[i])&&(i=o(n,r)),a.push(i),u=s+1);return a.push(t.slice(u,s)),a.join("")}}function S(t,e){return function(n){var i,r,o=Wa(1900,void 0,1);if(T(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(r=(i=ja(Wa(o.y,0,1))).getUTCDay(),i=r>4||0===r?va.ceil(i):va(i),i=ba.offset(i,7*(o.V-1)),o.y=i.getUTCFullYear(),o.m=i.getUTCMonth(),o.d=i.getUTCDate()+(o.w+6)%7):(r=(i=Da(Wa(o.y,0,1))).getDay(),i=r>4||0===r?xa.ceil(i):xa(i),i=Aa.offset(i,7*(o.V-1)),o.y=i.getFullYear(),o.m=i.getMonth(),o.d=i.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),r="Z"in o?ja(Wa(o.y,0,1)).getUTCDay():Da(Wa(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(r+5)%7:o.w+7*o.U-(r+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,ja(o)):Da(o)}}function T(t,e,n,i){for(var r,o,a=0,s=e.length,u=n.length;a<s;){if(i>=u)return-1;if(37===(r=e.charCodeAt(a++))){if(r=e.charAt(a++),!(o=w[r in Va?e.charAt(a++):r])||(i=o(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}return _.x=b(n,_),_.X=b(i,_),_.c=b(e,_),k.x=b(n,k),k.X=b(i,k),k.c=b(e,k),{format:function(t){var e=b(t+="",_);return e.toString=function(){return t},e},parse:function(t){var e=S(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=b(t+="",k);return e.toString=function(){return t},e},utcParse:function(t){var e=S(t+="",!0);return e.toString=function(){return t},e}}}(t),za=Fa.format,Fa.parse,Fa.utcFormat,Fa.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),ou.prototype={constructor:ou,scale:function(t){return 1===t?this:new ou(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new ou(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new ou(1,0,0);ou.prototype;var au=function(t){var n=(0,e.useRef)();return(0,e.useEffect)((function(){var t=Do(n.current),e=t.select(".acknowledgements-popup"),i=t.select(".acknowledgements-title"),r=t.select(".acknowledgements-title > div"),o=t.select(".acknowledgements-close");r.on("click",(function(){i.style("display","none"),e.style("display","block")})),o.on("click",(function(){i.style("display","block"),e.style("display","none")}))}),[]),(0,rt.jsxs)("div",{ref:n,className:"acknowledgements",children:[(0,rt.jsxs)("div",{className:"acknowledgements-title",children:[(0,rt.jsx)("img",{height:"40",src:"/laketahoeindepth/static/img/terc-logo.png",alt:"TERC logo"}),(0,rt.jsx)("div",{children:" Acknowledgements "})]}),(0,rt.jsxs)("div",{className:"acknowledgements-popup",children:[(0,rt.jsx)("div",{className:"acknowledgements-header",children:" Acknowledgements "}),"Real-time, historic and forecast data for this exhibit comes from UC Davis Tahoe Environmental Research Center, U.S. Geological Survey, National Weather Service, NASA, NRCS Snotel, and others.",(0,rt.jsx)("br",{})," ",(0,rt.jsx)("br",{}),"Exhibit by Stamen Design LLC.",(0,rt.jsx)("br",{})," ",(0,rt.jsx)("br",{}),"This project was made possible in part by the Institute of Museum and Library Services (Grant # MA-10-14-0533), Nevada Division of Environmental Protection (Grant # DEPS 16-019), and North Lake Tahoe Resort Association.",(0,rt.jsx)("br",{})," ",(0,rt.jsx)("br",{}),'"CC-BY-4.0" images are licensed per Creative Commons CC-BY-4.0.',(0,rt.jsx)("img",{height:"40",src:"/laketahoeindepth/static/img/terc-logo-inverse.png",alt:"TERC logo"}),(0,rt.jsx)("div",{className:"acknowledgements-close",children:"[ \xd7 ] CLOSE"})]})]})},su=ce.map((function(t){return(0,rt.jsx)(de,{text:t.name,position:Ht.apply(void 0,lt(t.loc))},"map-marker-".concat(t.name))}));var uu=function(t){return(0,rt.jsxs)("div",{className:"tahoe-map",children:[(0,rt.jsxs)(bt,{style:{height:"100%",width:"100%"},center:le.rl,zoom:11,dragging:!1,zoomControl:!1,scrollWheelZoom:!1,touchZoom:!1,doubleClickZoom:!1,children:[(0,rt.jsx)(Lt,{url:"http://sm.mapstack.stamen.com/($809380[@p],(terrain-background,$a79880[hsl-color])[overlay@80],toner-lines[multiply@40],(mapbox-water,$000[@20],$04344d[hsl-color]))/{z}/{x}/{y}.png"}),su,t.children]}),(0,rt.jsx)(au,{})]})},cu=JSON.parse('{"IMAGES":{"name":"Images","image":"/laketahoeindepth/static/img/module-images.png","href":"images","description":"From professional photographers to selfie enthusiasts, everyone loves to photograph Lake Tahoe. Explore these images, and check out the live streaming videos from the mountaintops!","TABS":{"PHOTOS":{"name":"Photos","href":"photos"},"LIVE":{"name":"Live","href":"live"}}},"ACTIVITIES":{"name":"Activities","image":"/laketahoeindepth/static/img/module-activities.png","href":"activities","description":"Tahoe is one of America\'s primary destinations for fun! Explore some of the fun activities you can enjoy here, while protecting this pristine environment.","TABS":{"WATER":{"name":"On the Water","href":"water","times":{"spring":["boating","fishing","kayaking","kitesurfing","paddleboarding","rafting","sailing","surfing","swimming"],"summer":["boating","fishing","kayaking","kitesurfing","paddleboarding","rafting","sailing","surfing","swimming"],"fall":["boating","fishing","kayaking","kitesurfing","paddleboarding","rafting","sailing","surfing","swimming"],"winter":["fishing","surfing"]}},"MOUNTAIN":{"name":"On the Mountain","href":"mountain","times":{"spring":["biking","camping","crossCountrySkiing","golfing","hiking","museums","playgrounds","skiing","snowshoeing"],"summer":["biking","camping","golfing","hiking","museums","playgrounds","rockclimbing"],"fall":["biking","camping","golfing","hiking","playgrounds","rockclimbing","sledding","skiing","snowshoeing"],"winter":["crossCountrySkiing","museums","playgrounds","rockclimbing","sledding","skiing","snowshoeing"]}}}},"WEATHER":{"name":"Weather","image":"/laketahoeindepth/static/img/module-weather.png","href":"weather","description":"Tahoe enjoys sunshine about 300 days of the year, but rain, hail, or even snow can happen in any season. Check the forecast and be prepared!","TABS":{"TEMPERATURE":{"name":"Temperature","href":"temperature","image":"/laketahoeindepth/static/img/weather/background/weather_airtemp.png","desc":"Air temperature is recorded at weather stations around Lake Tahoe. Daily fluctuations depend on the time of year, cloud cover, wind speed and humidity.","BOTTOM_TABS":[{"name":"Today"},{"name":"Historical","time_range":["1910-01-01","2020-01-01"],"desc":"Lake Tahoe weather is comfortable most of the time. Air temperatures range from the mid-20s to the mid-40s \xb0F in the winter months and between the low-50s to over 80 \xb0F during the summer months."}]},"PRECIPITATION":{"name":"Precipitation","href":"precipitation","image":"/laketahoeindepth/static/img/weather/background/weather_precip.png","desc":"Precipitation can occur in any month at Lake Tahoe but predominantly occurs during the winter months. It can fall as rain or snow.","BOTTOM_TABS":[{"name":"Today"},{"name":"Historical","time_range":["1910-01-01","2020-01-01"],"desc":"Precipitation varies by season and location. Over 75 percent of the precipitation occurs between November and March. Summers are dry with less than a 10 percent chance of significant precipitation."}]},"WIND":{"name":"Wind","href":"wind","image":"/laketahoeindepth/static/img/weather/background/weather_wind.png","desc":"Wind speed is recorded at weather stations around Lake Tahoe. Daily fluctuations depend on time of day and seasonal weather fronts."}}},"CITIZEN_SCIENCE":{"name":"Citizen Science","image":"/laketahoeindepth/static/img/module-citizen-science.png","href":"citizen-science","description":"Non-scientists contribute to our understanding of the Lake by recording water, land, and air conditions. Join the fun! Download the \\"Citizen Science Tahoe\\" app.","MAX_OBSERVATIONS":100,"TABS":{"ALGAE":{"name":"Algae Watch","href":"algae","image":"/laketahoeindepth/static/img/citizen/algae.png","desc":"Algae follows a natural cycle encircling the lake\'s rim, but human-related inputs such as lawn fertilizer, dog poop, and detergents can make algae grow, harming the Lake\'s clarity. What can you see here about current and recent algae conditions observed by visitors to Lake Tahoe?","survey_name":"Algae Watch"},"WATER_QUALITY":{"name":"Water Quality","href":"water-quality","image":"/laketahoeindepth/static/img/citizen/water.png","desc":"Lake Tahoe\'s water is known for its clarity, appearing blue as it deepens. Sometimes, though, the water can appear brown, green, or even yellow. What causes these color changes? Check out our citizen scientists\u2019 observation to discover correlations between human activities and water clarity.","survey_name":"Water Quality"},"LITTER":{"name":"Litter Reporting","href":"litter","image":"/laketahoeindepth/static/img/citizen/litter.png","desc":"Tahoe has the best freshwater beaches in the world! But some people seem to think that the beach is their ashtray or wastebasket. Do you notice any patterns in citizen scientist observations about beach trash over the course of the past year?","survey_name":"That\'s Not Natural"}}},"RIVER_CONDITIONS":{"name":"River Conditions","image":"/laketahoeindepth/static/img/module-river-conditions.png","href":"river-conditions","description":"There are 63 streams that feed into Lake Tahoe. The Truckee River, the only outflow from the lake, allows rafting if the lake level is high enough to flow out at the Tahoe City dam.","TABS":{"RIVERS_CREEKS":{"name":"Rivers & Creeks","href":"rivers-creeks","desc":"The U. S. Geological Survey measures the amount of water flowing in the rivers and streams, measured as cubic feet per second (cfs). Constant flow rates are typical in summer and fall. In winter and spring, streamflow can fluctuate daily due to storms and snowmelt. The Truckee River, which is controlled by a dam, shows little day-to-day fluctuation.","image":"/laketahoeindepth/static/img/river_conditions/river_flow.png","BOTTOM_TABS":[{"name":"Historical","time_range":["1980-01-01",0],"desc":"No two years are ever the same. Wet years correspond to the higher peaks. Drought years can result in little to no streamflow. Peaks in the streamflow usually coincide with the snowmelt in late spring."},{"name":"Past 5 Years","time_range":[-1825,0],"desc":"Rainstorms can be seen as sharp \u201cspikes\u201d or high, short-duration flows when they occur. Most of the streamflow occurs during the spring and early summer, coinciding with snowmelt."},{"name":"Current Year","time_range":[-365,0]}]}}},"LAKE_CONDITIONS":{"name":"Lake Conditions","image":"/laketahoeindepth/static/img/module-lake-conditions.png","href":"lake-conditions","description":"Varying wave height, water temperature, algae concentrations, clarity, and lake levels all combine to create a complex and ever-changing freshwater environment.","TABS":{"WAVE_HEIGHT":{"name":"Wave Height","href":"wave-height","desc":"Lake Tahoe can be perfectly flat and serene, or blustery winds can churn up six-foot high waves. Waves are produced by wind blowing across the lake. The highest waves occur on the downwind side of the lake, which is typically the north and east shores at Lake Tahoe. Wind and waves are usually higher in the afternoon, so be sure to plan ahead and stay safe.","image":"/laketahoeindepth/static/img/lake_conditions/waveheight.png","BOTTOM_TABS":[{"name":"Historical","time_range":["2021-07-01","2022-01-01"]},{"name":"Previous Week","time_range":[-14,-7]},{"name":"Current Week","time_range":[-7,0]}]},"WATER_TEMPERATURE":{"name":"Water Temperature","href":"water-temperature","desc":"Lake Tahoe water is cold for most swimmers, with surface temperatures ranging from 42 degrees in the winter to over 70 degrees in July and August. Though refreshing on a hot day, a plunge into Lake Tahoe can literally take your breath away. Swimmers should be prepared for dangerously cold conditions.","image":"/laketahoeindepth/static/img/lake_conditions/watertemp.png","BOTTOM_TABS":[{"name":"Historical","time_range":["2021-07-01","2022-01-01"]},{"name":"Previous Week","time_range":[-14,-7]},{"name":"Current Week","time_range":[-7,0]}]},"ALGAE":{"name":"Algae","href":"algae","desc":"Underwater instruments measure the interaction of light with chlorophyll from free-floating algae (phytoplankton) in the water. The apparent daily declines in algae concentrations are due to the interference from bright sunlight.","image":"/laketahoeindepth/static/img/lake_conditions/algae.png","BOTTOM_TABS":[{"name":"Historical","time_range":["2021-07-01","2022-01-01"]},{"name":"Previous Week","time_range":[-14,-7]},{"name":"Current Week","time_range":[-7,0]}]},"CLARITY":{"name":"Clarity","href":"clarity","desc":"Turbidity is a measure of how cloudy the water is. Sediment from erosion makes the water less transparent. In most areas of Lake Tahoe, the water is generally very clear (turbidity values near zero), but afternoon waves can stir up sediment and increase turbidity in the nearshore.","image":"/laketahoeindepth/static/img/lake_conditions/turbidity.png","BOTTOM_TABS":[{"name":"Historical","time_range":["1968-01-01","2020-01-01"],"desc":"Annual Average Secchi Depth - Water clarity measurements have been taken every 10 \u2013 15 days by UC Davis TERC since 1968, when a white disk, called the Secchi disk, could be seen at a depth of 102.4 feet. Secchi depth is the most widely used method of clarity measurement."},{"name":"Previous Week","time_range":[-14,-7]},{"name":"Current Week","time_range":[-7,0]}]},"LAKE_LEVEL":{"name":"Lake Level","href":"lake-level","desc":"Lake level varies throughout the year. Lake level rises due to high stream inflow, groundwater inflow, and precipitation directly onto the lake surface. It falls due to evaporation, water withdrawals, groundwater outflows, and outflow via the Truckee River at Tahoe City.","image":"/laketahoeindepth/static/img/lake_conditions/turbidity.png","BOTTOM_TABS":[{"name":"Historical","time_range":["1930-01-01",0],"desc":"The natural rim of the lake is at an elevation of 6,223 feet above sea level. When the lake is below the rim, outflow via the Truckee River ceases. The maximum legal limit for the lake is 6,229.1 feet. The 6.1 feet above the natural rim provides a reservoir for downstream users."},{"name":"Previous Year","time_range":[-730,-365]},{"name":"Current Year","time_range":[-365,0]}]}}}}'),lu=le.i1,hu=lu.WIDTH,fu=lu.HEIGHT;var du=function(){var t=s((0,e.useState)(0),2),n=t[0],i=t[1],r=s((0,e.useState)([]),2),o=r[0],a=r[1],u=s((0,e.useState)(0),2),c=u[0],l=u[1];(0,e.useEffect)((function(){var t=function(){var t=Math.min(1,window.innerHeight/fu),e=(window.innerWidth-hu*t)/2;Do(".App").style("transform","scale(".concat(t,")")).style("margin","0px ".concat(e,"px"))};window.addEventListener("resize",t,!0),t()}),[]);var h=B();(0,e.useEffect)((function(){var t=h.pathname.split("/");if(t.length<=1||""===t[1])i(0);else{var e=t[1],n=Object.values(cu).findIndex((function(t){return t.href===e}));if(n<0)throw new Error("Unable to find module for href ".concat(h.pathname));i(n)}}),[h]);var f=Object.values(cu)[n],d=Object.values(cu).reduce((function(t,e,r){var o=(0,rt.jsx)(st,{active:r===n,name:e.name,image:e.image,href:e.href,onClick:function(){l(0),i(r)}},e.name);return!1!==e.active&&t.push(o),t}),[]);return(0,rt.jsxs)("div",{className:"App",children:[(0,rt.jsxs)("div",{className:"dashboard",children:[(0,rt.jsx)(ot,{}),(0,rt.jsxs)("div",{className:"module-navigation",children:[(0,rt.jsx)(at,{module:f}),(0,rt.jsx)(ct,{children:d})]}),(0,rt.jsx)(H,{context:[o,function(t){l(function(t,e,n){return t<e?e:t>n?n:t}(c,0,t.length-1)),a(t)},c,l]})]}),(0,rt.jsx)(uu,{children:o})]})};var pu=function(t){var e=t.inactive_class;return t.active&&(e+=" "+t.active_class),(0,rt.jsx)(J,{onClick:t.onClick,to:t.href,className:e,children:t.name})};var vu=function(t){return(0,rt.jsx)(pu,{name:t.name,href:t.href,active:t.active,inactive_class:"module-top-tab",active_class:"module-top-tab-active"})};var gu=function(t){return(0,rt.jsx)(ut,{class_name:"module-top-tabs",children:t.children})};var mu=function(t){var n,i,r=t.tab_names,o=t.onTabChanged,a=t.default_tab;a=null!==(n=a)&&void 0!==n?n:0,o=null!==(i=o)&&void 0!==i?i:function(){};var u=s((0,e.useState)(a),2),c=u[0],l=u[1];if(r.length<=0)throw new Error("Expected at least one tab in creating bottom tabs");var h=r.map((function(t,e){var n="module-bottom-tab";return e===c&&(n+=" module-bottom-tab-active"),(0,rt.jsx)("div",{onClick:function(){return function(t){l(t),o(t)}(e)},className:n,children:t},"module-bottom-tab-".concat(e))}));return(0,rt.jsx)("div",{className:"module-bottom-tabs",children:h})};var yu=function(t){var n,i,r=t.module,o=t.transparent_tabs,a=t.default_bottom_tab_idx;o=null!==(n=o)&&void 0!==n&&n,a=null!==(i=a)&&void 0!==i?i:0;var u=s((0,e.useState)(0),2),c=u[0],l=u[1],h=Object.values(r.TABS)[c],f=h.desc,d=B();(0,e.useEffect)((function(){var t=d.pathname.split("/"),e=t.indexOf(r.href);if(e<0||e+1>=t.length)l(0);else{var n=t[e+1],i=Object.values(r.TABS).findIndex((function(t){return t.href===n}));if(i<0)throw new Error("Unable to find tab for href ".concat(d.pathname));l(i)}}),[d]);var p,v=Object.values(r.TABS).map((function(t,e){return(0,rt.jsx)(vu,{name:t.name,href:t.href,active:e===c},"module-tab-".concat(t.name))})),g=h.image,m=g?{backgroundImage:"url(".concat(g,")"),backgroundSize:"cover",backgroundPosition:"50%"}:void 0,y=void 0!==h.desc,_=s((0,e.useState)(a),2),k=_[0],w=_[1];if(void 0!==h.BOTTOM_TABS){var b=h.BOTTOM_TABS.map((function(t){return t.name}));p=(0,rt.jsx)(mu,{default_tab:k,tab_names:b,onTabChanged:function(t){return w(t)}});var S=h.BOTTOM_TABS[k].desc;f=null!==S&&void 0!==S?S:f}var T=[W(),{tab_index:c,bottom_tab_index:k}];return t.context&&T.push(t.context),(0,rt.jsxs)("div",{className:"module-container",style:m,children:[(0,rt.jsx)("div",{className:o?"transparent-top-tabs":"",children:(0,rt.jsx)(gu,{children:v})}),(0,rt.jsxs)("div",{className:"tab-content",children:[(0,rt.jsx)(H,{context:T}),y&&(0,rt.jsxs)("div",{className:"tab-header",children:[(0,rt.jsx)("div",{className:"tab-title",children:h.name}),(0,rt.jsx)("div",{className:"tab-desc",children:f})]})]}),p]})};var _u=function(t){return(0,rt.jsx)(yu,{module:cu.IMAGES,transparent_tabs:!0})};var ku=function(t){return(0,rt.jsx)(yu,{module:cu.ACTIVITIES})};function wu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bu(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Su(t,e,n){return e&&bu(t.prototype,e),n&&bu(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var Tu=function(){function t(){wu(this,t)}return Su(t,null,[{key:"get_forecasts",value:function(){var e=Rt(It().mark((function e(n,i,r){var o,a,s,u,c,l,h,f;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=new Date,a=void 0===t.last_retrieved?24*t.ONE_HOUR:o-t.last_retrieved,!((s="".concat(n,"-").concat(i,"-").concat(r))in t.forecast_cache&&a<this.ONE_HOUR)){e.next=5;break}return e.abrupt("return",t.forecast_cache[s]);case 5:u="gridpoints/".concat(n,"/").concat(i,",").concat(r),c="".concat(t.BASE_URL).concat(u),l={Accept:"application/geo+json"},f=1;case 9:if(!(f<=t.max_attempts)){e.next=23;break}return e.next=12,Yt(c,void 0,l);case 12:if("properties"in(h=e.sent)){e.next=19;break}if(console.log("Attempt ".concat(f,": Failed to retrieve NWS data, retrying")),f!==t.max_attempts){e.next=17;break}throw new Error("Max number of requests exceeded. Properties not in NWS response",h);case 17:e.next=20;break;case 19:return e.abrupt("break",23);case 20:f++,e.next=9;break;case 23:return t.last_retrieved=o,t.forecast_cache[s]=h,e.abrupt("return",h);case 26:case"end":return e.stop()}}),e,this)})));return function(t,n,i){return e.apply(this,arguments)}}()},{key:"get_forecast",value:function(t,e,n,i){var r,o;if(n=null!==(r=n)&&void 0!==r?r:$t(-.5/24),i=null!==(o=i)&&void 0!==o?o:$t(8),!(e in t.properties))throw new Error("Could not find '".concat(e,"' in forecast properties"));var u=function(t){if(void 0===t)return[];var e,n=[],i=[],r=a(t);try{for(r.s();!(e=r.n()).done;){var o=e.value,u=o.validTime,c=o.value,l=s(qt(u),2),h=l[0],f=l[1];h=Gt(h);for(var d=0;d<f;d++)n.push(h),i.push(c),h=new Date(h.getTime()+Ft)}}catch(p){r.e(p)}finally{r.f()}return{time:n,values:i}}(t.properties[e].values),c=u.time.findIndex((function(t){return t>n}));u.time=u.time.slice(c),u.values=u.values.slice(c);var l=u.time.findIndex((function(t){return t>i}));return u.time=u.time.slice(0,l),u.values=u.values.slice(0,l),u.time=u.time.map((function(t){return t.getTime()})),u}},{key:"categorizeSkyCover",value:function(t){return(t/=100)<3/8?"Sunny":t<5/8?"Partly Cloudy":"Cloudy"}}]),t}();Tu.last_retrieved=void 0,Tu.forecast_cache={},Tu.max_attempts=5,Tu.BASE_URL="https://api.weather.gov/",Tu.TEMPERATURE_KEY="temperature",Tu.PRECIPITATION_KEY="probabilityOfPrecipitation",Tu.WIND_SPEED_KEY="windSpeed",Tu.WIND_DIRECTION_KEY="windDirection",Tu.HUMIDITY_KEY="relativeHumidity",Tu.SKY_COVER_KEY="skyCover",Tu.TEMPERATURE_HIGH_KEY="maxTemperature",Tu.TEMPERATURE_LOW_KEY="minTemperature",Tu.KMH_TO_MPH=.621371,Tu.ONE_HOUR=5e3;var xu=Tu,Cu=function(t,n){var i=function(t,e){return function(n,i){var r=mt(),o=t(Mt(n,r),r);return Ct(r.map,n.attribution),Et(o.current,n.eventHandlers),e(o.current,r,n,i),o}}(xt(t),n);return function(t){function n(n,i){var r=s((0,e.useState)(!1),2),o=r[0],a=r[1],u=t(n,a).current.instance;(0,e.useImperativeHandle)(i,(function(){return u})),(0,e.useEffect)((function(){o&&u.update()}),[u,o,n.children]);var c=u._contentNode;return c?(0,St.createPortal)(n.children,c):null}return(0,e.forwardRef)(n)}(i)}((function(t,e){return Tt(new yt.Popup(t,e.overlayContainer),e)}),(function(t,n,i,r){var o=i.position;(0,e.useEffect)((function(){var e=t.instance;function i(t){t.popup===e&&(e.update(),r(!0))}function a(t){t.popup===e&&r(!1)}return n.map.on({popupopen:i,popupclose:a}),null==n.overlayContainer?(null!=o&&e.setLatLng(o),e.openOn(n.map)):n.overlayContainer.bindPopup(e),function(){var t;n.map.off({popupopen:i,popupclose:a}),null===(t=n.overlayContainer)||void 0===t||t.unbindPopup(),n.map.removeLayer(e)}}),[t,n,r,o])})),Eu=39.10507366863115,Mu=-120.22758529967396;var Ou=function(t){var e,n,i,r=t.position,o=t.onClick,a=t.active,s=t.class_name;o=null!==(e=o)&&void 0!==e?e:function(){},s=null!==(n=s)&&void 0!==n?n:"marker-popup";var u="my-circle-marker";a&&(u+=" my-circle-marker-active");var c=null!==(i=t.icon)&&void 0!==i?i:'<div class="'.concat(u,'"></div>'),l=(0,yt.divIcon)({html:c,className:""}),h=s;return r.lat>Eu&&r.lon<Mu?h+=" marker-popup-offset-down-right":r.lat>Eu?h+=" marker-popup-offset-down":t.position.lon<Mu&&(h+=" marker-popup-offset-right"),(0,rt.jsx)(fe,{eventHandlers:{click:function(){return o()}},zIndexOffset:100,position:t.position,icon:l,children:t.children&&(0,rt.jsx)(Cu,{autoPan:!1,className:h,children:t.children})})};var Pu=function(t){return(0,rt.jsx)(Ou,{active:t.active,position:t.position,onClick:t.onClick,children:(0,rt.jsxs)("div",{className:"photo-marker-popup",children:[" ",t.location," "]})})};var Lu=function(t){return(0,rt.jsx)(yu,{module:cu.WEATHER})};function Au(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Iu(t,e){return Iu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Iu(t,e)}function Nu(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Iu(t,e)}function Ru(t){return Ru=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ru(t)}function Bu(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Du(t,e){if(e&&("object"===At(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Au(t)}function ju(t){var e=Bu();return function(){var n,i=Ru(t);if(e){var r=Ru(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Du(this,n)}}function Wu(t,e,n){return Wu=Bu()?Reflect.construct.bind():function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&Iu(r,n.prototype),r},Wu.apply(null,arguments)}function Fu(t){var e="function"===typeof Map?new Map:void 0;return Fu=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return Wu(t,arguments,Ru(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Iu(n,t)},Fu(t)}var zu=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296===(64512&r)&&i+1<t.length&&56320===(64512&t.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&t.charCodeAt(++i)),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},Vu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],r=0;r<t.length;r+=3){var o=t[r],a=r+1<t.length,s=a?t[r+1]:0,u=r+2<t.length,c=u?t[r+2]:0,l=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(f=64)),i.push(n[l],n[h],n[f],n[d])}return i.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(zu(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,i=0;n<t.length;){var r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){var o=t[n++];e[i++]=String.fromCharCode((31&r)<<6|63&o)}else if(r>239&&r<365){var a=((7&r)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[i++]=String.fromCharCode(55296+(a>>10)),e[i++]=String.fromCharCode(56320+(1023&a))}else{var s=t[n++],u=t[n++];e[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&u)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],r=0;r<t.length;){var o=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0,s=++r<t.length?n[t.charAt(r)]:64,u=++r<t.length?n[t.charAt(r)]:64;if(++r,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(i.push(c),64!==s){var l=a<<4&240|s>>2;if(i.push(l),64!==u){var h=s<<6&192|u;i.push(h)}}}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Hu=function(t){return function(t){var e=zu(t);return Vu.encodeByteArray(e,!0)}(t).replace(/\./g,"")};var Uu=function(){function t(){var e=this;wu(this,t),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return Su(t,[{key:"wrapCallback",value:function(t){var e=this;return function(n,i){n?e.reject(n):e.resolve(i),"function"===typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,i))}}}]),t}();function Ku(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}var Zu=function(t){Nu(n,t);var e=ju(n);function n(t,i,r){var o;return wu(this,n),(o=e.call(this,i)).code=t,o.customData=r,o.name="FirebaseError",Object.setPrototypeOf(Au(o),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Au(o),qu.prototype.create),o}return Su(n)}(Fu(Error)),qu=function(){function t(e,n,i){wu(this,t),this.service=e,this.serviceName=n,this.errors=i}return Su(t,[{key:"create",value:function(t){var e=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(t),i=this.errors[t],r=i?Gu(i,e):"Error",o="".concat(this.serviceName,": ").concat(r," (").concat(n,")."),a=new Zu(n,o,e);return a}}]),t}();function Gu(t,e){return t.replace(Yu,(function(t,n){var i=e[n];return null!=i?String(i):"<".concat(n,"?>")}))}var Yu=/\{\$([^}]+)}/g;function Qu(t,e){if(t===e)return!0;for(var n=Object.keys(t),i=Object.keys(e),r=0,o=n;r<o.length;r++){var a=o[r];if(!i.includes(a))return!1;var s=t[a],u=e[a];if($u(s)&&$u(u)){if(!Qu(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=i;c<l.length;c++){var h=l[c];if(!n.includes(h))return!1}return!0}function $u(t){return null!==t&&"object"===typeof t}function Xu(t){return t&&t._delegate?t._delegate:t}var Ju=function(){function t(e,n,i){wu(this,t),this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Su(t,[{key:"setInstantiationMode",value:function(t){return this.instantiationMode=t,this}},{key:"setMultipleInstances",value:function(t){return this.multipleInstances=t,this}},{key:"setServiceProps",value:function(t){return this.serviceProps=t,this}},{key:"setInstanceCreatedCallback",value:function(t){return this.onInstanceCreated=t,this}}]),t}(),tc="[DEFAULT]",ec=function(){function t(e,n){wu(this,t),this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Su(t,[{key:"get",value:function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new Uu;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:e});i&&n.resolve(i)}catch(r){}}return this.instancesDeferred.get(e).promise}},{key:"getImmediate",value:function(t){var e,n=this.normalizeInstanceIdentifier(null===t||void 0===t?void 0:t.identifier),i=null!==(e=null===t||void 0===t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(t){if(t.name!==this.name)throw Error("Mismatching Component ".concat(t.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:tc})}catch(l){}var e,n=a(this.instancesDeferred.entries());try{for(n.s();!(e=n.n()).done;){var i=s(e.value,2),r=i[0],o=i[1],u=this.normalizeInstanceIdentifier(r);try{var c=this.getOrInitializeService({instanceIdentifier:u});o.resolve(c)}catch(l){}}}catch(h){n.e(h)}finally{n.f()}}}},{key:"clearInstance",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tc;this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}},{key:"delete",value:function(){var t=Rt(It().mark((function t(){var e;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Array.from(this.instances.values()),t.next=3,Promise.all([].concat(lt(e.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()}))),lt(e.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))));case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tc;return this.instances.has(t)}},{key:"getOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tc;return this.instancesOptions.get(t)||{}}},{key:"initialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.options,n=void 0===e?{}:e,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error("".concat(this.name,"(").concat(i,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var r,o=this.getOrInitializeService({instanceIdentifier:i,options:n}),u=a(this.instancesDeferred.entries());try{for(u.s();!(r=u.n()).done;){var c=s(r.value,2),l=c[0],h=c[1],f=this.normalizeInstanceIdentifier(l);i===f&&h.resolve(o)}}catch(d){u.e(d)}finally{u.f()}return o}},{key:"onInit",value:function(t,e){var n,i=this.normalizeInstanceIdentifier(e),r=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;r.add(t),this.onInitCallbacks.set(i,r);var o=this.instances.get(i);return o&&t(o,i),function(){r.delete(t)}}},{key:"invokeOnInitCallbacks",value:function(t,e){var n=this.onInitCallbacks.get(e);if(n){var i,r=a(n);try{for(r.s();!(i=r.n()).done;){var o=i.value;try{o(t,e)}catch(Rk){}}}catch(s){r.e(s)}finally{r.f()}}}},{key:"getOrInitializeService",value:function(t){var e,n=t.instanceIdentifier,i=t.options,r=void 0===i?{}:i,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===tc?void 0:e),options:r}),this.instances.set(n,o),this.instancesOptions.set(n,r),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(Rk){}return o||null}},{key:"normalizeInstanceIdentifier",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tc;return this.component?this.component.multipleInstances?t:tc:t}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),t}();var nc,ic,rc=function(){function t(e){wu(this,t),this.name=e,this.providers=new Map}return Su(t,[{key:"addComponent",value:function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component ".concat(t.name," has already been registered with ").concat(this.name));e.setComponent(t)}},{key:"addOrOverwriteComponent",value:function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}},{key:"getProvider",value:function(t){if(this.providers.has(t))return this.providers.get(t);var e=new ec(t,this);return this.providers.set(t,e),e}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),t}(),oc=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(ic||(ic={}));var ac={debug:ic.DEBUG,verbose:ic.VERBOSE,info:ic.INFO,warn:ic.WARN,error:ic.ERROR,silent:ic.SILENT},sc=ic.INFO,uc=(ft(nc={},ic.DEBUG,"log"),ft(nc,ic.VERBOSE,"log"),ft(nc,ic.INFO,"info"),ft(nc,ic.WARN,"warn"),ft(nc,ic.ERROR,"error"),nc),cc=function(t,e){if(!(e<t.logLevel)){var n=(new Date).toISOString(),i=uc[e];if(!i)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(e,")"));for(var r,o=arguments.length,a=new Array(o>2?o-2:0),s=2;s<o;s++)a[s-2]=arguments[s];(r=console)[i].apply(r,["[".concat(n,"]  ").concat(t.name,":")].concat(a))}},lc=function(){function t(e){wu(this,t),this.name=e,this._logLevel=sc,this._logHandler=cc,this._userLogHandler=null,oc.push(this)}return Su(t,[{key:"logLevel",get:function(){return this._logLevel},set:function(t){if(!(t in ic))throw new TypeError('Invalid value "'.concat(t,'" assigned to `logLevel`'));this._logLevel=t}},{key:"setLogLevel",value:function(t){this._logLevel="string"===typeof t?ac[t]:t}},{key:"logHandler",get:function(){return this._logHandler},set:function(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t}},{key:"debug",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ic.DEBUG].concat(e)),this._logHandler.apply(this,[this,ic.DEBUG].concat(e))}},{key:"log",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ic.VERBOSE].concat(e)),this._logHandler.apply(this,[this,ic.VERBOSE].concat(e))}},{key:"info",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ic.INFO].concat(e)),this._logHandler.apply(this,[this,ic.INFO].concat(e))}},{key:"warn",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ic.WARN].concat(e)),this._logHandler.apply(this,[this,ic.WARN].concat(e))}},{key:"error",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ic.ERROR].concat(e)),this._logHandler.apply(this,[this,ic.ERROR].concat(e))}}]),t}();var hc,fc;var dc=new WeakMap,pc=new WeakMap,vc=new WeakMap,gc=new WeakMap,mc=new WeakMap;var yc={get:function(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return pc.get(t);if("objectStoreNames"===e)return t.objectStoreNames||vc.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wc(t[e])},set:function(t,e,n){return t[e]=n,!0},has:function(t,e){return t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t}};function _c(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(fc||(fc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.apply(bc(this),n),wc(dc.get(this))}:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return wc(t.apply(bc(this),n))}:function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var o=t.call.apply(t,[bc(this),e].concat(i));return vc.set(o,e.sort?e.sort():[e]),wc(o)}}function kc(t){return"function"===typeof t?_c(t):(t instanceof IDBTransaction&&function(t){if(!pc.has(t)){var e=new Promise((function(e,n){var i=function(){t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=function(){e(),i()},o=function(){n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)}));pc.set(t,e)}}(t),function(t,e){return e.some((function(e){return t instanceof e}))}(t,hc||(hc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(t,yc):t)}function wc(t){if(t instanceof IDBRequest)return function(t){var e=new Promise((function(e,n){var i=function(){t.removeEventListener("success",r),t.removeEventListener("error",o)},r=function(){e(wc(t.result)),i()},o=function(){n(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",o)}));return e.then((function(e){e instanceof IDBCursor&&dc.set(e,t)})).catch((function(){})),mc.set(e,t),e}(t);if(gc.has(t))return gc.get(t);var e=kc(t);return e!==t&&(gc.set(t,e),mc.set(e,t)),e}var bc=function(t){return mc.get(t)};var Sc,Tc,xc=["get","getKey","getAll","getAllKeys","count"],Cc=["put","add","delete","clear"],Ec=new Map;function Mc(t,e){if(t instanceof IDBDatabase&&!(e in t)&&"string"===typeof e){if(Ec.get(e))return Ec.get(e);var n=e.replace(/FromIndex$/,""),i=e!==n,r=Cc.includes(n);if(n in(i?IDBIndex:IDBObjectStore).prototype&&(r||xc.includes(n))){var o=function(){var t=Rt(It().mark((function t(e){var o,a,s,u,c,l,h=arguments;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(a=this.transaction(e,r?"readwrite":"readonly"),s=a.store,u=h.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=h[l];return i&&(s=s.index(c.shift())),t.next=6,Promise.all([(o=s)[n].apply(o,c),r&&a.done]);case 6:return t.abrupt("return",t.sent[0]);case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}();return Ec.set(e,o),o}}}yc=function(t){return pt(pt({},t),{},{get:function(e,n,i){return Mc(e,n)||t.get(e,n,i)},has:function(e,n){return!!Mc(e,n)||t.has(e,n)}})}(yc);var Oc=function(){function t(e){wu(this,t),this.container=e}return Su(t,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}(t)){var e=t.getImmediate();return"".concat(e.library,"/").concat(e.version)}return null})).filter((function(t){return t})).join(" ")}}]),t}();var Pc="@firebase/app",Lc="0.7.28",Ac=new lc("@firebase/app"),Ic="[DEFAULT]",Nc=(ft(Sc={},Pc,"fire-core"),ft(Sc,"@firebase/app-compat","fire-core-compat"),ft(Sc,"@firebase/analytics","fire-analytics"),ft(Sc,"@firebase/analytics-compat","fire-analytics-compat"),ft(Sc,"@firebase/app-check","fire-app-check"),ft(Sc,"@firebase/app-check-compat","fire-app-check-compat"),ft(Sc,"@firebase/auth","fire-auth"),ft(Sc,"@firebase/auth-compat","fire-auth-compat"),ft(Sc,"@firebase/database","fire-rtdb"),ft(Sc,"@firebase/database-compat","fire-rtdb-compat"),ft(Sc,"@firebase/functions","fire-fn"),ft(Sc,"@firebase/functions-compat","fire-fn-compat"),ft(Sc,"@firebase/installations","fire-iid"),ft(Sc,"@firebase/installations-compat","fire-iid-compat"),ft(Sc,"@firebase/messaging","fire-fcm"),ft(Sc,"@firebase/messaging-compat","fire-fcm-compat"),ft(Sc,"@firebase/performance","fire-perf"),ft(Sc,"@firebase/performance-compat","fire-perf-compat"),ft(Sc,"@firebase/remote-config","fire-rc"),ft(Sc,"@firebase/remote-config-compat","fire-rc-compat"),ft(Sc,"@firebase/storage","fire-gcs"),ft(Sc,"@firebase/storage-compat","fire-gcs-compat"),ft(Sc,"@firebase/firestore","fire-fst"),ft(Sc,"@firebase/firestore-compat","fire-fst-compat"),ft(Sc,"fire-js","fire-js"),ft(Sc,"firebase","fire-js-all"),Sc),Rc=new Map,Bc=new Map;function Dc(t,e){try{t.container.addComponent(e)}catch(n){Ac.debug("Component ".concat(e.name," failed to register with FirebaseApp ").concat(t.name),n)}}function jc(t){var e=t.name;if(Bc.has(e))return Ac.debug("There were multiple attempts to register component ".concat(e,".")),!1;Bc.set(e,t);var n,i=a(Rc.values());try{for(i.s();!(n=i.n()).done;){Dc(n.value,t)}}catch(r){i.e(r)}finally{i.f()}return!0}function Wc(t,e){var n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var Fc=(ft(Tc={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),ft(Tc,"bad-app-name","Illegal App name: '{$appName}"),ft(Tc,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),ft(Tc,"app-deleted","Firebase App named '{$appName}' already deleted"),ft(Tc,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ft(Tc,"invalid-log-argument","First argument to `onLog` must be null or a function."),ft(Tc,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),ft(Tc,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),ft(Tc,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),ft(Tc,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),Tc),zc=new qu("app","Firebase",Fc),Vc=function(){function t(e,n,i){var r=this;wu(this,t),this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ju("app",(function(){return r}),"PUBLIC"))}return Su(t,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(t){this._isDeleted=t}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw zc.create("app-deleted",{appName:this._name})}}]),t}();function Hc(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof e){var n=e;e={name:n}}var i=Object.assign({name:Ic,automaticDataCollectionEnabled:!1},e),r=i.name;if("string"!==typeof r||!r)throw zc.create("bad-app-name",{appName:String(r)});var o=Rc.get(r);if(o){if(Qu(t,o.options)&&Qu(i,o.config))return o;throw zc.create("duplicate-app",{appName:r})}var s,u=new rc(r),c=a(Bc.values());try{for(c.s();!(s=c.n()).done;){var l=s.value;u.addComponent(l)}}catch(f){c.e(f)}finally{c.f()}var h=new Vc(t,i,u);return Rc.set(r,h),h}function Uc(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ic,e=Rc.get(t);if(!e)throw zc.create("no-app",{appName:t});return e}function Kc(t,e,n){var i,r=null!==(i=Nc[t])&&void 0!==i?i:t;n&&(r+="-".concat(n));var o=r.match(/\s|\//),a=e.match(/\s|\//);if(o||a){var s=['Unable to register library "'.concat(r,'" with version "').concat(e,'":')];return o&&s.push('library name "'.concat(r,'" contains illegal characters (whitespace or "/")')),o&&a&&s.push("and"),a&&s.push('version name "'.concat(e,'" contains illegal characters (whitespace or "/")')),void Ac.warn(s.join(" "))}jc(new Ju("".concat(r,"-version"),(function(){return{library:r,version:e}}),"VERSION"))}var Zc="firebase-heartbeat-store",qc=null;function Gc(){return qc||(qc=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.blocked,r=n.upgrade,o=n.blocking,a=n.terminated,s=indexedDB.open(t,e),u=wc(s);return r&&s.addEventListener("upgradeneeded",(function(t){r(wc(s.result),t.oldVersion,t.newVersion,wc(s.transaction))})),i&&s.addEventListener("blocked",(function(){return i()})),u.then((function(t){a&&t.addEventListener("close",(function(){return a()})),o&&t.addEventListener("versionchange",(function(){return o()}))})).catch((function(){})),u}("firebase-heartbeat-database",1,{upgrade:function(t,e){if(0===e)t.createObjectStore(Zc)}}).catch((function(t){throw zc.create("storage-open",{originalErrorMessage:t.message})}))),qc}function Yc(t){return Qc.apply(this,arguments)}function Qc(){return Qc=Rt(It().mark((function t(e){var n,i;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Gc();case 3:return i=t.sent,t.abrupt("return",i.transaction(Zc).objectStore(Zc).get(Jc(e)));case 7:throw t.prev=7,t.t0=t.catch(0),zc.create("storage-get",{originalErrorMessage:null===(n=t.t0)||void 0===n?void 0:n.message});case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),Qc.apply(this,arguments)}function $c(t,e){return Xc.apply(this,arguments)}function Xc(){return Xc=Rt(It().mark((function t(e,n){var i,r,o,a;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Gc();case 3:return r=t.sent,o=r.transaction(Zc,"readwrite"),a=o.objectStore(Zc),t.next=8,a.put(n,Jc(e));case 8:return t.abrupt("return",o.done);case 11:throw t.prev=11,t.t0=t.catch(0),zc.create("storage-set",{originalErrorMessage:null===(i=t.t0)||void 0===i?void 0:i.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])}))),Xc.apply(this,arguments)}function Jc(t){return"".concat(t.name,"!").concat(t.options.appId)}var tl=function(){function t(e){var n=this;wu(this,t),this.container=e,this._heartbeatsCache=null;var i=this.container.getProvider("app").getImmediate();this._storage=new rl(i),this._heartbeatsCachePromise=this._storage.read().then((function(t){return n._heartbeatsCache=t,t}))}return Su(t,[{key:"triggerHeartbeat",value:function(){var t=Rt(It().mark((function t(){var e,n,i;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.container.getProvider("platform-logger").getImmediate(),n=e.getPlatformInfoString(),i=el(),null!==this._heartbeatsCache){t.next=7;break}return t.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=t.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==i&&!this._heartbeatsCache.heartbeats.some((function(t){return t.date===i}))){t.next=11;break}return t.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:i,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(t){var e=new Date(t.date).valueOf();return Date.now()-e<=2592e6})),t.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var t=Rt(It().mark((function t(){var e,n,i,r,o;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==this._heartbeatsCache){t.next=3;break}return t.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){t.next=5;break}return t.abrupt("return","");case 5:if(e=el(),n=nl(this._heartbeatsCache.heartbeats),i=n.heartbeatsToSend,r=n.unsentEntries,o=Hu(JSON.stringify({version:2,heartbeats:i})),this._heartbeatsCache.lastSentHeartbeatDate=e,!(r.length>0)){t.next=15;break}return this._heartbeatsCache.heartbeats=r,t.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:t.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return t.abrupt("return",o);case 18:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),t}();function el(){return(new Date).toISOString().substring(0,10)}function nl(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,i=[],r=t.slice(),o=a(t);try{var s=function(){var t=e.value,o=i.find((function(e){return e.agent===t.agent}));if(o){if(o.dates.push(t.date),ol(i)>n)return o.dates.pop(),"break"}else if(i.push({agent:t.agent,dates:[t.date]}),ol(i)>n)return i.pop(),"break";r=r.slice(1)};for(o.s();!(e=o.n()).done;){var u=s();if("break"===u)break}}catch(c){o.e(c)}finally{o.f()}return{heartbeatsToSend:i,unsentEntries:r}}var il,rl=function(){function t(e){wu(this,t),this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Su(t,[{key:"runIndexedDBEnvironmentCheck",value:function(){var t=Rt(It().mark((function t(){return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("object"===typeof indexedDB){t.next=4;break}return t.abrupt("return",!1);case 4:return t.abrupt("return",new Promise((function(t,e){try{var n=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=function(){r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=function(){n=!1},r.onerror=function(){var t;e((null===(t=r.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"read",value:function(){var t=Rt(It().mark((function t(){var e;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._canUseIndexedDBPromise;case 2:if(t.sent){t.next=7;break}return t.abrupt("return",{heartbeats:[]});case 7:return t.next=9,Yc(this.app);case 9:return e=t.sent,t.abrupt("return",e||{heartbeats:[]});case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"overwrite",value:function(){var t=Rt(It().mark((function t(e){var n,i;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._canUseIndexedDBPromise;case 2:if(t.sent){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,this.read();case 9:return i=t.sent,t.abrupt("return",$c(this.app,{lastSentHeartbeatDate:null!==(n=e.lastSentHeartbeatDate)&&void 0!==n?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats}));case 11:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"add",value:function(){var t=Rt(It().mark((function t(e){var n,i;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._canUseIndexedDBPromise;case 2:if(t.sent){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,this.read();case 9:return i=t.sent,t.abrupt("return",$c(this.app,{lastSentHeartbeatDate:null!==(n=e.lastSentHeartbeatDate)&&void 0!==n?n:i.lastSentHeartbeatDate,heartbeats:[].concat(lt(i.heartbeats),lt(e.heartbeats))}));case 11:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),t}();function ol(t){return Hu(JSON.stringify({version:2,heartbeats:t})).length}il="",jc(new Ju("platform-logger",(function(t){return new Oc(t)}),"PRIVATE")),jc(new Ju("heartbeat",(function(t){return new tl(t)}),"PRIVATE")),Kc(Pc,Lc,il),Kc(Pc,Lc,"esm2017"),Kc("fire-js","");function al(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ru(t)););return t}function sl(){return sl="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var i=al(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}},sl.apply(this,arguments)}Kc("firebase","9.9.0","app");var ul,cl="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},ll={},hl=hl||{},fl=cl||self;function dl(){}function pl(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function vl(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var gl="closure_uid_"+(1e9*Math.random()>>>0),ml=0;function yl(t,e,n){return t.call.apply(t.bind,arguments)}function _l(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function kl(t,e,n){return(kl=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?yl:_l).apply(null,arguments)}function wl(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function bl(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,i){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return e.prototype[n].apply(t,r)}}function Sl(){this.s=this.s,this.o=this.o}var Tl={};Sl.prototype.s=!1,Sl.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,gl)&&t[gl]||(t[gl]=++ml)}(this);delete Tl[t]}},Sl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var xl=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Cl=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,r="string"===typeof t?t.split(""):t,o=0;o<i;o++)o in r&&e.call(n,r[o],o,t)};function El(t){return Array.prototype.concat.apply([],arguments)}function Ml(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}function Ol(t){return/^[\s\xa0]*$/.test(t)}var Pl,Ll=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Al(t,e){return-1!=t.indexOf(e)}function Il(t,e){return t<e?-1:t>e?1:0}t:{var Nl=fl.navigator;if(Nl){var Rl=Nl.userAgent;if(Rl){Pl=Rl;break t}}Pl=""}function Bl(t,e,n){for(var i in t)e.call(n,t[i],i,t)}function Dl(t){var e={};for(var n in t)e[n]=t[n];return e}var jl="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Wl(t,e){for(var n,i,r=1;r<arguments.length;r++){for(n in i=arguments[r])t[n]=i[n];for(var o=0;o<jl.length;o++)n=jl[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function Fl(t){return Fl[" "](t),t}Fl[" "]=dl;var zl,Vl=Al(Pl,"Opera"),Hl=Al(Pl,"Trident")||Al(Pl,"MSIE"),Ul=Al(Pl,"Edge"),Kl=Ul||Hl,Zl=Al(Pl,"Gecko")&&!(Al(Pl.toLowerCase(),"webkit")&&!Al(Pl,"Edge"))&&!(Al(Pl,"Trident")||Al(Pl,"MSIE"))&&!Al(Pl,"Edge"),ql=Al(Pl.toLowerCase(),"webkit")&&!Al(Pl,"Edge");function Gl(){var t=fl.document;return t?t.documentMode:void 0}t:{var Yl="",Ql=function(){var t=Pl;return Zl?/rv:([^\);]+)(\)|;)/.exec(t):Ul?/Edge\/([\d\.]+)/.exec(t):Hl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):ql?/WebKit\/(\S+)/.exec(t):Vl?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(Ql&&(Yl=Ql?Ql[1]:""),Hl){var $l=Gl();if(null!=$l&&$l>parseFloat(Yl)){zl=String($l);break t}}zl=Yl}var Xl,Jl={};function th(){return function(t){var e=Jl;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}((function(){for(var t=0,e=Ll(String(zl)).split("."),n=Ll("9").split("."),i=Math.max(e.length,n.length),r=0;0==t&&r<i;r++){var o=e[r]||"",a=n[r]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;t=Il(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||Il(0==o[2].length,0==a[2].length)||Il(o[2],a[2]),o=o[3],a=a[3]}while(0==t)}return 0<=t}))}if(fl.document&&Hl){var eh=Gl();Xl=eh||(parseInt(zl,10)||void 0)}else Xl=void 0;var nh=Xl,ih=function(){if(!fl.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{fl.addEventListener("test",dl,e),fl.removeEventListener("test",dl,e)}catch(n){}return t}();function rh(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function oh(t,e){if(rh.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Zl){t:{try{Fl(e.nodeName);var r=!0;break t}catch(o){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:ah[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&oh.Z.h.call(this)}}rh.prototype.h=function(){this.defaultPrevented=!0},bl(oh,rh);var ah={2:"touch",3:"pen",4:"mouse"};oh.prototype.h=function(){oh.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var sh="closure_listenable_"+(1e6*Math.random()|0),uh=0;function ch(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.ia=r,this.key=++uh,this.ca=this.fa=!1}function lh(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function hh(t){this.src=t,this.g={},this.h=0}function fh(t,e){var n=e.type;if(n in t.g){var i,r=t.g[n],o=xl(r,e);(i=0<=o)&&Array.prototype.splice.call(r,o,1),i&&(lh(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function dh(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.ca&&o.listener==e&&o.capture==!!n&&o.ia==i)return r}return-1}hh.prototype.add=function(t,e,n,i,r){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var a=dh(t,e,i,r);return-1<a?(e=t[a],n||(e.fa=!1)):((e=new ch(e,this.src,o,!!i,r)).fa=n,t.push(e)),e};var ph="closure_lm_"+(1e6*Math.random()|0),vh={};function gh(t,e,n,i,r){if(i&&i.once)return yh(t,e,n,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)gh(t,e[o],n,i,r);return null}return n=xh(n),t&&t[sh]?t.N(e,n,vl(i)?!!i.capture:!!i,r):mh(t,e,n,!1,i,r)}function mh(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var a=vl(r)?!!r.capture:!!r,s=Sh(t);if(s||(t[ph]=s=new hh(t)),(n=s.add(e,n,i,a,o)).proxy)return n;if(i=function(){function t(n){return e.call(t.src,t.listener,n)}var e=bh;return t}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)ih||(r=a),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(wh(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}return n}function yh(t,e,n,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)yh(t,e[o],n,i,r);return null}return n=xh(n),t&&t[sh]?t.O(e,n,vl(i)?!!i.capture:!!i,r):mh(t,e,n,!0,i,r)}function _h(t,e,n,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)_h(t,e[o],n,i,r);else i=vl(i)?!!i.capture:!!i,n=xh(n),t&&t[sh]?(t=t.i,(e=String(e).toString())in t.g&&(-1<(n=dh(o=t.g[e],n,i,r))&&(lh(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--)))):t&&(t=Sh(t))&&(e=t.g[e.toString()],t=-1,e&&(t=dh(e,n,i,r)),(n=-1<t?e[t]:null)&&kh(n))}function kh(t){if("number"!==typeof t&&t&&!t.ca){var e=t.src;if(e&&e[sh])fh(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(wh(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=Sh(e))?(fh(n,t),0==n.h&&(n.src=null,e[ph]=null)):lh(t)}}}function wh(t){return t in vh?vh[t]:vh[t]="on"+t}function bh(t,e){if(t.ca)t=!0;else{e=new oh(e,this);var n=t.listener,i=t.ia||t.src;t.fa&&kh(t),t=n.call(i,e)}return t}function Sh(t){return(t=t[ph])instanceof hh?t:null}var Th="__closure_events_fn_"+(1e9*Math.random()>>>0);function xh(t){return"function"===typeof t?t:(t[Th]||(t[Th]=function(e){return t.handleEvent(e)}),t[Th])}function Ch(){Sl.call(this),this.i=new hh(this),this.P=this,this.I=null}function Eh(t,e){var n,i=t.I;if(i)for(n=[];i;i=i.I)n.push(i);if(t=t.P,i=e.type||e,"string"===typeof e)e=new rh(e,t);else if(e instanceof rh)e.target=e.target||t;else{var r=e;Wl(e=new rh(i,t),r)}if(r=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.g=n[o];r=Mh(a,i,!0,e)&&r}if(r=Mh(a=e.g=t,i,!0,e)&&r,r=Mh(a,i,!1,e)&&r,n)for(o=0;o<n.length;o++)r=Mh(a=e.g=n[o],i,!1,e)&&r}function Mh(t,e,n,i){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.ca&&a.capture==n){var s=a.listener,u=a.ia||a.src;a.fa&&fh(t.i,a),r=!1!==s.call(u,i)&&r}}return r&&!i.defaultPrevented}bl(Ch,Sl),Ch.prototype[sh]=!0,Ch.prototype.removeEventListener=function(t,e,n,i){_h(this,t,e,n,i)},Ch.prototype.M=function(){if(Ch.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)lh(n[i]);delete e.g[t],e.h--}}this.I=null},Ch.prototype.N=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)},Ch.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};var Oh=fl.JSON.stringify;function Ph(){var t=jh,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Lh,Ah=function(){function t(){wu(this,t),this.h=this.g=null}return Su(t,[{key:"add",value:function(t,e){var n=Ih.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n}}]),t}(),Ih=new(function(){function t(e,n){wu(this,t),this.i=e,this.j=n,this.h=0,this.g=null}return Su(t,[{key:"get",value:function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}]),t}())((function(){return new Nh}),(function(t){return t.reset()})),Nh=function(){function t(){wu(this,t),this.next=this.g=this.h=null}return Su(t,[{key:"set",value:function(t,e){this.h=t,this.g=e,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),t}();function Rh(t){fl.setTimeout((function(){throw t}),0)}function Bh(t,e){Lh||function(){var t=fl.Promise.resolve(void 0);Lh=function(){t.then(Wh)}}(),Dh||(Lh(),Dh=!0),jh.add(t,e)}var Dh=!1,jh=new Ah;function Wh(){for(var t;t=Ph();){try{t.h.call(t.g)}catch(n){Rh(n)}var e=Ih;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Dh=!1}function Fh(t,e){Ch.call(this),this.h=t||1,this.g=e||fl,this.j=kl(this.kb,this),this.l=Date.now()}function zh(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function Vh(t,e,n){if("function"===typeof t)n&&(t=kl(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=kl(t.handleEvent,t)}return 2147483647<Number(e)?-1:fl.setTimeout(t,e||0)}function Hh(t){t.g=Vh((function(){t.g=null,t.i&&(t.i=!1,Hh(t))}),t.j);var e=t.h;t.h=null,t.m.apply(null,e)}bl(Fh,Ch),(ul=Fh.prototype).da=!1,ul.S=null,ul.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Eh(this,"tick"),this.da&&(zh(this),this.start()))}},ul.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ul.M=function(){Fh.Z.M.call(this),zh(this),delete this.g};var Uh=function(t){Nu(n,t);var e=ju(n);function n(t,i){var r;return wu(this,n),(r=e.call(this)).m=t,r.j=i,r.h=null,r.i=!1,r.g=null,r}return Su(n,[{key:"l",value:function(t){this.h=arguments,this.g?this.i=!0:Hh(this)}},{key:"M",value:function(){sl(Ru(n.prototype),"M",this).call(this),this.g&&(fl.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Sl);function Kh(t){Sl.call(this),this.h=t,this.g={}}bl(Kh,Sl);var Zh=[];function qh(t,e,n,i){Array.isArray(n)||(n&&(Zh[0]=n.toString()),n=Zh);for(var r=0;r<n.length;r++){var o=gh(e,n[r],i||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function Gh(t){Bl(t.g,(function(t,e){this.g.hasOwnProperty(e)&&kh(t)}),t),t.g={}}function Yh(){this.g=!0}function Qh(t,e,n,i){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<r.length;a++)r[a]=""}}}return Oh(n)}catch(s){return e}}(t,n)+(i?" "+i:"")}))}Kh.prototype.M=function(){Kh.Z.M.call(this),Gh(this)},Kh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Yh.prototype.Aa=function(){this.g=!1},Yh.prototype.info=function(){};var $h={},Xh=null;function Jh(){return Xh=Xh||new Ch}function tf(t){rh.call(this,$h.Ma,t)}function ef(t){var e=Jh();Eh(e,new tf(e,t))}function nf(t,e){rh.call(this,$h.STAT_EVENT,t),this.stat=e}function rf(t){var e=Jh();Eh(e,new nf(e,t))}function of(t,e){rh.call(this,$h.Na,t),this.size=e}function af(t,e){if("function"!==typeof t)throw Error("Fn must not be null and must be a function");return fl.setTimeout((function(){t()}),e)}$h.Ma="serverreachability",bl(tf,rh),$h.STAT_EVENT="statevent",bl(nf,rh),$h.Na="timingevent",bl(of,rh);var sf={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},uf={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function cf(){}function lf(t){return t.h||(t.h=t.i())}function hf(){}cf.prototype.h=null;var ff,df={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function pf(){rh.call(this,"d")}function vf(){rh.call(this,"c")}function gf(){}function mf(t,e,n,i){this.l=t,this.j=e,this.m=n,this.X=i||1,this.V=new Kh(this),this.P=_f,t=Kl?125:void 0,this.W=new Fh(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new yf}function yf(){this.i=null,this.g="",this.h=!1}bl(pf,rh),bl(vf,rh),bl(gf,cf),gf.prototype.g=function(){return new XMLHttpRequest},gf.prototype.i=function(){return{}},ff=new gf;var _f=45e3,kf={},wf={};function bf(t,e,n){t.K=1,t.v=Kf(Wf(e)),t.s=n,t.U=!0,Sf(t,null)}function Sf(t,e){t.F=Date.now(),Ef(t),t.A=Wf(t.v);var n=t.A,i=t.X;Array.isArray(i)||(i=[String(i)]),rd(n.h,"t",i),t.C=0,n=t.l.H,t.h=new yf,t.g=ap(t.l,n?e:null,!t.s),0<t.O&&(t.L=new Uh(kl(t.Ia,t,t.g),t.O)),qh(t.V,t.g,"readystatechange",t.gb),e=t.H?Dl(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),ef(1),function(t,e,n,i,r,o){t.info((function(){if(t.g)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+n+"\n"+a}))}(t.j,t.u,t.A,t.m,t.X,t.s)}function Tf(t){return!!t.g&&("GET"==t.u&&2!=t.K&&t.l.Ba)}function xf(t,e,n){for(var i,r=!0;!t.I&&t.C<n.length;){if((i=Cf(t,n))==wf){4==e&&(t.o=4,rf(14),r=!1),Qh(t.j,t.m,null,"[Incomplete Response]");break}if(i==kf){t.o=4,rf(15),Qh(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Qh(t.j,t.m,i,null),Af(t,i)}Tf(t)&&i!=wf&&i!=kf&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,rf(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Xd(e),e.L=!0,rf(11))):(Qh(t.j,t.m,n,"[Invalid Chunked Response]"),Lf(t),Pf(t))}function Cf(t,e){var n=t.C,i=e.indexOf("\n",n);return-1==i?wf:(n=Number(e.substring(n,i)),isNaN(n)?kf:(i+=1)+n>e.length?wf:(e=e.substr(i,n),t.C=i+n,e))}function Ef(t){t.Y=Date.now()+t.P,Mf(t,t.P)}function Mf(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=af(kl(t.eb,t),e)}function Of(t){t.B&&(fl.clearTimeout(t.B),t.B=null)}function Pf(t){0==t.l.G||t.I||ep(t.l,t)}function Lf(t){Of(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,zh(t.W),Gh(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Af(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||fd(n.i,t)))if(n.I=t.N,!t.J&&fd(n.i,t)&&3==n.G){try{var i=n.Ca.g.parse(e)}catch(o){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;tp(n),Hd(n)}$d(n),rf(18)}}else n.ta=r[1],0<n.ta-n.U&&37500>r[2]&&n.N&&0==n.A&&!n.v&&(n.v=af(kl(n.ab,n),6e3));if(1>=hd(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else ip(n,11)}else if((t.J||n.g==t)&&tp(n),!Ol(e))for(r=n.Ca.g.parse(e),e=0;e<r.length;e++){var o=r[e];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var s=o[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"===typeof u&&0<u&&(i=1.5*u,n.K=i,n.h.info("backChannelRequestTimeoutMs_="+i)),i=n;var c=t.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=i.i;!h.g&&(Al(l,"spdy")||Al(l,"quic")||Al(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(dd(h,h.h),h.h=null))}if(i.D){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(i.sa=f,Uf(i.F,i.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=t;if((i=n).oa=op(i,i.H?i.la:null,i.W),d.J){pd(i.i,d);var p=d,v=i.K;v&&p.setTimeout(v),p.B&&(Of(p),Ef(p)),i.g=d}else Qd(i);0<n.l.length&&Zd(n)}else"stop"!=o[0]&&"close"!=o[0]||ip(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?ip(n,7):Vd(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}ef(4)}catch(o){}}function If(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(pl(t)||"string"===typeof t)Cl(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(pl(t)||"string"===typeof t){n=[];for(var i=t.length,r=0;r<i;r++)n.push(r)}else for(r in n=[],i=0,t)n[i++]=r;i=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"===typeof t)return t.split("");if(pl(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}(t),r=i.length;for(var o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}}function Nf(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof Nf)for(n=t.T(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}function Rf(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var i=t.g[e];Bf(t.h,i)&&(t.g[n++]=i),e++}t.g.length=n}if(t.i!=t.g.length){var r={};for(n=e=0;e<t.g.length;)Bf(r,i=t.g[e])||(t.g[n++]=i,r[i]=1),e++;t.g.length=n}}function Bf(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(ul=mf.prototype).setTimeout=function(t){this.P=t},ul.gb=function(t){t=t.target;var e=this.L;e&&3==Dd(t)?e.l():this.Ia(t)},ul.Ia=function(t){try{if(t==this.g)t:{var e=Dd(this.g),n=this.g.Da(),i=this.g.ba();if(!(3>e)&&(3!=e||Kl||this.g&&(this.h.h||this.g.ga()||jd(this.g)))){this.I||4!=e||7==n||ef(8==n||0>=i?3:2),Of(this);var r=this.g.ba();this.N=r;e:if(Tf(this)){var o=jd(this.g);t="";var a=o.length,s=4==Dd(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Lf(this),Pf(this);var u="";break e}this.h.i=new fl.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,t+=this.h.i.decode(o[n],{stream:s&&n==a-1});o.splice(0,a),this.h.g+=t,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==r,function(t,e,n,i,r,o,a){t.info((function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.X,e,r),this.i){if(this.$&&!this.J){e:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ol(c)){var h=c;break e}}h=null}if(!(r=h)){this.i=!1,this.o=3,rf(12),Lf(this),Pf(this);break t}Qh(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Af(this,r)}this.U?(xf(this,e,u),Kl&&this.i&&3==e&&(qh(this.V,this.W,"tick",this.fb),this.W.start())):(Qh(this.j,this.m,u,null),Af(this,u)),4==e&&Lf(this),this.i&&!this.I&&(4==e?ep(this.l,this):(this.i=!1,Ef(this)))}else 400==r&&0<u.indexOf("Unknown SID")?(this.o=3,rf(12)):(this.o=0,rf(13)),Lf(this),Pf(this)}}}catch(e){}},ul.fb=function(){if(this.g){var t=Dd(this.g),e=this.g.ga();this.C<e.length&&(Of(this),xf(this,t,e),this.i&&4!=t&&Ef(this))}},ul.cancel=function(){this.I=!0,Lf(this)},ul.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.j,this.A),2!=this.K&&(ef(3),rf(17)),Lf(this),this.o=2,Pf(this)):Mf(this,this.Y-t)},(ul=Nf.prototype).R=function(){Rf(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},ul.T=function(){return Rf(this),this.g.concat()},ul.get=function(t,e){return Bf(this.h,t)?this.h[t]:e},ul.set=function(t,e){Bf(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},ul.forEach=function(t,e){for(var n=this.T(),i=0;i<n.length;i++){var r=n[i],o=this.get(r);t.call(e,o,r,this)}};var Df=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function jf(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof jf){this.g=void 0!==e?e:t.g,Ff(this,t.j),this.s=t.s,zf(this,t.i),Vf(this,t.m),this.l=t.l,e=t.h;var n=new td;n.i=e.i,e.g&&(n.g=new Nf(e.g),n.h=e.h),Hf(this,n),this.o=t.o}else t&&(n=String(t).match(Df))?(this.g=!!e,Ff(this,n[1]||"",!0),this.s=Zf(n[2]||""),zf(this,n[3]||"",!0),Vf(this,n[4]),this.l=Zf(n[5]||"",!0),Hf(this,n[6]||"",!0),this.o=Zf(n[7]||"")):(this.g=!!e,this.h=new td(null,this.g))}function Wf(t){return new jf(t)}function Ff(t,e,n){t.j=n?Zf(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function zf(t,e,n){t.i=n?Zf(e,!0):e}function Vf(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Hf(t,e,n){e instanceof td?(t.h=e,function(t,e){e&&!t.j&&(ed(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(nd(this,e),rd(this,n,t))}),t)),t.j=e}(t.h,t.g)):(n||(e=qf(e,Xf)),t.h=new td(e,t.g))}function Uf(t,e,n){t.h.set(e,n)}function Kf(t){return Uf(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Zf(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function qf(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,Gf),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Gf(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}jf.prototype.toString=function(){var t=[],e=this.j;e&&t.push(qf(e,Yf,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(qf(e,Yf,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(qf(n,"/"==n.charAt(0)?$f:Qf,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",qf(n,Jf)),t.join("")};var Yf=/[#\/\?@]/g,Qf=/[#\?:]/g,$f=/[#\?]/g,Xf=/[#\?@]/g,Jf=/#/g;function td(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ed(t){t.g||(t.g=new Nf,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function nd(t,e){ed(t),e=od(t,e),Bf(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,Bf((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Rf(t)))}function id(t,e){return ed(t),e=od(t,e),Bf(t.g.h,e)}function rd(t,e,n){nd(t,e),0<n.length&&(t.i=null,t.g.set(od(t,e),Ml(n)),t.h+=n.length)}function od(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(ul=td.prototype).add=function(t,e){ed(this),this.i=null,t=od(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},ul.forEach=function(t,e){ed(this),this.g.forEach((function(n,i){Cl(n,(function(n){t.call(e,n,i,this)}),this)}),this)},ul.T=function(){ed(this);for(var t=this.g.R(),e=this.g.T(),n=[],i=0;i<e.length;i++)for(var r=t[i],o=0;o<r.length;o++)n.push(e[i]);return n},ul.R=function(t){ed(this);var e=[];if("string"===typeof t)id(this,t)&&(e=El(e,this.g.get(od(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=El(e,t[n])}return e},ul.set=function(t,e){return ed(this),this.i=null,id(this,t=od(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},ul.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},ul.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var i=e[n],r=encodeURIComponent(String(i));i=this.R(i);for(var o=0;o<i.length;o++){var a=r;""!==i[o]&&(a+="="+encodeURIComponent(String(i[o]))),t.push(a)}}return this.i=t.join("&")};var ad=Su((function t(e,n){wu(this,t),this.h=e,this.g=n}));function sd(t){this.l=t||cd,fl.PerformanceNavigationTiming?t=0<(t=fl.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(fl.g&&fl.g.Ea&&fl.g.Ea()&&fl.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ud,cd=10;function ld(t){return!!t.h||!!t.g&&t.g.size>=t.j}function hd(t){return t.h?1:t.g?t.g.size:0}function fd(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function dd(t,e){t.g?t.g.add(e):t.h=e}function pd(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function vd(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var e,n=t.i,i=a(t.g.values());try{for(i.s();!(e=i.n()).done;){var r=e.value;n=n.concat(r.D)}}catch(o){i.e(o)}finally{i.f()}return n}return Ml(t.i)}function gd(){}function md(){this.g=new gd}function yd(t,e,n){var i=n||"";try{If(t,(function(t,n){var r=t;vl(t)&&(r=Oh(t)),e.push(i+n+"="+encodeURIComponent(r))}))}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function _d(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(o){}}function kd(t){this.l=t.$b||null,this.j=t.ib||!1}function wd(t,e){Ch.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=bd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}sd.prototype.cancel=function(){if(this.i=vd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var t,e=a(this.g.values());try{for(e.s();!(t=e.n()).done;){t.value.cancel()}}catch(n){e.e(n)}finally{e.f()}this.g.clear()}},gd.prototype.stringify=function(t){return fl.JSON.stringify(t,void 0)},gd.prototype.parse=function(t){return fl.JSON.parse(t,void 0)},bl(kd,cf),kd.prototype.g=function(){return new wd(this.l,this.j)},kd.prototype.i=(ud={},function(){return ud}),bl(wd,Ch);var bd=0;function Sd(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function Td(t){t.readyState=4,t.l=null,t.j=null,t.A=null,xd(t)}function xd(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(ul=wd.prototype).open=function(t,e){if(this.readyState!=bd)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,xd(this)},ul.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||fl).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ul.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Td(this)),this.readyState=bd},ul.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,xd(this)),this.g&&(this.readyState=3,xd(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof fl.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Sd(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},ul.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Td(this):xd(this),3==this.readyState&&Sd(this)}},ul.Ua=function(t){this.g&&(this.response=this.responseText=t,Td(this))},ul.Ta=function(t){this.g&&(this.response=t,Td(this))},ul.ha=function(){this.g&&Td(this)},ul.setRequestHeader=function(t,e){this.v.append(t,e)},ul.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},ul.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(wd.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Cd=fl.JSON.parse;function Ed(t){Ch.call(this),this.headers=new Nf,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Md,this.K=this.L=!1}bl(Ed,Ch);var Md="",Od=/^https?$/i,Pd=["POST","PUT"];function Ld(t){return"content-type"==t.toLowerCase()}function Ad(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Id(t),Rd(t)}function Id(t){t.D||(t.D=!0,Eh(t,"complete"),Eh(t,"error"))}function Nd(t){if(t.h&&"undefined"!=typeof hl&&(!t.C[1]||4!=Dd(t)||2!=t.ba()))if(t.v&&4==Dd(t))Vh(t.Fa,0,t);else if(Eh(t,"readystatechange"),4==Dd(t)){t.h=!1;try{var e,n=t.ba();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break t;default:i=!1}if(!(e=i)){var r;if(r=0===n){var o=String(t.H).match(Df)[1]||null;if(!o&&fl.self&&fl.self.location){var a=fl.self.location.protocol;o=a.substr(0,a.length-1)}r=!Od.test(o?o.toLowerCase():"")}e=r}if(e)Eh(t,"complete"),Eh(t,"success");else{t.m=6;try{var s=2<Dd(t)?t.g.statusText:""}catch(u){s=""}t.j=s+" ["+t.ba()+"]",Id(t)}}finally{Rd(t)}}}function Rd(t,e){if(t.g){Bd(t);var n=t.g,i=t.C[0]?dl:null;t.g=null,t.C=null,e||Eh(t,"ready");try{n.onreadystatechange=i}catch(r){}}}function Bd(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(fl.clearTimeout(t.A),t.A=null)}function Dd(t){return t.g?t.g.readyState:0}function jd(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Md:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Wd(t,e,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=function(t){var e="";return Bl(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"===typeof t?null!=n&&encodeURIComponent(String(n)):Uf(t,e,n))}function Fd(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function zd(t){this.za=0,this.l=[],this.h=new Yh,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Fd("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Fd("baseRetryDelayMs",5e3,t),this.$a=Fd("retryDelaySeedMs",1e4,t),this.Ya=Fd("forwardChannelMaxRetries",2,t),this.ra=Fd("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new sd(t&&t.concurrentRequestLimit),this.Ca=new md,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function Vd(t){if(Ud(t),3==t.G){var e=t.V++,n=Wf(t.F);Uf(n,"SID",t.J),Uf(n,"RID",e),Uf(n,"TYPE","terminate"),Gd(t,n),(e=new mf(t,t.h,e,void 0)).K=2,e.v=Kf(Wf(n)),n=!1,fl.navigator&&fl.navigator.sendBeacon&&(n=fl.navigator.sendBeacon(e.v.toString(),"")),!n&&fl.Image&&((new Image).src=e.v,n=!0),n||(e.g=ap(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Ef(e)}rp(t)}function Hd(t){t.g&&(Xd(t),t.g.cancel(),t.g=null)}function Ud(t){Hd(t),t.u&&(fl.clearTimeout(t.u),t.u=null),tp(t),t.i.cancel(),t.m&&("number"===typeof t.m&&fl.clearTimeout(t.m),t.m=null)}function Kd(t,e){t.l.push(new ad(t.Za++,e)),3==t.G&&Zd(t)}function Zd(t){ld(t.i)||t.m||(t.m=!0,Bh(t.Ha,t),t.C=0)}function qd(t,e){var n;n=e?e.m:t.V++;var i=Wf(t.F);Uf(i,"SID",t.J),Uf(i,"RID",n),Uf(i,"AID",t.U),Gd(t,i),t.o&&t.s&&Wd(i,t.o,t.s),n=new mf(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=Yd(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),dd(t.i,n),bf(n,i,e)}function Gd(t,e){t.j&&If({},(function(t,n){Uf(e,n,t)}))}function Yd(t,e,n){n=Math.min(t.l.length,n);var i=t.j?kl(t.j.Oa,t.j,t):null;t:for(var r=t.l,o=-1;;){var a=["count="+n];-1==o?0<n?(o=r[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=r[u].h,l=r[u].g;if(0>(c-=o))o=Math.max(0,r[u].h-100),s=!1;else try{yd(l,a,"req"+c+"_")}catch(Np){i&&i(l)}}if(s){i=a.join("&");break t}}return t=t.l.splice(0,n),e.D=t,i}function Qd(t){t.g||t.u||(t.Y=1,Bh(t.Ga,t),t.A=0)}function $d(t){return!(t.g||t.u||3<=t.A)&&(t.Y++,t.u=af(kl(t.Ga,t),np(t,t.A)),t.A++,!0)}function Xd(t){null!=t.B&&(fl.clearTimeout(t.B),t.B=null)}function Jd(t){t.g=new mf(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=Wf(t.oa);Uf(e,"RID","rpc"),Uf(e,"SID",t.J),Uf(e,"CI",t.N?"0":"1"),Uf(e,"AID",t.U),Gd(t,e),Uf(e,"TYPE","xmlhttp"),t.o&&t.s&&Wd(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Kf(Wf(e)),n.s=null,n.U=!0,Sf(n,t)}function tp(t){null!=t.v&&(fl.clearTimeout(t.v),t.v=null)}function ep(t,e){var n=null;if(t.g==e){tp(t),Xd(t),t.g=null;var i=2}else{if(!fd(t.i,e))return;n=e.D,pd(t.i,e),i=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==i){n=e.s?e.s.length:0,e=Date.now()-e.F;var r=t.C;Eh(i=Jh(),new of(i,n,e,r)),Zd(t)}else Qd(t);else if(3==(r=e.o)||0==r&&0<t.I||!(1==i&&function(t,e){return!(hd(t.i)>=t.i.j-(t.m?1:0))&&(t.m?(t.l=e.D.concat(t.l),!0):!(1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya))&&(t.m=af(kl(t.Ha,t,e),np(t,t.C)),t.C++,!0))}(t,e)||2==i&&$d(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),r){case 1:ip(t,5);break;case 4:ip(t,10);break;case 3:ip(t,6);break;default:ip(t,2)}}function np(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function ip(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var i=kl(t.jb,t);n||(n=new jf("//www.google.com/images/cleardot.gif"),fl.location&&"http"==fl.location.protocol||Ff(n,"https"),Kf(n)),function(t,e){var n=new Yh;if(fl.Image){var i=new Image;i.onload=wl(_d,n,i,"TestLoadImage: loaded",!0,e),i.onerror=wl(_d,n,i,"TestLoadImage: error",!1,e),i.onabort=wl(_d,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=wl(_d,n,i,"TestLoadImage: timeout",!1,e),fl.setTimeout((function(){i.ontimeout&&i.ontimeout()}),1e4),i.src=t}else e(!1)}(n.toString(),i)}else rf(2);t.G=0,t.j&&t.j.va(e),rp(t),Ud(t)}function rp(t){t.G=0,t.I=-1,t.j&&(0==vd(t.i).length&&0==t.l.length||(t.i.i.length=0,Ml(t.l),t.l.length=0),t.j.ua())}function op(t,e,n){var i=function(t){return t instanceof jf?Wf(t):new jf(t,void 0)}(n);if(""!=i.i)e&&zf(i,e+"."+i.i),Vf(i,i.m);else{var r=fl.location;i=function(t,e,n,i){var r=new jf(null,void 0);return t&&Ff(r,t),e&&zf(r,e),n&&Vf(r,n),i&&(r.l=i),r}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,n)}return t.aa&&Bl(t.aa,(function(t,e){Uf(i,e,t)})),e=t.D,n=t.sa,e&&n&&Uf(i,e,n),Uf(i,"VER",t.ma),Gd(t,i),i}function ap(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=n&&t.Ba&&!t.qa?new Ed(new kd({ib:!0})):new Ed(t.qa)).L=t.H,e}function sp(){}function up(){if(Hl&&!(10<=Number(nh)))throw Error("Environmental error: no available transport.")}function cp(t,e){Ch.call(this),this.g=new zd(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Ol(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ol(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&(e in(t=this.h)&&delete t[e])),this.j=new fp(this)}function lp(t){pf.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function hp(){vf.call(this),this.status=1}function fp(t){this.g=t}(ul=Ed.prototype).ea=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ff.g(),this.C=this.u?lf(this.u):lf(ff),this.g.onreadystatechange=kl(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){return void Ad(this,o)}t=n||"";var r=new Nf(this.headers);i&&If(i,(function(t,e){r.set(e,t)})),i=function(t){t:{for(var e=Ld,n=t.length,i="string"===typeof t?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t)){e=r;break t}e=-1}return 0>e?null:"string"===typeof t?t.charAt(e):t[e]}(r.T()),n=fl.FormData&&t instanceof fl.FormData,!(0<=xl(Pd,e))||i||n||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach((function(t,e){this.g.setRequestHeader(e,t)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Bd(this),0<this.B&&((this.K=function(t){return Hl&&th()&&"number"===typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=kl(this.pa,this)):this.A=Vh(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){Ad(this,o)}},ul.pa=function(){"undefined"!=typeof hl&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Eh(this,"timeout"),this.abort(8))},ul.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Eh(this,"complete"),Eh(this,"abort"),Rd(this))},ul.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Rd(this,!0)),Ed.Z.M.call(this)},ul.Fa=function(){this.s||(this.F||this.v||this.l?Nd(this):this.cb())},ul.cb=function(){Nd(this)},ul.ba=function(){try{return 2<Dd(this)?this.g.status:-1}catch(ud){return-1}},ul.ga=function(){try{return this.g?this.g.responseText:""}catch(ud){return""}},ul.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Cd(e)}},ul.Da=function(){return this.m},ul.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(ul=zd.prototype).ma=8,ul.G=1,ul.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},ul.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new mf(this,this.h,t,void 0),n=this.s;if(this.P&&(n?Wl(n=Dl(n),this.P):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var i=0,r=0;r<this.l.length;r++){var o=this.l[r];if(void 0===(o="__data__"in o.g&&"string"===typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(i+=o)){i=r;break t}if(4096===i||r===this.l.length-1){i=r+1;break t}}i=1e3}else i=1e3;i=Yd(this,e,i),Uf(r=Wf(this.F),"RID",t),Uf(r,"CVER",22),this.D&&Uf(r,"X-HTTP-Session-Id",this.D),Gd(this,r),this.o&&n&&Wd(r,this.o,n),dd(this.i,e),this.Ra&&Uf(r,"TYPE","init"),this.ja?(Uf(r,"$req",i),Uf(r,"SID","null"),e.$=!0,bf(e,r,null)):bf(e,r,i),this.G=2}}else 3==this.G&&(t?qd(this,t):0==this.l.length||ld(this.i)||qd(this))},ul.Ga=function(){if(this.u=null,Jd(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=af(kl(this.bb,this),t)}},ul.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,rf(10),Hd(this),Jd(this))},ul.ab=function(){null!=this.v&&(this.v=null,Hd(this),$d(this),rf(19))},ul.jb=function(t){t?(this.h.info("Successfully pinged google.com"),rf(2)):(this.h.info("Failed to ping google.com"),rf(1))},(ul=sp.prototype).xa=function(){},ul.wa=function(){},ul.va=function(){},ul.ua=function(){},ul.Oa=function(){},up.prototype.g=function(t,e){return new cp(t,e)},bl(cp,Ch),cp.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Bh(kl(t.hb,t,e))),rf(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=op(t,null,t.W),Zd(t)},cp.prototype.close=function(){Vd(this.g)},cp.prototype.u=function(t){if("string"===typeof t){var e={};e.__data__=t,Kd(this.g,e)}else this.v?((e={}).__data__=Oh(t),Kd(this.g,e)):Kd(this.g,t)},cp.prototype.M=function(){this.g.j=null,delete this.j,Vd(this.g),delete this.g,cp.Z.M.call(this)},bl(lp,pf),bl(hp,vf),bl(fp,sp),fp.prototype.xa=function(){Eh(this.g,"a")},fp.prototype.wa=function(t){Eh(this.g,new lp(t))},fp.prototype.va=function(t){Eh(this.g,new hp(t))},fp.prototype.ua=function(){Eh(this.g,"b")},up.prototype.createWebChannel=up.prototype.g,cp.prototype.send=cp.prototype.u,cp.prototype.open=cp.prototype.m,cp.prototype.close=cp.prototype.close,sf.NO_ERROR=0,sf.TIMEOUT=8,sf.HTTP_ERROR=6,uf.COMPLETE="complete",hf.EventType=df,df.OPEN="a",df.CLOSE="b",df.ERROR="c",df.MESSAGE="d",Ch.prototype.listen=Ch.prototype.N,Ed.prototype.listenOnce=Ed.prototype.O,Ed.prototype.getLastError=Ed.prototype.La,Ed.prototype.getLastErrorCode=Ed.prototype.Da,Ed.prototype.getStatus=Ed.prototype.ba,Ed.prototype.getResponseJson=Ed.prototype.Qa,Ed.prototype.getResponseText=Ed.prototype.ga,Ed.prototype.send=Ed.prototype.ea;var dp=ll.createWebChannelTransport=function(){return new up},pp=ll.getStatEventTarget=function(){return Jh()},vp=ll.ErrorCode=sf,gp=ll.EventType=uf,mp=ll.Event=$h,yp=ll.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},_p=ll.FetchXmlHttpFactory=kd,kp=ll.WebChannel=hf,wp=ll.XhrIo=Ed,bp="@firebase/firestore",Sp=function(){function t(e){wu(this,t),this.uid=e}return Su(t,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(t){return t.uid===this.uid}}]),t}();Sp.UNAUTHENTICATED=new Sp(null),Sp.GOOGLE_CREDENTIALS=new Sp("google-credentials-uid"),Sp.FIRST_PARTY=new Sp("first-party-uid"),Sp.MOCK_USER=new Sp("mock-user");var Tp="9.9.0",xp=new lc("@firebase/firestore");function Cp(){return xp.logLevel}function Ep(t){if(xp.logLevel<=ic.DEBUG){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var r=n.map(Pp);xp.debug.apply(xp,["Firestore (".concat(Tp,"): ").concat(t)].concat(lt(r)))}}function Mp(t){if(xp.logLevel<=ic.ERROR){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var r=n.map(Pp);xp.error.apply(xp,["Firestore (".concat(Tp,"): ").concat(t)].concat(lt(r)))}}function Op(t){if(xp.logLevel<=ic.WARN){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var r=n.map(Pp);xp.warn.apply(xp,["Firestore (".concat(Tp,"): ").concat(t)].concat(lt(r)))}}function Pp(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}function Lp(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",e="FIRESTORE (".concat(Tp,") INTERNAL ASSERTION FAILED: ")+t;throw Mp(e),new Error(e)}function Ap(t,e){t||Lp()}function Ip(t,e){return t}var Np={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Rp=function(t){Nu(n,t);var e=ju(n);function n(t,i){var r;return wu(this,n),(r=e.call(this,t,i)).code=t,r.message=i,r.toString=function(){return"".concat(r.name,": [code=").concat(r.code,"]: ").concat(r.message)},r}return Su(n)}(Zu),Bp=Su((function t(){var e=this;wu(this,t),this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))})),Dp=Su((function t(e,n){wu(this,t),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))})),jp=function(){function t(){wu(this,t)}return Su(t,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(t,e){t.enqueueRetryable((function(){return e(Sp.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),t}(),Wp=function(){function t(e){wu(this,t),this.t=e,this.currentUser=Sp.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Su(t,[{key:"start",value:function(t,e){var n=this,i=this.i,r=function(t){return n.i!==i?(i=n.i,e(t)):Promise.resolve()},o=new Bp;this.o=function(){n.i++,n.currentUser=n.u(),o.resolve(),o=new Bp,t.enqueueRetryable((function(){return r(n.currentUser)}))};var a=function(){var e=o;t.enqueueRetryable(Rt(It().mark((function t(){return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.promise;case 2:return t.next=4,r(n.currentUser);case 4:case"end":return t.stop()}}),t)}))))},s=function(t){Ep("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=t,n.auth.addAuthTokenListener(n.o),a()};this.t.onInit((function(t){return s(t)})),setTimeout((function(){if(!n.auth){var t=n.t.getImmediate({optional:!0});t?s(t):(Ep("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Bp)}}),0),a()}},{key:"getToken",value:function(){var t=this,e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.i!==e?(Ep("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Ap("string"==typeof n.accessToken),new Dp(n.accessToken,t.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var t=this.auth&&this.auth.getUid();return Ap(null===t||"string"==typeof t),new Sp(t)}}]),t}(),Fp=Su((function t(e,n,i){wu(this,t),this.type="FirstParty",this.user=Sp.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)})),zp=function(){function t(e,n,i){wu(this,t),this.h=e,this.l=n,this.m=i}return Su(t,[{key:"getToken",value:function(){return Promise.resolve(new Fp(this.h,this.l,this.m))}},{key:"start",value:function(t,e){t.enqueueRetryable((function(){return e(Sp.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),t}(),Vp=Su((function t(e){wu(this,t),this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Hp=function(){function t(e){wu(this,t),this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}return Su(t,[{key:"start",value:function(t,e){var n=this,i=function(t){null!=t.error&&Ep("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(t.error.message));var i=t.token!==n.p;return n.p=t.token,Ep("FirebaseAppCheckTokenProvider","Received ".concat(i?"new":"existing"," token.")),i?e(t.token):Promise.resolve()};this.o=function(e){t.enqueueRetryable((function(){return i(e)}))};var r=function(t){Ep("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=t,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(t){return r(t)})),setTimeout((function(){if(!n.appCheck){var t=n.g.getImmediate({optional:!0});t?r(t):Ep("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var t=this,e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((function(e){return e?(Ap("string"==typeof e.token),t.p=e.token,new Vp(e.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),t}();function Up(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}var Kp=function(){function t(){wu(this,t)}return Su(t,null,[{key:"I",value:function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var i=Up(40),r=0;r<i.length;++r)n.length<20&&i[r]<e&&(n+=t.charAt(i[r]%t.length));return n}}]),t}();function Zp(t,e){return t<e?-1:t>e?1:0}function qp(t,e,n){return t.length===e.length&&t.every((function(t,i){return n(t,e[i])}))}var Gp=function(){function t(e,n){if(wu(this,t),this.seconds=e,this.nanoseconds=n,n<0)throw new Rp(Np.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Rp(Np.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Rp(Np.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Rp(Np.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return Su(t,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(t){return this.seconds===t.seconds?Zp(this.nanoseconds,t.nanoseconds):Zp(this.seconds,t.seconds)}},{key:"isEqual",value:function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return t.fromMillis(Date.now())}},{key:"fromDate",value:function(e){return t.fromMillis(e.getTime())}},{key:"fromMillis",value:function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))}}]),t}(),Yp=function(){function t(e){wu(this,t),this.timestamp=e}return Su(t,[{key:"compareTo",value:function(t){return this.timestamp._compareTo(t.timestamp)}},{key:"isEqual",value:function(t){return this.timestamp.isEqual(t.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(e){return new t(e)}},{key:"min",value:function(){return new t(new Gp(0,0))}},{key:"max",value:function(){return new t(new Gp(253402300799,999999999))}}]),t}(),Qp=function(){function t(e,n,i){wu(this,t),void 0===n?n=0:n>e.length&&Lp(),void 0===i?i=e.length-n:i>e.length-n&&Lp(),this.segments=e,this.offset=n,this.len=i}return Su(t,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(e){return 0===t.comparator(this,e)}},{key:"child",value:function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(t){return this.segments[this.offset+t]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}},{key:"isImmediateParentOf",value:function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}},{key:"forEach",value:function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(t,e){for(var n=Math.min(t.length,e.length),i=0;i<n;i++){var r=t.get(i),o=e.get(i);if(r<o)return-1;if(r>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}]),t}(),$p=function(t){Nu(n,t);var e=ju(n);function n(){return wu(this,n),e.apply(this,arguments)}return Su(n,[{key:"construct",value:function(t,e,i){return new n(t,e,i)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var t=[],e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];for(var o=0,a=i;o<a.length;o++){var s=a[o];if(s.indexOf("//")>=0)throw new Rp(Np.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));t.push.apply(t,lt(s.split("/").filter((function(t){return t.length>0}))))}return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Qp),Xp=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Jp=function(t){Nu(n,t);var e=ju(n);function n(){return wu(this,n),e.apply(this,arguments)}return Su(n,[{key:"construct",value:function(t,e,i){return new n(t,e,i)}},{key:"canonicalString",value:function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(t){return Xp.test(t)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(t){for(var e=[],i="",r=0,o=function(){if(0===i.length)throw new Rp(Np.INVALID_ARGUMENT,"Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));e.push(i),i=""},a=!1;r<t.length;){var s=t[r];if("\\"===s){if(r+1===t.length)throw new Rp(Np.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[r+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Rp(Np.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=u,r+=2}else"`"===s?(a=!a,r++):"."!==s||a?(i+=s,r++):(o(),r++)}if(o(),a)throw new Rp(Np.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Qp),tv=function(){function t(e){wu(this,t),this.path=e}return Su(t,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(t){return null!==t&&0===$p.comparator(this.path,t.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(e){return new t($p.fromString(e))}},{key:"fromName",value:function(e){return new t($p.fromString(e).popFirst(5))}},{key:"empty",value:function(){return new t($p.emptyPath())}},{key:"comparator",value:function(t,e){return $p.comparator(t.path,e.path)}},{key:"isDocumentKey",value:function(t){return t.length%2==0}},{key:"fromSegments",value:function(e){return new t(new $p(e.slice()))}}]),t}(),ev=Su((function t(e,n,i,r){wu(this,t),this.indexId=e,this.collectionGroup=n,this.fields=i,this.indexState=r}));ev.UNKNOWN_ID=-1;function nv(t,e){var n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=Yp.fromTimestamp(1e9===i?new Gp(n+1,0):new Gp(n,i));return new rv(r,tv.empty(),e)}function iv(t){return new rv(t.readTime,t.key,-1)}var rv=function(){function t(e,n,i){wu(this,t),this.readTime=e,this.documentKey=n,this.largestBatchId=i}return Su(t,null,[{key:"min",value:function(){return new t(Yp.min(),tv.empty(),-1)}},{key:"max",value:function(){return new t(Yp.max(),tv.empty(),-1)}}]),t}();function ov(t,e){var n=t.readTime.compareTo(e.readTime);return 0!==n?n:0!==(n=tv.comparator(t.documentKey,e.documentKey))?n:Zp(t.largestBatchId,e.largestBatchId)}var av="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",sv=function(){function t(){wu(this,t),this.onCommittedListeners=[]}return Su(t,[{key:"addOnCommittedListener",value:function(t){this.onCommittedListeners.push(t)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(t){return t()}))}}]),t}();function uv(t){return cv.apply(this,arguments)}function cv(){return cv=Rt(It().mark((function t(e){return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.code===Np.FAILED_PRECONDITION&&e.message===av){t.next=2;break}throw e;case 2:Ep("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return t.stop()}}),t)}))),cv.apply(this,arguments)}var lv=function(){function t(e){var n=this;wu(this,t),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(t){n.isDone=!0,n.result=t,n.nextCallback&&n.nextCallback(t)}),(function(t){n.isDone=!0,n.error=t,n.catchCallback&&n.catchCallback(t)}))}return Su(t,[{key:"catch",value:function(t){return this.next(void 0,t)}},{key:"next",value:function(e,n){var i=this;return this.callbackAttached&&Lp(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,r){i.nextCallback=function(n){i.wrapSuccess(e,n).next(t,r)},i.catchCallback=function(e){i.wrapFailure(n,e).next(t,r)}}))}},{key:"toPromise",value:function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))}},{key:"wrapUserFunction",value:function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}}},{key:"wrapSuccess",value:function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)}},{key:"wrapFailure",value:function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)}}],[{key:"resolve",value:function(e){return new t((function(t,n){t(e)}))}},{key:"reject",value:function(e){return new t((function(t,n){n(e)}))}},{key:"waitFor",value:function(e){return new t((function(t,n){var i=0,r=0,o=!1;e.forEach((function(e){++i,e.next((function(){++r,o&&r===i&&t()}),(function(t){return n(t)}))})),o=!0,r===i&&t()}))}},{key:"or",value:function(e){var n,i=t.resolve(!1),r=a(e);try{var o=function(){var e=n.value;i=i.next((function(n){return n?t.resolve(n):e()}))};for(r.s();!(n=r.n()).done;)o()}catch(s){r.e(s)}finally{r.f()}return i}},{key:"forEach",value:function(t,e){var n=this,i=[];return t.forEach((function(t,r){i.push(e.call(n,t,r))})),this.waitFor(i)}},{key:"mapArray",value:function(e,n){return new t((function(t,i){for(var r=e.length,o=new Array(r),a=0,s=function(s){var u=s;n(e[u]).next((function(e){o[u]=e,++a===r&&t(o)}),(function(t){return i(t)}))},u=0;u<r;u++)s(u)}))}},{key:"doWhile",value:function(e,n){return new t((function(t,i){!function r(){!0===e()?n().next((function(){r()}),i):t()}()}))}}]),t}();function hv(t){return"IndexedDbTransactionError"===t.name}var fv=function(){function t(e,n){var i=this;wu(this,t),this.previousValue=e,n&&(n.sequenceNumberHandler=function(t){return i.it(t)},this.rt=function(t){return n.writeSequenceNumber(t)})}return Su(t,[{key:"it",value:function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}},{key:"next",value:function(){var t=++this.previousValue;return this.rt&&this.rt(t),t}}]),t}();function dv(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function pv(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function vv(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}fv.ot=-1;var gv=function(){function t(e,n){wu(this,t),this.comparator=e,this.root=n||yv.EMPTY}return Su(t,[{key:"insert",value:function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,yv.BLACK,null,null))}},{key:"remove",value:function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yv.BLACK,null,null))}},{key:"get",value:function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}},{key:"indexOf",value:function(t){for(var e=0,n=this.root;!n.isEmpty();){var i=this.comparator(t,n.key);if(0===i)return e+n.left.size;i<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(t){return this.root.inorderTraversal(t)}},{key:"forEach",value:function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))}},{key:"toString",value:function(){var t=[];return this.inorderTraversal((function(e,n){return t.push("".concat(e,":").concat(n)),!1})),"{".concat(t.join(", "),"}")}},{key:"reverseTraversal",value:function(t){return this.root.reverseTraversal(t)}},{key:"getIterator",value:function(){return new mv(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(t){return new mv(this.root,t,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new mv(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(t){return new mv(this.root,t,this.comparator,!0)}}]),t}(),mv=function(){function t(e,n,i,r){wu(this,t),this.isReverse=r,this.nodeStack=[];for(var o=1;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return Su(t,[{key:"getNext",value:function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}]),t}(),yv=function(){function t(e,n,i,r,o){wu(this,t),this.key=e,this.value=n,this.color=null!=i?i:t.RED,this.left=null!=r?r:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return Su(t,[{key:"copy",value:function(e,n,i,r,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=o?o:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}},{key:"reverseTraversal",value:function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(t,e,n){var i=this,r=n(t,i.key);return(i=r<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(e,n){var i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===n(e,r.key)){if(r.right.isEmpty())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}},{key:"moveRedLeft",value:function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t}},{key:"moveRedRight",value:function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t}},{key:"rotateLeft",value:function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}},{key:"rotateRight",value:function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}},{key:"colorFlip",value:function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}},{key:"checkMaxDepth",value:function(){var t=this.check();return Math.pow(2,t)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Lp();if(this.right.isRed())throw Lp();var t=this.left.check();if(t!==this.right.check())throw Lp();return t+(this.isRed()?0:1)}}]),t}();yv.EMPTY=null,yv.RED=!0,yv.BLACK=!1,yv.EMPTY=new(function(){function t(){wu(this,t),this.size=0}return Su(t,[{key:"key",get:function(){throw Lp()}},{key:"value",get:function(){throw Lp()}},{key:"color",get:function(){throw Lp()}},{key:"left",get:function(){throw Lp()}},{key:"right",get:function(){throw Lp()}},{key:"copy",value:function(t,e,n,i,r){return this}},{key:"insert",value:function(t,e,n){return new yv(t,e)}},{key:"remove",value:function(t,e){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(t){return!1}},{key:"reverseTraversal",value:function(t){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),t}());var _v=function(){function t(e){wu(this,t),this.comparator=e,this.data=new gv(this.comparator)}return Su(t,[{key:"has",value:function(t){return null!==this.data.get(t)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(t){return this.data.indexOf(t)}},{key:"forEach",value:function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))}},{key:"forEachInRange",value:function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}}},{key:"forEachWhile",value:function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}},{key:"getIterator",value:function(){return new kv(this.data.getIterator())}},{key:"getIteratorFrom",value:function(t){return new kv(this.data.getIteratorFrom(t))}},{key:"add",value:function(t){return this.copy(this.data.remove(t).insert(t,!0))}},{key:"delete",value:function(t){return this.has(t)?this.copy(this.data.remove(t)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e}},{key:"isEqual",value:function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),i=e.data.getIterator();n.hasNext();){var r=n.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}},{key:"toArray",value:function(){var t=[];return this.forEach((function(e){t.push(e)})),t}},{key:"toString",value:function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"}},{key:"copy",value:function(e){var n=new t(this.comparator);return n.data=e,n}}]),t}(),kv=function(){function t(e){wu(this,t),this.iter=e}return Su(t,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),t}();var wv=function(){function t(e){wu(this,t),this.fields=e,e.sort(Jp.comparator)}return Su(t,[{key:"unionWith",value:function(e){var n,i=new _v(Jp.comparator),r=a(this.fields);try{for(r.s();!(n=r.n()).done;){var o=n.value;i=i.add(o)}}catch(l){r.e(l)}finally{r.f()}var s,u=a(e);try{for(u.s();!(s=u.n()).done;){var c=s.value;i=i.add(c)}}catch(l){u.e(l)}finally{u.f()}return new t(i.toArray())}},{key:"covers",value:function(t){var e,n=a(this.fields);try{for(n.s();!(e=n.n()).done;){if(e.value.isPrefixOf(t))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"isEqual",value:function(t){return qp(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))}}],[{key:"empty",value:function(){return new t([])}}]),t}();var bv=function(t){function e(t){wu(this,e),this.binaryString=t}return Su(e,[{key:Symbol.iterator,value:function(){var t=this,e=0;return{next:function(){return e<t.binaryString.length?{value:t.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return t=this.binaryString,btoa(t);var t}},{key:"toUint8Array",value:function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(t){return Zp(this.binaryString,t.binaryString)}},{key:"isEqual",value:function(t){return this.binaryString===t.binaryString}}],[{key:"fromBase64String",value:function(t){return new e(atob(t))}},{key:"fromUint8Array",value:function(t){var n=function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t);return new e(n)}}]),e}();bv.EMPTY_BYTE_STRING=new bv("");var Sv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Tv(t){if(Ap(!!t),"string"==typeof t){var e=0,n=Sv.exec(t);if(Ap(!!n),n[1]){var i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}var r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xv(t.seconds),nanos:xv(t.nanos)}}function xv(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Cv(t){return"string"==typeof t?bv.fromBase64String(t):bv.fromUint8Array(t)}function Ev(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Mv(t){var e=t.mapValue.fields.__previous_value__;return Ev(e)?Mv(e):e}function Ov(t){var e=Tv(t.mapValue.fields.__local_write_time__.timestampValue);return new Gp(e.seconds,e.nanos)}var Pv=Su((function t(e,n,i,r,o,a,s,u){wu(this,t),this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.useFetchStreams=u})),Lv=function(){function t(e,n){wu(this,t),this.projectId=e,this.database=n||"(default)"}return Su(t,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}}],[{key:"empty",value:function(){return new t("","")}}]),t}();function Av(t){return null==t}function Iv(t){return 0===t&&1/t==-1/0}function Nv(t){return"number"==typeof t&&Number.isInteger(t)&&!Iv(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Rv={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Bv(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ev(t)?4:Qv(t)?9007199254740991:10:Lp()}function Dv(t,e){if(t===e)return!0;var n=Bv(t);if(n!==Bv(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ov(t).isEqual(Ov(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Tv(t.timestampValue),i=Tv(e.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Cv(t.bytesValue).isEqual(Cv(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return xv(t.geoPointValue.latitude)===xv(e.geoPointValue.latitude)&&xv(t.geoPointValue.longitude)===xv(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return xv(t.integerValue)===xv(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=xv(t.doubleValue),i=xv(e.doubleValue);return n===i?Iv(n)===Iv(i):isNaN(n)&&isNaN(i)}return!1}(t,e);case 9:return qp(t.arrayValue.values||[],e.arrayValue.values||[],Dv);case 10:return function(t,e){var n=t.mapValue.fields||{},i=e.mapValue.fields||{};if(dv(n)!==dv(i))return!1;for(var r in n)if(n.hasOwnProperty(r)&&(void 0===i[r]||!Dv(n[r],i[r])))return!1;return!0}(t,e);default:return Lp()}}function jv(t,e){return void 0!==(t.values||[]).find((function(t){return Dv(t,e)}))}function Wv(t,e){if(t===e)return 0;var n=Bv(t),i=Bv(e);if(n!==i)return Zp(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Zp(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=xv(t.integerValue||t.doubleValue),i=xv(e.integerValue||e.doubleValue);return n<i?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1}(t,e);case 3:return Fv(t.timestampValue,e.timestampValue);case 4:return Fv(Ov(t),Ov(e));case 5:return Zp(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Cv(t),i=Cv(e);return n.compareTo(i)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),i=e.split("/"),r=0;r<n.length&&r<i.length;r++){var o=Zp(n[r],i[r]);if(0!==o)return o}return Zp(n.length,i.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Zp(xv(t.latitude),xv(e.latitude));return 0!==n?n:Zp(xv(t.longitude),xv(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],i=e.values||[],r=0;r<n.length&&r<i.length;++r){var o=Wv(n[r],i[r]);if(o)return o}return Zp(n.length,i.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){if(t===Rv.mapValue&&e===Rv.mapValue)return 0;if(t===Rv.mapValue)return 1;if(e===Rv.mapValue)return-1;var n=t.fields||{},i=Object.keys(n),r=e.fields||{},o=Object.keys(r);i.sort(),o.sort();for(var a=0;a<i.length&&a<o.length;++a){var s=Zp(i[a],o[a]);if(0!==s)return s;var u=Wv(n[i[a]],r[o[a]]);if(0!==u)return u}return Zp(i.length,o.length)}(t.mapValue,e.mapValue);default:throw Lp()}}function Fv(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Zp(t,e);var n=Tv(t),i=Tv(e),r=Zp(n.seconds,i.seconds);return 0!==r?r:Zp(n.nanos,i.nanos)}function zv(t){return Vv(t)}function Vv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Tv(t);return"time(".concat(e.seconds,",").concat(e.nanos,")")}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Cv(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,tv.fromName(n).toString()):"geoPointValue"in t?"geo(".concat((e=t.geoPointValue).latitude,",").concat(e.longitude,")"):"arrayValue"in t?function(t){var e,n="[",i=!0,r=a(t.values||[]);try{for(r.s();!(e=r.n()).done;){var o=e.value;i?i=!1:n+=",",n+=Vv(o)}}catch(s){r.e(s)}finally{r.f()}return n+"]"}(t.arrayValue):"mapValue"in t?function(t){var e,n="{",i=!0,r=a(Object.keys(t.fields||{}).sort());try{for(r.s();!(e=r.n()).done;){var o=e.value;i?i=!1:n+=",",n+="".concat(o,":").concat(Vv(t.fields[o]))}}catch(s){r.e(s)}finally{r.f()}return n+"}"}(t.mapValue):Lp();var e,n}function Hv(t,e){return{referenceValue:"projects/".concat(t.projectId,"/databases/").concat(t.database,"/documents/").concat(e.path.canonicalString())}}function Uv(t){return!!t&&"integerValue"in t}function Kv(t){return!!t&&"arrayValue"in t}function Zv(t){return!!t&&"nullValue"in t}function qv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Gv(t){return!!t&&"mapValue"in t}function Yv(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return pv(t.mapValue.fields,(function(t,n){return e.mapValue.fields[t]=Yv(n)})),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},i=0;i<(t.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=Yv(t.arrayValue.values[i]);return n}return Object.assign({},t)}function Qv(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}var $v=function(){function t(e){wu(this,t),this.value=e}return Su(t,[{key:"field",value:function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!Gv(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null}},{key:"set",value:function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Yv(e)}},{key:"setAll",value:function(t){var e=this,n=Jp.emptyPath(),i={},r=[];t.forEach((function(t,o){if(!n.isImmediateParentOf(o)){var a=e.getFieldsMap(n);e.applyChanges(a,i,r),i={},r=[],n=o.popLast()}t?i[o.lastSegment()]=Yv(t):r.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,i,r)}},{key:"delete",value:function(t){var e=this.field(t.popLast());Gv(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}},{key:"isEqual",value:function(t){return Dv(this.value,t.value)}},{key:"getFieldsMap",value:function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var i=e.mapValue.fields[t.get(n)];Gv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=i),e=i}return e.mapValue.fields}},{key:"applyChanges",value:function(t,e,n){pv(e,(function(e,n){return t[e]=n}));var i,r=a(n);try{for(r.s();!(i=r.n()).done;){var o=i.value;delete t[o]}}catch(s){r.e(s)}finally{r.f()}}},{key:"clone",value:function(){return new t(Yv(this.value))}}],[{key:"empty",value:function(){return new t({mapValue:{}})}}]),t}();var Xv=function(){function t(e,n,i,r,o,a){wu(this,t),this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.data=o,this.documentState=a}return Su(t,[{key:"convertToFoundDocument",value:function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}},{key:"convertToNoDocument",value:function(t){return this.version=t,this.documentType=2,this.data=$v.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(t){return this.version=t,this.documentType=3,this.data=$v.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Yp.min(),this}},{key:"setReadTime",value:function(t){return this.readTime=t,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}},{key:"mutableCopy",value:function(){return new t(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(e){return new t(e,0,Yp.min(),Yp.min(),$v.empty(),0)}},{key:"newFoundDocument",value:function(e,n,i){return new t(e,1,n,Yp.min(),i,0)}},{key:"newNoDocument",value:function(e,n){return new t(e,2,n,Yp.min(),$v.empty(),0)}},{key:"newUnknownDocument",value:function(e,n){return new t(e,3,n,Yp.min(),$v.empty(),2)}}]),t}(),Jv=Su((function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;wu(this,t),this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=a,this.endAt=s,this.ut=null}));function tg(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Jv(t,e,n,i,r,o,a)}function eg(t){var e=Ip(t);if(null===e.ut){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return(e=t).field.canonicalString()+e.op.toString()+zv(e.value);var e})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.canonicalString()+t.dir}(t)})).join(","),Av(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((function(t){return zv(t)})).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((function(t){return zv(t)})).join(",")),e.ut=n}return e.ut}function ng(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!vg(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var i=0;i<t.filters.length;i++)if(r=t.filters[i],o=e.filters[i],r.op!==o.op||!r.field.isEqual(o.field)||!Dv(r.value,o.value))return!1;var r,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!mg(t.startAt,e.startAt)&&mg(t.endAt,e.endAt)}function ig(t){return tv.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var rg=function(t){Nu(n,t);var e=ju(n);function n(t,i,r){var o;return wu(this,n),(o=e.call(this)).field=t,o.op=i,o.value=r,o}return Su(n,[{key:"matches",value:function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.at(Wv(e,this.value)):null!==e&&Bv(this.value)===Bv(e)&&this.at(Wv(e,this.value))}},{key:"at",value:function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Lp()}}},{key:"ht",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.ct(t,e,i):new og(t,e,i):"array-contains"===e?new cg(t,i):"in"===e?new lg(t,i):"not-in"===e?new hg(t,i):"array-contains-any"===e?new fg(t,i):new n(t,e,i)}},{key:"ct",value:function(t,e,n){return"in"===e?new ag(t,n):new sg(t,n)}}]),n}(function(){return Su((function t(){wu(this,t)}))}()),og=function(t){Nu(n,t);var e=ju(n);function n(t,i,r){var o;return wu(this,n),(o=e.call(this,t,i,r)).key=tv.fromName(r.referenceValue),o}return Su(n,[{key:"matches",value:function(t){var e=tv.comparator(t.key,this.key);return this.at(e)}}]),n}(rg),ag=function(t){Nu(n,t);var e=ju(n);function n(t,i){var r;return wu(this,n),(r=e.call(this,t,"in",i)).keys=ug("in",i),r}return Su(n,[{key:"matches",value:function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))}}]),n}(rg),sg=function(t){Nu(n,t);var e=ju(n);function n(t,i){var r;return wu(this,n),(r=e.call(this,t,"not-in",i)).keys=ug("not-in",i),r}return Su(n,[{key:"matches",value:function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))}}]),n}(rg);function ug(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return tv.fromName(t.referenceValue)}))}var cg=function(t){Nu(n,t);var e=ju(n);function n(t,i){return wu(this,n),e.call(this,t,"array-contains",i)}return Su(n,[{key:"matches",value:function(t){var e=t.data.field(this.field);return Kv(e)&&jv(e.arrayValue,this.value)}}]),n}(rg),lg=function(t){Nu(n,t);var e=ju(n);function n(t,i){return wu(this,n),e.call(this,t,"in",i)}return Su(n,[{key:"matches",value:function(t){var e=t.data.field(this.field);return null!==e&&jv(this.value.arrayValue,e)}}]),n}(rg),hg=function(t){Nu(n,t);var e=ju(n);function n(t,i){return wu(this,n),e.call(this,t,"not-in",i)}return Su(n,[{key:"matches",value:function(t){if(jv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!jv(this.value.arrayValue,e)}}]),n}(rg),fg=function(t){Nu(n,t);var e=ju(n);function n(t,i){return wu(this,n),e.call(this,t,"array-contains-any",i)}return Su(n,[{key:"matches",value:function(t){var e=this,n=t.data.field(this.field);return!(!Kv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return jv(e.value.arrayValue,t)}))}}]),n}(rg),dg=Su((function t(e,n){wu(this,t),this.position=e,this.inclusive=n})),pg=Su((function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";wu(this,t),this.field=e,this.dir=n}));function vg(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function gg(t,e,n){for(var i=0,r=0;r<t.position.length;r++){var o=e[r],a=t.position[r];if(i=o.field.isKeyField()?tv.comparator(tv.fromName(a.referenceValue),n.key):Wv(a,n.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function mg(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Dv(t.position[n],e.position[n]))return!1;return!0}var yg=Su((function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;wu(this,t),this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=u,this.lt=null,this.ft=null,this.startAt,this.endAt}));function _g(t,e,n,i,r,o,a,s){return new yg(t,e,n,i,r,o,a,s)}function kg(t){return new yg(t)}function wg(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function bg(t){var e,n=a(t.filters);try{for(n.s();!(e=n.n()).done;){var i=e.value;if(i.ht())return i.field}}catch(r){n.e(r)}finally{n.f()}return null}function Sg(t){return null!==t.collectionGroup}function Tg(t){var e=Ip(t);if(null===e.lt){e.lt=[];var n=bg(e),i=wg(e);if(null!==n&&null===i)n.isKeyField()||e.lt.push(new pg(n)),e.lt.push(new pg(Jp.keyField(),"asc"));else{var r,o=!1,s=a(e.explicitOrderBy);try{for(s.s();!(r=s.n()).done;){var u=r.value;e.lt.push(u),u.field.isKeyField()&&(o=!0)}}catch(l){s.e(l)}finally{s.f()}if(!o){var c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new pg(Jp.keyField(),c))}}}return e.lt}function xg(t){var e=Ip(t);if(!e.ft)if("F"===e.limitType)e.ft=tg(e.path,e.collectionGroup,Tg(e),e.filters,e.limit,e.startAt,e.endAt);else{var n,i=[],r=a(Tg(e));try{for(r.s();!(n=r.n()).done;){var o=n.value,s="desc"===o.dir?"asc":"desc";i.push(new pg(o.field,s))}}catch(l){r.e(l)}finally{r.f()}var u=e.endAt?new dg(e.endAt.position,e.endAt.inclusive):null,c=e.startAt?new dg(e.startAt.position,e.startAt.inclusive):null;e.ft=tg(e.path,e.collectionGroup,i,e.filters,e.limit,u,c)}return e.ft}function Cg(t,e,n){return new yg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Eg(t,e){return ng(xg(t),xg(e))&&t.limitType===e.limitType}function Mg(t){return"".concat(eg(xg(t)),"|lt:").concat(t.limitType)}function Og(t){return"Query(target=".concat(function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: [".concat(t.filters.map((function(t){return"".concat((e=t).field.canonicalString()," ").concat(e.op," ").concat(zv(e.value));var e})).join(", "),"]")),Av(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: [".concat(t.orderBy.map((function(t){return function(t){return"".concat(t.field.canonicalString()," (").concat(t.dir,")")}(t)})).join(", "),"]")),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((function(t){return zv(t)})).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((function(t){return zv(t)})).join(",")),"Target(".concat(e,")")}(xg(t)),"; limitType=").concat(t.limitType,")")}function Pg(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):tv.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){var n,i=a(t.explicitOrderBy);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(!r.field.isKeyField()&&null===e.data.field(r.field))return!1}}catch(o){i.e(o)}finally{i.f()}return!0}(t,e)&&function(t,e){var n,i=a(t.filters);try{for(i.s();!(n=i.n()).done;){if(!n.value.matches(e))return!1}}catch(r){i.e(r)}finally{i.f()}return!0}(t,e)&&function(t,e){return!(t.startAt&&!function(t,e,n){var i=gg(t,e,n);return t.inclusive?i<=0:i<0}(t.startAt,Tg(t),e))&&!(t.endAt&&!function(t,e,n){var i=gg(t,e,n);return t.inclusive?i>=0:i>0}(t.endAt,Tg(t),e))}(t,e)}function Lg(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Ag(t){return function(e,n){var i,r=!1,o=a(Tg(t));try{for(o.s();!(i=o.n()).done;){var s=i.value,u=Ig(s,e,n);if(0!==u)return u;r=r||s.field.isKeyField()}}catch(c){o.e(c)}finally{o.f()}return 0}}function Ig(t,e,n){var i=t.field.isKeyField()?tv.comparator(e.key,n.key):function(t,e,n){var i=e.data.field(t),r=n.data.field(t);return null!==i&&null!==r?Wv(i,r):Lp()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Lp()}}function Ng(t,e){if(t.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Iv(e)?"-0":e}}function Rg(t){return{integerValue:""+t}}function Bg(t,e){return Nv(e)?Rg(e):Ng(t,e)}var Dg=Su((function t(){wu(this,t),this._=void 0}));function jg(t,e,n){return t instanceof zg?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Vg?Hg(t,e):t instanceof Ug?Kg(t,e):function(t,e){var n=Fg(t,e),i=qg(n)+qg(t._t);return Uv(n)&&Uv(t._t)?Rg(i):Ng(t.wt,i)}(t,e)}function Wg(t,e,n){return t instanceof Vg?Hg(t,e):t instanceof Ug?Kg(t,e):n}function Fg(t,e){return t instanceof Zg?Uv(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var zg=function(t){Nu(n,t);var e=ju(n);function n(){return wu(this,n),e.apply(this,arguments)}return Su(n)}(Dg),Vg=function(t){Nu(n,t);var e=ju(n);function n(t){var i;return wu(this,n),(i=e.call(this)).elements=t,i}return Su(n)}(Dg);function Hg(t,e){var n,i=Gg(e),r=a(t.elements);try{var o=function(){var t=n.value;i.some((function(e){return Dv(e,t)}))||i.push(t)};for(r.s();!(n=r.n()).done;)o()}catch(s){r.e(s)}finally{r.f()}return{arrayValue:{values:i}}}var Ug=function(t){Nu(n,t);var e=ju(n);function n(t){var i;return wu(this,n),(i=e.call(this)).elements=t,i}return Su(n)}(Dg);function Kg(t,e){var n,i=Gg(e),r=a(t.elements);try{var o=function(){var t=n.value;i=i.filter((function(e){return!Dv(e,t)}))};for(r.s();!(n=r.n()).done;)o()}catch(s){r.e(s)}finally{r.f()}return{arrayValue:{values:i}}}var Zg=function(t){Nu(n,t);var e=ju(n);function n(t,i){var r;return wu(this,n),(r=e.call(this)).wt=t,r._t=i,r}return Su(n)}(Dg);function qg(t){return xv(t.integerValue||t.doubleValue)}function Gg(t){return Kv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Yg=function(){function t(e,n){wu(this,t),this.updateTime=e,this.exists=n}return Su(t,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}],[{key:"none",value:function(){return new t}},{key:"exists",value:function(e){return new t(void 0,e)}},{key:"updateTime",value:function(e){return new t(e)}}]),t}();function Qg(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var $g=Su((function t(){wu(this,t)}));function Xg(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new cm(t.key,Yg.none()):new nm(t.key,t.data,Yg.none());var n,i=t.data,r=$v.empty(),o=new _v(Jp.comparator),s=a(e.fields);try{for(s.s();!(n=s.n()).done;){var u=n.value;if(!o.has(u)){var c=i.field(u);null===c&&u.length>1&&(u=u.popLast(),c=i.field(u)),null===c?r.delete(u):r.set(u,c),o=o.add(u)}}}catch(l){s.e(l)}finally{s.f()}return new im(t.key,r,new wv(o.toArray()),Yg.none())}function Jg(t,e,n){t instanceof nm?function(t,e,n){var i=t.value.clone(),r=om(t.fieldTransforms,e,n.transformResults);i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(t,e,n):t instanceof im?function(t,e,n){if(Qg(t.precondition,e)){var i=om(t.fieldTransforms,e,n.transformResults),r=e.data;r.setAll(rm(t)),r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function tm(t,e,n,i){return t instanceof nm?function(t,e,n,i){if(!Qg(t.precondition,e))return n;var r=t.value.clone(),o=am(t.fieldTransforms,i,e);return r.setAll(o),e.convertToFoundDocument(e.version,r).setHasLocalMutations(),null}(t,e,n,i):t instanceof im?function(t,e,n,i){if(!Qg(t.precondition,e))return n;var r=am(t.fieldTransforms,i,e),o=e.data;return o.setAll(rm(t)),o.setAll(r),e.convertToFoundDocument(e.version,o).setHasLocalMutations(),null===n?null:n.unionWith(t.fieldMask.fields).unionWith(t.fieldTransforms.map((function(t){return t.field})))}(t,e,n,i):function(t,e,n){return Qg(t.precondition,e)?(e.convertToNoDocument(e.version).setHasLocalMutations(),null):n}(t,e,n)}function em(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&qp(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Vg&&e instanceof Vg||t instanceof Ug&&e instanceof Ug?qp(t.elements,e.elements,Dv):t instanceof Zg&&e instanceof Zg?Dv(t._t,e._t):t instanceof zg&&e instanceof zg}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var nm=function(t){Nu(n,t);var e=ju(n);function n(t,i,r){var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return wu(this,n),(o=e.call(this)).key=t,o.value=i,o.precondition=r,o.fieldTransforms=a,o.type=0,o}return Su(n,[{key:"getFieldMask",value:function(){return null}}]),n}($g),im=function(t){Nu(n,t);var e=ju(n);function n(t,i,r,o){var a,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return wu(this,n),(a=e.call(this)).key=t,a.data=i,a.fieldMask=r,a.precondition=o,a.fieldTransforms=s,a.type=1,a}return Su(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}($g);function rm(t){var e=new Map;return t.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var i=t.data.field(n);e.set(n,i)}})),e}function om(t,e,n){var i=new Map;Ap(t.length===n.length);for(var r=0;r<n.length;r++){var o=t[r],a=o.transform,s=e.data.field(o.field);i.set(o.field,Wg(a,s,n[r]))}return i}function am(t,e,n){var i,r=new Map,o=a(t);try{for(o.s();!(i=o.n()).done;){var s=i.value,u=s.transform,c=n.data.field(s.field);r.set(s.field,jg(u,c,e))}}catch(l){o.e(l)}finally{o.f()}return r}var sm,um,cm=function(t){Nu(n,t);var e=ju(n);function n(t,i){var r;return wu(this,n),(r=e.call(this)).key=t,r.precondition=i,r.type=2,r.fieldTransforms=[],r}return Su(n,[{key:"getFieldMask",value:function(){return null}}]),n}($g),lm=Su((function t(e){wu(this,t),this.count=e}));function hm(t){if(void 0===t)return Mp("GRPC error has no .code"),Np.UNKNOWN;switch(t){case sm.OK:return Np.OK;case sm.CANCELLED:return Np.CANCELLED;case sm.UNKNOWN:return Np.UNKNOWN;case sm.DEADLINE_EXCEEDED:return Np.DEADLINE_EXCEEDED;case sm.RESOURCE_EXHAUSTED:return Np.RESOURCE_EXHAUSTED;case sm.INTERNAL:return Np.INTERNAL;case sm.UNAVAILABLE:return Np.UNAVAILABLE;case sm.UNAUTHENTICATED:return Np.UNAUTHENTICATED;case sm.INVALID_ARGUMENT:return Np.INVALID_ARGUMENT;case sm.NOT_FOUND:return Np.NOT_FOUND;case sm.ALREADY_EXISTS:return Np.ALREADY_EXISTS;case sm.PERMISSION_DENIED:return Np.PERMISSION_DENIED;case sm.FAILED_PRECONDITION:return Np.FAILED_PRECONDITION;case sm.ABORTED:return Np.ABORTED;case sm.OUT_OF_RANGE:return Np.OUT_OF_RANGE;case sm.UNIMPLEMENTED:return Np.UNIMPLEMENTED;case sm.DATA_LOSS:return Np.DATA_LOSS;default:return Lp()}}(um=sm||(sm={}))[um.OK=0]="OK",um[um.CANCELLED=1]="CANCELLED",um[um.UNKNOWN=2]="UNKNOWN",um[um.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",um[um.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",um[um.NOT_FOUND=5]="NOT_FOUND",um[um.ALREADY_EXISTS=6]="ALREADY_EXISTS",um[um.PERMISSION_DENIED=7]="PERMISSION_DENIED",um[um.UNAUTHENTICATED=16]="UNAUTHENTICATED",um[um.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",um[um.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",um[um.ABORTED=10]="ABORTED",um[um.OUT_OF_RANGE=11]="OUT_OF_RANGE",um[um.UNIMPLEMENTED=12]="UNIMPLEMENTED",um[um.INTERNAL=13]="INTERNAL",um[um.UNAVAILABLE=14]="UNAVAILABLE",um[um.DATA_LOSS=15]="DATA_LOSS";var fm=function(){function t(e,n){wu(this,t),this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}return Su(t,[{key:"get",value:function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n){var i,r=a(n);try{for(r.s();!(i=r.n()).done;){var o=s(i.value,2),u=o[0],c=o[1];if(this.equalsFn(u,t))return c}}catch(l){r.e(l)}finally{r.f()}}}},{key:"has",value:function(t){return void 0!==this.get(t)}},{key:"set",value:function(t,e){var n=this.mapKeyFn(t),i=this.inner[n];if(void 0===i)return this.inner[n]=[[t,e]],void this.innerSize++;for(var r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return void(i[r]=[t,e]);i.push([t,e]),this.innerSize++}},{key:"delete",value:function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return 1===n.length?delete this.inner[e]:n.splice(i,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(t){pv(this.inner,(function(e,n){var i,r=a(n);try{for(r.s();!(i=r.n()).done;){var o=s(i.value,2),u=o[0],c=o[1];t(u,c)}}catch(l){r.e(l)}finally{r.f()}}))}},{key:"isEmpty",value:function(){return vv(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),t}(),dm=new gv(tv.comparator);function pm(){return dm}var vm=new gv(tv.comparator);function gm(){for(var t=vm,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];for(var r=0,o=n;r<o.length;r++){var a=o[r];t=t.insert(a.key,a)}return t}function mm(t){var e=vm;return t.forEach((function(t,n){return e=e.insert(t,n.overlayedDocument)})),e}function ym(){return km()}function _m(){return km()}function km(){return new fm((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)}))}new gv(tv.comparator);var wm=new _v(tv.comparator);function bm(){for(var t=wm,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];for(var r=0,o=n;r<o.length;r++){var a=o[r];t=t.add(a)}return t}var Sm=new _v(Zp);function Tm(){return Sm}var xm=function(){function t(e,n,i,r,o){wu(this,t),this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}return Su(t,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(e,n){var i=new Map;return i.set(e,Cm.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Yp.min(),i,Tm(),pm(),bm())}}]),t}(),Cm=function(){function t(e,n,i,r,o){wu(this,t),this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}return Su(t,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(e,n){return new t(bv.EMPTY_BYTE_STRING,n,bm(),bm(),bm())}}]),t}(),Em=Su((function t(e,n,i,r){wu(this,t),this.gt=e,this.removedTargetIds=n,this.key=i,this.yt=r})),Mm=Su((function t(e,n){wu(this,t),this.targetId=e,this.It=n})),Om=Su((function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:bv.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;wu(this,t),this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r})),Pm=function(){function t(){wu(this,t),this.Tt=0,this.Et=Im(),this.At=bv.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}return Su(t,[{key:"current",get:function(){return this.Rt}},{key:"resumeToken",get:function(){return this.At}},{key:"Pt",get:function(){return 0!==this.Tt}},{key:"vt",get:function(){return this.bt}},{key:"Vt",value:function(t){t.approximateByteSize()>0&&(this.bt=!0,this.At=t)}},{key:"St",value:function(){var t=bm(),e=bm(),n=bm();return this.Et.forEach((function(i,r){switch(r){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:n=n.add(i);break;default:Lp()}})),new Cm(this.At,this.Rt,t,e,n)}},{key:"Dt",value:function(){this.bt=!1,this.Et=Im()}},{key:"Ct",value:function(t,e){this.bt=!0,this.Et=this.Et.insert(t,e)}},{key:"xt",value:function(t){this.bt=!0,this.Et=this.Et.remove(t)}},{key:"Nt",value:function(){this.Tt+=1}},{key:"kt",value:function(){this.Tt-=1}},{key:"Ot",value:function(){this.bt=!0,this.Rt=!0}}]),t}(),Lm=function(){function t(e){wu(this,t),this.Mt=e,this.Ft=new Map,this.$t=pm(),this.Bt=Am(),this.Lt=new _v(Zp)}return Su(t,[{key:"Ut",value:function(t){var e,n=a(t.gt);try{for(n.s();!(e=n.n()).done;){var i=e.value;t.yt&&t.yt.isFoundDocument()?this.qt(i,t.yt):this.Kt(i,t.key,t.yt)}}catch(u){n.e(u)}finally{n.f()}var r,o=a(t.removedTargetIds);try{for(o.s();!(r=o.n()).done;){var s=r.value;this.Kt(s,t.key,t.yt)}}catch(u){o.e(u)}finally{o.f()}}},{key:"Gt",value:function(t){var e=this;this.forEachTarget(t,(function(n){var i=e.Qt(n);switch(t.state){case 0:e.jt(n)&&i.Vt(t.resumeToken);break;case 1:i.kt(),i.Pt||i.Dt(),i.Vt(t.resumeToken);break;case 2:i.kt(),i.Pt||e.removeTarget(n);break;case 3:e.jt(n)&&(i.Ot(),i.Vt(t.resumeToken));break;case 4:e.jt(n)&&(e.Wt(n),i.Vt(t.resumeToken));break;default:Lp()}}))}},{key:"forEachTarget",value:function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Ft.forEach((function(t,i){n.jt(i)&&e(i)}))}},{key:"zt",value:function(t){var e=t.targetId,n=t.It.count,i=this.Ht(e);if(i){var r=i.target;if(ig(r))if(0===n){var o=new tv(r.path);this.Kt(e,o,Xv.newNoDocument(o,Yp.min()))}else Ap(1===n);else this.Jt(e)!==n&&(this.Wt(e),this.Lt=this.Lt.add(e))}}},{key:"Yt",value:function(t){var e=this,n=new Map;this.Ft.forEach((function(i,r){var o=e.Ht(r);if(o){if(i.current&&ig(o.target)){var a=new tv(o.target.path);null!==e.$t.get(a)||e.Xt(r,a)||e.Kt(r,a,Xv.newNoDocument(a,t))}i.vt&&(n.set(r,i.St()),i.Dt())}}));var i=bm();this.Bt.forEach((function(t,n){var r=!0;n.forEachWhile((function(t){var n=e.Ht(t);return!n||2===n.purpose||(r=!1,!1)})),r&&(i=i.add(t))})),this.$t.forEach((function(e,n){return n.setReadTime(t)}));var r=new xm(t,n,this.Lt,this.$t,i);return this.$t=pm(),this.Bt=Am(),this.Lt=new _v(Zp),r}},{key:"qt",value:function(t,e){if(this.jt(t)){var n=this.Xt(t,e.key)?2:0;this.Qt(t).Ct(e.key,n),this.$t=this.$t.insert(e.key,e),this.Bt=this.Bt.insert(e.key,this.Zt(e.key).add(t))}}},{key:"Kt",value:function(t,e,n){if(this.jt(t)){var i=this.Qt(t);this.Xt(t,e)?i.Ct(e,1):i.xt(e),this.Bt=this.Bt.insert(e,this.Zt(e).delete(t)),n&&(this.$t=this.$t.insert(e,n))}}},{key:"removeTarget",value:function(t){this.Ft.delete(t)}},{key:"Jt",value:function(t){var e=this.Qt(t).St();return this.Mt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}},{key:"Nt",value:function(t){this.Qt(t).Nt()}},{key:"Qt",value:function(t){var e=this.Ft.get(t);return e||(e=new Pm,this.Ft.set(t,e)),e}},{key:"Zt",value:function(t){var e=this.Bt.get(t);return e||(e=new _v(Zp),this.Bt=this.Bt.insert(t,e)),e}},{key:"jt",value:function(t){var e=null!==this.Ht(t);return e||Ep("WatchChangeAggregator","Detected inactive target",t),e}},{key:"Ht",value:function(t){var e=this.Ft.get(t);return e&&e.Pt?null:this.Mt.te(t)}},{key:"Wt",value:function(t){var e=this;this.Ft.set(t,new Pm),this.Mt.getRemoteKeysForTarget(t).forEach((function(n){e.Kt(t,n,null)}))}},{key:"Xt",value:function(t,e){return this.Mt.getRemoteKeysForTarget(t).has(e)}}]),t}();function Am(){return new gv(tv.comparator)}function Im(){return new gv(tv.comparator)}var Nm={asc:"ASCENDING",desc:"DESCENDING"},Rm={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Bm=Su((function t(e,n){wu(this,t),this.databaseId=e,this.dt=n}));function Dm(t,e){return t.dt?"".concat(new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+e.nanoseconds).slice(-9),"Z"):{seconds:""+e.seconds,nanos:e.nanoseconds}}function jm(t,e){return t.dt?e.toBase64():e.toUint8Array()}function Wm(t){return Ap(!!t),Yp.fromTimestamp(function(t){var e=Tv(t);return new Gp(e.seconds,e.nanos)}(t))}function Fm(t,e){return function(t){return new $p(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function zm(t){var e=$p.fromString(t);return Ap(iy(e)),e}function Vm(t,e){var n=zm(e);if(n.get(1)!==t.databaseId.projectId)throw new Rp(Np.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Rp(Np.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new tv(Zm(n))}function Hm(t,e){return Fm(t.databaseId,e)}function Um(t){var e=zm(t);return 4===e.length?$p.emptyPath():Zm(e)}function Km(t){return new $p(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Zm(t){return Ap(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function qm(t,e){return{documents:[Hm(t,e.path)]}}function Gm(t,e){var n={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(n.parent=Hm(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Hm(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);var r=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(qv(t.value))return{unaryFilter:{field:Jm(t.field),op:"IS_NAN"}};if(Zv(t.value))return{unaryFilter:{field:Jm(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(qv(t.value))return{unaryFilter:{field:Jm(t.field),op:"IS_NOT_NAN"}};if(Zv(t.value))return{unaryFilter:{field:Jm(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jm(t.field),op:Xm(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);r&&(n.structuredQuery.where=r);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:Jm(t.field),direction:$m(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a,s=function(t,e){return t.dt||Av(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(t){return{before:!t.inclusive,values:t.position}}(e.endAt)),n}function Ym(t){var e=Um(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){Ap(1===i);var o=n.from[0];o.allDescendants?r=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=Qm(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(t){return function(t){return new pg(ty(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return Av(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=function(t){var e=!!t.before,n=t.values||[];return new dg(n,e)}(n.startAt));var l=null;return n.endAt&&(l=function(t){var e=!t.before,n=t.values||[];return new dg(n,e)}(n.endAt)),_g(e,r,s,a,u,"F",c,l)}function Qm(t){return t?void 0!==t.unaryFilter?[ny(t)]:void 0!==t.fieldFilter?[ey(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return Qm(t)})).reduce((function(t,e){return t.concat(e)})):Lp():[]}function $m(t){return Nm[t]}function Xm(t){return Rm[t]}function Jm(t){return{fieldPath:t.canonicalString()}}function ty(t){return Jp.fromServerFormat(t.fieldPath)}function ey(t){return rg.create(ty(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Lp()}}(t.fieldFilter.op),t.fieldFilter.value)}function ny(t){switch(t.unaryFilter.op){case"IS_NAN":var e=ty(t.unaryFilter.field);return rg.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=ty(t.unaryFilter.field);return rg.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var i=ty(t.unaryFilter.field);return rg.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var r=ty(t.unaryFilter.field);return rg.create(r,"!=",{nullValue:"NULL_VALUE"});default:return Lp()}}function iy(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var ry=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),oy=([].concat(lt(ry),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),ay=oy;[].concat(ay,["indexConfiguration","indexState","indexEntries"]);var sy=function(){function t(e,n,i,r){wu(this,t),this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}return Su(t,[{key:"applyToRemoteDocument",value:function(t,e){for(var n=e.mutationResults,i=0;i<this.mutations.length;i++){var r=this.mutations[i];r.key.isEqual(t.key)&&Jg(r,t,n[i])}}},{key:"applyToLocalView",value:function(t,e){var n,i=a(this.baseMutations);try{for(i.s();!(n=i.n()).done;){var r=n.value;r.key.isEqual(t.key)&&(e=tm(r,t,e,this.localWriteTime))}}catch(c){i.e(c)}finally{i.f()}var o,s=a(this.mutations);try{for(s.s();!(o=s.n()).done;){var u=o.value;u.key.isEqual(t.key)&&(e=tm(u,t,e,this.localWriteTime))}}catch(c){s.e(c)}finally{s.f()}return e}},{key:"applyToLocalDocumentSet",value:function(t,e){var n=this,i=_m();return this.mutations.forEach((function(r){var o=t.get(r.key),a=o.overlayedDocument,s=n.applyToLocalView(a,o.mutatedFields),u=Xg(a,s=e.has(r.key)?null:s);null!==u&&i.set(r.key,u),a.isValidDocument()||a.convertToNoDocument(Yp.min())})),i}},{key:"keys",value:function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),bm())}},{key:"isEqual",value:function(t){return this.batchId===t.batchId&&qp(this.mutations,t.mutations,(function(t,e){return em(t,e)}))&&qp(this.baseMutations,t.baseMutations,(function(t,e){return em(t,e)}))}}]),t}(),uy=function(){function t(e,n){wu(this,t),this.largestBatchId=e,this.mutation=n}return Su(t,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(t){return null!==t&&this.mutation===t.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),t}(),cy=function(){function t(e,n,i,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Yp.min(),a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Yp.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:bv.EMPTY_BYTE_STRING;wu(this,t),this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s}return Su(t,[{key:"withSequenceNumber",value:function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}},{key:"withLastLimboFreeSnapshotVersion",value:function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}]),t}(),ly=Su((function t(e){wu(this,t),this.ne=e}));function hy(t){var e=Ym({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Cg(e,e.limit,"L"):e}var fy=function(){function t(){wu(this,t)}return Su(t,[{key:"re",value:function(t,e){this.oe(t,e),e.ue()}},{key:"oe",value:function(t,e){if("nullValue"in t)this.ce(e,5);else if("booleanValue"in t)this.ce(e,10),e.ae(t.booleanValue?1:0);else if("integerValue"in t)this.ce(e,15),e.ae(xv(t.integerValue));else if("doubleValue"in t){var n=xv(t.doubleValue);isNaN(n)?this.ce(e,13):(this.ce(e,15),Iv(n)?e.ae(0):e.ae(n))}else if("timestampValue"in t){var i=t.timestampValue;this.ce(e,20),"string"==typeof i?e.he(i):(e.he("".concat(i.seconds||"")),e.ae(i.nanos||0))}else if("stringValue"in t)this.le(t.stringValue,e),this.fe(e);else if("bytesValue"in t)this.ce(e,30),e.de(Cv(t.bytesValue)),this.fe(e);else if("referenceValue"in t)this._e(t.referenceValue,e);else if("geoPointValue"in t){var r=t.geoPointValue;this.ce(e,45),e.ae(r.latitude||0),e.ae(r.longitude||0)}else"mapValue"in t?Qv(t)?this.ce(e,Number.MAX_SAFE_INTEGER):(this.we(t.mapValue,e),this.fe(e)):"arrayValue"in t?(this.me(t.arrayValue,e),this.fe(e)):Lp()}},{key:"le",value:function(t,e){this.ce(e,25),this.ge(t,e)}},{key:"ge",value:function(t,e){e.he(t)}},{key:"we",value:function(t,e){var n=t.fields||{};this.ce(e,55);for(var i=0,r=Object.keys(n);i<r.length;i++){var o=r[i];this.le(o,e),this.oe(n[o],e)}}},{key:"me",value:function(t,e){var n=t.values||[];this.ce(e,50);var i,r=a(n);try{for(r.s();!(i=r.n()).done;){var o=i.value;this.oe(o,e)}}catch(s){r.e(s)}finally{r.f()}}},{key:"_e",value:function(t,e){var n=this;this.ce(e,37),tv.fromName(t).path.forEach((function(t){n.ce(e,60),n.ge(t,e)}))}},{key:"ce",value:function(t,e){t.ae(e)}},{key:"fe",value:function(t){t.ae(2)}}]),t}();fy.ye=new fy;var dy=function(){function t(){wu(this,t),this.ze=new py}return Su(t,[{key:"addToCollectionParentIndex",value:function(t,e){return this.ze.add(e),lv.resolve()}},{key:"getCollectionParents",value:function(t,e){return lv.resolve(this.ze.getEntries(e))}},{key:"addFieldIndex",value:function(t,e){return lv.resolve()}},{key:"deleteFieldIndex",value:function(t,e){return lv.resolve()}},{key:"getDocumentsMatchingTarget",value:function(t,e){return lv.resolve(null)}},{key:"getIndexType",value:function(t,e){return lv.resolve(0)}},{key:"getFieldIndexes",value:function(t,e){return lv.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(t){return lv.resolve(null)}},{key:"getMinOffset",value:function(t,e){return lv.resolve(rv.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(t,e){return lv.resolve(rv.min())}},{key:"updateCollectionGroup",value:function(t,e,n){return lv.resolve()}},{key:"updateIndexEntries",value:function(t,e){return lv.resolve()}}]),t}(),py=function(){function t(){wu(this,t),this.index={}}return Su(t,[{key:"add",value:function(t){var e=t.lastSegment(),n=t.popLast(),i=this.index[e]||new _v($p.comparator),r=!i.has(n);return this.index[e]=i.add(n),r}},{key:"has",value:function(t){var e=t.lastSegment(),n=t.popLast(),i=this.index[e];return i&&i.has(n)}},{key:"getEntries",value:function(t){return(this.index[t]||new _v($p.comparator)).toArray()}}]),t}();new Uint8Array(0);var vy=function(){function t(e,n,i){wu(this,t),this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}return Su(t,null,[{key:"withCacheSize",value:function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),t}();vy.DEFAULT_COLLECTION_PERCENTILE=10,vy.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vy.DEFAULT=new vy(41943040,vy.DEFAULT_COLLECTION_PERCENTILE,vy.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vy.DISABLED=new vy(-1,0,0);var gy=function(){function t(e){wu(this,t),this.En=e}return Su(t,[{key:"next",value:function(){return this.En+=2,this.En}}],[{key:"An",value:function(){return new t(0)}},{key:"Rn",value:function(){return new t(-1)}}]),t}();var my=function(){function t(){wu(this,t),this.changes=new fm((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return Su(t,[{key:"addEntry",value:function(t){this.assertNotApplied(),this.changes.set(t.key,t)}},{key:"removeEntry",value:function(t,e){this.assertNotApplied(),this.changes.set(t,Xv.newInvalidDocument(t).setReadTime(e))}},{key:"getEntry",value:function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?lv.resolve(n):this.getFromCache(t,e)}},{key:"getEntries",value:function(t,e){return this.getAllFromCache(t,e)}},{key:"apply",value:function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}},{key:"assertNotApplied",value:function(){}}]),t}();var yy=Su((function t(e,n){wu(this,t),this.overlayedDocument=e,this.mutatedFields=n})),_y=function(){function t(e,n,i,r){wu(this,t),this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}return Su(t,[{key:"getDocument",value:function(t,e){var n=this,i=null;return this.documentOverlayCache.getOverlay(t,e).next((function(r){return i=r,n.getBaseDocument(t,e,i)})).next((function(t){return null!==i&&tm(i.mutation,t,wv.empty(),Gp.now()),t}))}},{key:"getDocuments",value:function(t,e){var n=this;return this.remoteDocumentCache.getEntries(t,e).next((function(e){return n.getLocalViewOfDocuments(t,e,bm()).next((function(){return e}))}))}},{key:"getLocalViewOfDocuments",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:bm(),r=ym();return this.populateOverlays(t,r,e).next((function(){return n.computeViews(t,e,r,i).next((function(t){var e=gm();return t.forEach((function(t,n){e=e.insert(t,n.overlayedDocument)})),e}))}))}},{key:"getOverlayedDocuments",value:function(t,e){var n=this,i=ym();return this.populateOverlays(t,i,e).next((function(){return n.computeViews(t,e,i,bm())}))}},{key:"populateOverlays",value:function(t,e,n){var i=[];return n.forEach((function(t){e.has(t)||i.push(t)})),this.documentOverlayCache.getOverlays(t,i).next((function(t){t.forEach((function(t,n){e.set(t,n)}))}))}},{key:"computeViews",value:function(t,e,n,i){var r=pm(),o=km(),a=km();return e.forEach((function(t,e){var a=n.get(e.key);i.has(e.key)&&(void 0===a||a.mutation instanceof im)?r=r.insert(e.key,e):void 0!==a&&(o.set(e.key,a.mutation.getFieldMask()),tm(a.mutation,e,a.mutation.getFieldMask(),Gp.now()))})),this.recalculateAndSaveOverlays(t,r).next((function(t){return t.forEach((function(t,e){return o.set(t,e)})),e.forEach((function(t,e){var n;return a.set(t,new yy(e,null!==(n=o.get(t))&&void 0!==n?n:null))})),a}))}},{key:"recalculateAndSaveOverlays",value:function(t,e){var n=this,i=km(),r=new gv((function(t,e){return t-e})),o=bm();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(t){var n,o=a(t);try{var s=function(){var t=n.value;t.keys().forEach((function(n){var o=e.get(n);if(null!==o){var a=i.get(n)||wv.empty();a=t.applyToLocalView(o,a),i.set(n,a);var s=(r.get(t.batchId)||bm()).add(n);r=r.insert(t.batchId,s)}}))};for(o.s();!(n=o.n()).done;)s()}catch(u){o.e(u)}finally{o.f()}})).next((function(){for(var a=[],s=r.getReverseIterator(),u=function(){var r=s.getNext(),u=r.key,c=r.value,l=_m();c.forEach((function(t){if(!o.has(t)){var n=Xg(e.get(t),i.get(t));null!==n&&l.set(t,n),o=o.add(t)}})),a.push(n.documentOverlayCache.saveOverlays(t,u,l))};s.hasNext();)u();return lv.waitFor(a)})).next((function(){return i}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(t,e){var n=this;return this.remoteDocumentCache.getEntries(t,e).next((function(e){return n.recalculateAndSaveOverlays(t,e)}))}},{key:"getDocumentsMatchingQuery",value:function(t,e,n){return function(t){return tv.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):Sg(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,n):this.getDocumentsMatchingCollectionQuery(t,e,n)}},{key:"getNextDocuments",value:function(t,e,n,i){var r=this;return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,n,i).next((function(o){var a=i-o.size>0?r.documentOverlayCache.getOverlaysForCollectionGroup(t,e,n.largestBatchId,i-o.size):lv.resolve(ym()),s=-1,u=o;return a.next((function(e){return lv.forEach(e,(function(e,n){return s<n.largestBatchId&&(s=n.largestBatchId),o.get(e)?lv.resolve():r.getBaseDocument(t,e,n).next((function(t){u=u.insert(e,t)}))})).next((function(){return r.populateOverlays(t,e,o)})).next((function(){return r.computeViews(t,u,e,bm())})).next((function(t){return{batchId:s,changes:mm(t)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(t,e){return this.getDocument(t,new tv(e)).next((function(t){var e=gm();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(t,e,n){var i=this,r=e.collectionGroup,o=gm();return this.indexManager.getCollectionParents(t,r).next((function(a){return lv.forEach(a,(function(a){var s=function(t,e){return new yg(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(r));return i.getDocumentsMatchingCollectionQuery(t,s,n).next((function(t){t.forEach((function(t,e){o=o.insert(t,e)}))}))})).next((function(){return o}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(t,e,n){var i,r=this;return this.remoteDocumentCache.getAllFromCollection(t,e.path,n).next((function(o){return i=o,r.documentOverlayCache.getOverlaysForCollection(t,e.path,n.largestBatchId)})).next((function(t){t.forEach((function(t,e){var n=e.getKey();null===i.get(n)&&(i=i.insert(n,Xv.newInvalidDocument(n)))}));var n=gm();return i.forEach((function(i,r){var o=t.get(i);void 0!==o&&tm(o.mutation,r,wv.empty(),Gp.now()),Pg(e,r)&&(n=n.insert(i,r))})),n}))}},{key:"getBaseDocument",value:function(t,e,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(t,e):lv.resolve(Xv.newInvalidDocument(e))}}]),t}(),ky=function(){function t(e){wu(this,t),this.wt=e,this.Jn=new Map,this.Yn=new Map}return Su(t,[{key:"getBundleMetadata",value:function(t,e){return lv.resolve(this.Jn.get(e))}},{key:"saveBundleMetadata",value:function(t,e){var n;return this.Jn.set(e.id,{id:(n=e).id,version:n.version,createTime:Wm(n.createTime)}),lv.resolve()}},{key:"getNamedQuery",value:function(t,e){return lv.resolve(this.Yn.get(e))}},{key:"saveNamedQuery",value:function(t,e){return this.Yn.set(e.name,function(t){return{name:t.name,query:hy(t.bundledQuery),readTime:Wm(t.readTime)}}(e)),lv.resolve()}}]),t}(),wy=function(){function t(){wu(this,t),this.overlays=new gv(tv.comparator),this.Xn=new Map}return Su(t,[{key:"getOverlay",value:function(t,e){return lv.resolve(this.overlays.get(e))}},{key:"getOverlays",value:function(t,e){var n=this,i=ym();return lv.forEach(e,(function(e){return n.getOverlay(t,e).next((function(t){null!==t&&i.set(e,t)}))})).next((function(){return i}))}},{key:"saveOverlays",value:function(t,e,n){var i=this;return n.forEach((function(n,r){i.ie(t,e,r)})),lv.resolve()}},{key:"removeOverlaysForBatchId",value:function(t,e,n){var i=this,r=this.Xn.get(n);return void 0!==r&&(r.forEach((function(t){return i.overlays=i.overlays.remove(t)})),this.Xn.delete(n)),lv.resolve()}},{key:"getOverlaysForCollection",value:function(t,e,n){for(var i=ym(),r=e.length+1,o=new tv(e.child("")),a=this.overlays.getIteratorFrom(o);a.hasNext();){var s=a.getNext().value,u=s.getKey();if(!e.isPrefixOf(u.path))break;u.path.length===r&&s.largestBatchId>n&&i.set(s.getKey(),s)}return lv.resolve(i)}},{key:"getOverlaysForCollectionGroup",value:function(t,e,n,i){for(var r=new gv((function(t,e){return t-e})),o=this.overlays.getIterator();o.hasNext();){var a=o.getNext().value;if(a.getKey().getCollectionGroup()===e&&a.largestBatchId>n){var s=r.get(a.largestBatchId);null===s&&(s=ym(),r=r.insert(a.largestBatchId,s)),s.set(a.getKey(),a)}}for(var u=ym(),c=r.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(t,e){return u.set(t,e)})),!(u.size()>=i)););return lv.resolve(u)}},{key:"ie",value:function(t,e,n){var i=this.overlays.get(n.key);if(null!==i){var r=this.Xn.get(i.largestBatchId).delete(n.key);this.Xn.set(i.largestBatchId,r)}this.overlays=this.overlays.insert(n.key,new uy(e,n));var o=this.Xn.get(e);void 0===o&&(o=bm(),this.Xn.set(e,o)),this.Xn.set(e,o.add(n.key))}}]),t}(),by=function(){function t(){wu(this,t),this.Zn=new _v(Sy.ts),this.es=new _v(Sy.ns)}return Su(t,[{key:"isEmpty",value:function(){return this.Zn.isEmpty()}},{key:"addReference",value:function(t,e){var n=new Sy(t,e);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}},{key:"ss",value:function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))}},{key:"removeReference",value:function(t,e){this.rs(new Sy(t,e))}},{key:"os",value:function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))}},{key:"us",value:function(t){var e=this,n=new tv(new $p([])),i=new Sy(n,t),r=new Sy(n,t+1),o=[];return this.es.forEachInRange([i,r],(function(t){e.rs(t),o.push(t.key)})),o}},{key:"cs",value:function(){var t=this;this.Zn.forEach((function(e){return t.rs(e)}))}},{key:"rs",value:function(t){this.Zn=this.Zn.delete(t),this.es=this.es.delete(t)}},{key:"hs",value:function(t){var e=new tv(new $p([])),n=new Sy(e,t),i=new Sy(e,t+1),r=bm();return this.es.forEachInRange([n,i],(function(t){r=r.add(t.key)})),r}},{key:"containsKey",value:function(t){var e=new Sy(t,0),n=this.Zn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)}}]),t}(),Sy=function(){function t(e,n){wu(this,t),this.key=e,this.ls=n}return Su(t,null,[{key:"ts",value:function(t,e){return tv.comparator(t.key,e.key)||Zp(t.ls,e.ls)}},{key:"ns",value:function(t,e){return Zp(t.ls,e.ls)||tv.comparator(t.key,e.key)}}]),t}(),Ty=function(){function t(e,n){wu(this,t),this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.fs=1,this.ds=new _v(Sy.ts)}return Su(t,[{key:"checkEmpty",value:function(t){return lv.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(t,e,n,i){var r=this.fs;this.fs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var o=new sy(r,e,n,i);this.mutationQueue.push(o);var s,u=a(i);try{for(u.s();!(s=u.n()).done;){var c=s.value;this.ds=this.ds.add(new Sy(c.key,r)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast())}}catch(l){u.e(l)}finally{u.f()}return lv.resolve(o)}},{key:"lookupMutationBatch",value:function(t,e){return lv.resolve(this._s(e))}},{key:"getNextMutationBatchAfterBatchId",value:function(t,e){var n=e+1,i=this.ws(n),r=i<0?0:i;return lv.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return lv.resolve(0===this.mutationQueue.length?-1:this.fs-1)}},{key:"getAllMutationBatches",value:function(t){return lv.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(t,e){var n=this,i=new Sy(e,0),r=new Sy(e,Number.POSITIVE_INFINITY),o=[];return this.ds.forEachInRange([i,r],(function(t){var e=n._s(t.ls);o.push(e)})),lv.resolve(o)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(t,e){var n=this,i=new _v(Zp);return e.forEach((function(t){var e=new Sy(t,0),r=new Sy(t,Number.POSITIVE_INFINITY);n.ds.forEachInRange([e,r],(function(t){i=i.add(t.ls)}))})),lv.resolve(this.gs(i))}},{key:"getAllMutationBatchesAffectingQuery",value:function(t,e){var n=e.path,i=n.length+1,r=n;tv.isDocumentKey(r)||(r=r.child(""));var o=new Sy(new tv(r),0),a=new _v(Zp);return this.ds.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===i&&(a=a.add(t.ls)),!0)}),o),lv.resolve(this.gs(a))}},{key:"gs",value:function(t){var e=this,n=[];return t.forEach((function(t){var i=e._s(t);null!==i&&n.push(i)})),n}},{key:"removeMutationBatch",value:function(t,e){var n=this;Ap(0===this.ys(e.batchId,"removed")),this.mutationQueue.shift();var i=this.ds;return lv.forEach(e.mutations,(function(r){var o=new Sy(r.key,e.batchId);return i=i.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,r.key)})).next((function(){n.ds=i}))}},{key:"In",value:function(t){}},{key:"containsKey",value:function(t,e){var n=new Sy(e,0),i=this.ds.firstAfterOrEqual(n);return lv.resolve(e.isEqual(i&&i.key))}},{key:"performConsistencyCheck",value:function(t){return this.mutationQueue.length,lv.resolve()}},{key:"ys",value:function(t,e){return this.ws(t)}},{key:"ws",value:function(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}},{key:"_s",value:function(t){var e=this.ws(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}]),t}(),xy=function(){function t(e){wu(this,t),this.ps=e,this.docs=new gv(tv.comparator),this.size=0}return Su(t,[{key:"setIndexManager",value:function(t){this.indexManager=t}},{key:"addEntry",value:function(t,e){var n=e.key,i=this.docs.get(n),r=i?i.size:0,o=this.ps(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:o}),this.size+=o-r,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}},{key:"removeEntry",value:function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}},{key:"getEntry",value:function(t,e){var n=this.docs.get(e);return lv.resolve(n?n.document.mutableCopy():Xv.newInvalidDocument(e))}},{key:"getEntries",value:function(t,e){var n=this,i=pm();return e.forEach((function(t){var e=n.docs.get(t);i=i.insert(t,e?e.document.mutableCopy():Xv.newInvalidDocument(t))})),lv.resolve(i)}},{key:"getAllFromCollection",value:function(t,e,n){for(var i=pm(),r=new tv(e.child("")),o=this.docs.getIteratorFrom(r);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value.document;if(!e.isPrefixOf(s.path))break;s.path.length>e.length+1||ov(iv(u),n)<=0||(i=i.insert(u.key,u.mutableCopy()))}return lv.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(t,e,n,i){Lp()}},{key:"Is",value:function(t,e){return lv.forEach(this.docs,(function(t){return e(t)}))}},{key:"newChangeBuffer",value:function(t){return new Cy(this)}},{key:"getSize",value:function(t){return lv.resolve(this.size)}}]),t}(),Cy=function(t){Nu(n,t);var e=ju(n);function n(t){var i;return wu(this,n),(i=e.call(this)).zn=t,i}return Su(n,[{key:"applyChanges",value:function(t){var e=this,n=[];return this.changes.forEach((function(i,r){r.isValidDocument()?n.push(e.zn.addEntry(t,r)):e.zn.removeEntry(i)})),lv.waitFor(n)}},{key:"getFromCache",value:function(t,e){return this.zn.getEntry(t,e)}},{key:"getAllFromCache",value:function(t,e){return this.zn.getEntries(t,e)}}]),n}(my),Ey=function(){function t(e){wu(this,t),this.persistence=e,this.Ts=new fm((function(t){return eg(t)}),ng),this.lastRemoteSnapshotVersion=Yp.min(),this.highestTargetId=0,this.Es=0,this.As=new by,this.targetCount=0,this.Rs=gy.An()}return Su(t,[{key:"forEachTarget",value:function(t,e){return this.Ts.forEach((function(t,n){return e(n)})),lv.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(t){return lv.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(t){return lv.resolve(this.Es)}},{key:"allocateTargetId",value:function(t){return this.highestTargetId=this.Rs.next(),lv.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Es&&(this.Es=e),lv.resolve()}},{key:"vn",value:function(t){this.Ts.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Rs=new gy(e),this.highestTargetId=e),t.sequenceNumber>this.Es&&(this.Es=t.sequenceNumber)}},{key:"addTargetData",value:function(t,e){return this.vn(e),this.targetCount+=1,lv.resolve()}},{key:"updateTargetData",value:function(t,e){return this.vn(e),lv.resolve()}},{key:"removeTargetData",value:function(t,e){return this.Ts.delete(e.target),this.As.us(e.targetId),this.targetCount-=1,lv.resolve()}},{key:"removeTargets",value:function(t,e,n){var i=this,r=0,o=[];return this.Ts.forEach((function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(i.Ts.delete(a),o.push(i.removeMatchingKeysForTargetId(t,s.targetId)),r++)})),lv.waitFor(o).next((function(){return r}))}},{key:"getTargetCount",value:function(t){return lv.resolve(this.targetCount)}},{key:"getTargetData",value:function(t,e){var n=this.Ts.get(e)||null;return lv.resolve(n)}},{key:"addMatchingKeys",value:function(t,e,n){return this.As.ss(e,n),lv.resolve()}},{key:"removeMatchingKeys",value:function(t,e,n){this.As.os(e,n);var i=this.persistence.referenceDelegate,r=[];return i&&e.forEach((function(e){r.push(i.markPotentiallyOrphaned(t,e))})),lv.waitFor(r)}},{key:"removeMatchingKeysForTargetId",value:function(t,e){return this.As.us(e),lv.resolve()}},{key:"getMatchingKeysForTargetId",value:function(t,e){var n=this.As.hs(e);return lv.resolve(n)}},{key:"containsKey",value:function(t,e){return lv.resolve(this.As.containsKey(e))}}]),t}(),My=function(){function t(e,n){var i=this;wu(this,t),this.bs={},this.overlays={},this.Ps=new fv(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new Ey(this),this.indexManager=new dy,this.remoteDocumentCache=new xy((function(t){return i.referenceDelegate.Ss(t)})),this.wt=new ly(n),this.Ds=new ky(this.wt)}return Su(t,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.vs=!1,Promise.resolve()}},{key:"started",get:function(){return this.vs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(t){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(t){var e=this.overlays[t.toKey()];return e||(e=new wy,this.overlays[t.toKey()]=e),e}},{key:"getMutationQueue",value:function(t,e){var n=this.bs[t.toKey()];return n||(n=new Ty(e,this.referenceDelegate),this.bs[t.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(t,e,n){var i=this;Ep("MemoryPersistence","Starting transaction:",t);var r=new Oy(this.Ps.next());return this.referenceDelegate.Cs(),n(r).next((function(t){return i.referenceDelegate.xs(r).next((function(){return t}))})).toPromise().then((function(t){return r.raiseOnCommittedEvent(),t}))}},{key:"Ns",value:function(t,e){return lv.or(Object.values(this.bs).map((function(n){return function(){return n.containsKey(t,e)}})))}}]),t}(),Oy=function(t){Nu(n,t);var e=ju(n);function n(t){var i;return wu(this,n),(i=e.call(this)).currentSequenceNumber=t,i}return Su(n)}(sv),Py=function(){function t(e){wu(this,t),this.persistence=e,this.ks=new by,this.Os=null}return Su(t,[{key:"Fs",get:function(){if(this.Os)return this.Os;throw Lp()}},{key:"addReference",value:function(t,e,n){return this.ks.addReference(n,e),this.Fs.delete(n.toString()),lv.resolve()}},{key:"removeReference",value:function(t,e,n){return this.ks.removeReference(n,e),this.Fs.add(n.toString()),lv.resolve()}},{key:"markPotentiallyOrphaned",value:function(t,e){return this.Fs.add(e.toString()),lv.resolve()}},{key:"removeTarget",value:function(t,e){var n=this;this.ks.us(e.targetId).forEach((function(t){return n.Fs.add(t.toString())}));var i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.Fs.add(t.toString())}))})).next((function(){return i.removeTargetData(t,e)}))}},{key:"Cs",value:function(){this.Os=new Set}},{key:"xs",value:function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return lv.forEach(this.Fs,(function(i){var r=tv.fromPath(i);return e.$s(t,r).next((function(t){t||n.removeEntry(r,Yp.min())}))})).next((function(){return e.Os=null,n.apply(t)}))}},{key:"updateLimboDocument",value:function(t,e){var n=this;return this.$s(t,e).next((function(t){t?n.Fs.delete(e.toString()):n.Fs.add(e.toString())}))}},{key:"Ss",value:function(t){return 0}},{key:"$s",value:function(t,e){var n=this;return lv.or([function(){return lv.resolve(n.ks.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Ns(t,e)}])}}],[{key:"Ms",value:function(e){return new t(e)}}]),t}();var Ly=function(){function t(e,n,i,r){wu(this,t),this.targetId=e,this.fromCache=n,this.Pi=i,this.vi=r}return Su(t,null,[{key:"Vi",value:function(e,n){var i,r=bm(),o=bm(),s=a(n.docChanges);try{for(s.s();!(i=s.n()).done;){var u=i.value;switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}}}catch(c){s.e(c)}finally{s.f()}return new t(e,n.fromCache,r,o)}}]),t}(),Ay=function(){function t(){wu(this,t),this.Si=!1}return Su(t,[{key:"initialize",value:function(t,e){this.Di=t,this.indexManager=e,this.Si=!0}},{key:"getDocumentsMatchingQuery",value:function(t,e,n,i){var r=this;return this.Ci(t,e).next((function(o){return o||r.xi(t,e,i,n)})).next((function(n){return n||r.Ni(t,e)}))}},{key:"Ci",value:function(t,e){return lv.resolve(null)}},{key:"xi",value:function(t,e,n,i){var r=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||i.isEqual(Yp.min())?this.Ni(t,e):this.Di.getDocuments(t,n).next((function(o){var a=r.ki(e,o);return r.Oi(e,a,n,i)?r.Ni(t,e):(Cp()<=ic.DEBUG&&Ep("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Og(e)),r.Mi(t,a,e,nv(i,-1)))}))}},{key:"ki",value:function(t,e){var n=new _v(Ag(t));return e.forEach((function(e,i){Pg(t,i)&&(n=n.add(i))})),n}},{key:"Oi",value:function(t,e,n,i){if(null===t.limit)return!1;if(n.size!==e.size)return!0;var r="F"===t.limitType?e.last():e.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}},{key:"Ni",value:function(t,e){return Cp()<=ic.DEBUG&&Ep("QueryEngine","Using full collection scan to execute query:",Og(e)),this.Di.getDocumentsMatchingQuery(t,e,rv.min())}},{key:"Mi",value:function(t,e,n,i){return this.Di.getDocumentsMatchingQuery(t,n,i).next((function(t){return e.forEach((function(e){t=t.insert(e.key,e)})),t}))}}]),t}(),Iy=function(){function t(e,n,i,r){wu(this,t),this.persistence=e,this.Fi=n,this.wt=r,this.$i=new gv(Zp),this.Bi=new fm((function(t){return eg(t)}),ng),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(i)}return Su(t,[{key:"qi",value:function(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new _y(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.$i)}))}}]),t}();function Ny(t,e,n,i){return new Iy(t,e,n,i)}function Ry(t,e){return By.apply(this,arguments)}function By(){return By=Rt(It().mark((function t(e,n){var i;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=Ip(e),t.next=3,i.persistence.runTransaction("Handle user change","readonly",(function(t){var e;return i.mutationQueue.getAllMutationBatches(t).next((function(r){return e=r,i.qi(n),i.mutationQueue.getAllMutationBatches(t)})).next((function(n){var r,o=[],s=[],u=bm(),c=a(e);try{for(c.s();!(r=c.n()).done;){var l=r.value;o.push(l.batchId);var h,f=a(l.mutations);try{for(f.s();!(h=f.n()).done;){var d=h.value;u=u.add(d.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){c.e(k)}finally{c.f()}var p,v=a(n);try{for(v.s();!(p=v.n()).done;){var g=p.value;s.push(g.batchId);var m,y=a(g.mutations);try{for(y.s();!(m=y.n()).done;){var _=m.value;u=u.add(_.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){v.e(k)}finally{v.f()}return i.localDocuments.getDocuments(t,u).next((function(t){return{Ki:t,removedBatchIds:o,addedBatchIds:s}}))}))}));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)}))),By.apply(this,arguments)}function Dy(t){var e=Ip(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.Vs.getLastRemoteSnapshotVersion(t)}))}function jy(t,e){var n=Ip(t),i=e.snapshotVersion,r=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Ui.newChangeBuffer({trackRemovals:!0});r=n.$i;var a=[];e.targetChanges.forEach((function(o,s){var u=r.get(s);if(u){a.push(n.Vs.removeMatchingKeys(t,o.removedDocuments,s).next((function(){return n.Vs.addMatchingKeys(t,o.addedDocuments,s)})));var c=u.withSequenceNumber(t.currentSequenceNumber);e.targetMismatches.has(s)?c=c.withResumeToken(bv.EMPTY_BYTE_STRING,Yp.min()).withLastLimboFreeSnapshotVersion(Yp.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,i)),r=r.insert(s,c),function(t,e,n){return 0===t.resumeToken.approximateByteSize()||(e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,o)&&a.push(n.Vs.updateTargetData(t,c))}}));var s=pm(),u=bm();if(e.documentUpdates.forEach((function(i){e.resolvedLimboDocuments.has(i)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(t,i))})),a.push(Wy(t,o,e.documentUpdates).next((function(t){s=t.Gi,u=t.Qi}))),!i.isEqual(Yp.min())){var c=n.Vs.getLastRemoteSnapshotVersion(t).next((function(e){return n.Vs.setTargetsMetadata(t,t.currentSequenceNumber,i)}));a.push(c)}return lv.waitFor(a).next((function(){return o.apply(t)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(t,s,u)})).next((function(){return s}))})).then((function(t){return n.$i=r,t}))}function Wy(t,e,n){var i=bm(),r=bm();return n.forEach((function(t){return i=i.add(t)})),e.getEntries(t,i).next((function(t){var i=pm();return n.forEach((function(n,o){var a=t.get(n);o.isFoundDocument()!==a.isFoundDocument()&&(r=r.add(n)),o.isNoDocument()&&o.version.isEqual(Yp.min())?(e.removeEntry(n,o.readTime),i=i.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(o),i=i.insert(n,o)):Ep("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),{Gi:i,Qi:r}}))}function Fy(t,e){var n=Ip(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var i;return n.Vs.getTargetData(t,e).next((function(r){return r?(i=r,lv.resolve(i)):n.Vs.allocateTargetId(t).next((function(r){return i=new cy(e,r,0,t.currentSequenceNumber),n.Vs.addTargetData(t,i).next((function(){return i}))}))}))})).then((function(t){var i=n.$i.get(t.targetId);return(null===i||t.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.$i=n.$i.insert(t.targetId,t),n.Bi.set(e,t.targetId)),t}))}function zy(t,e,n){return Vy.apply(this,arguments)}function Vy(){return Vy=Rt(It().mark((function t(e,n,i){var r,o,a;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=Ip(e),o=r.$i.get(n),a=i?"readwrite":"readwrite-primary",t.prev=1,t.t0=i,t.t0){t.next=6;break}return t.next=6,r.persistence.runTransaction("Release target",a,(function(t){return r.persistence.referenceDelegate.removeTarget(t,o)}));case 6:t.next=13;break;case 8:if(t.prev=8,t.t1=t.catch(1),hv(t.t1)){t.next=12;break}throw t.t1;case 12:Ep("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(t.t1));case 13:r.$i=r.$i.remove(n),r.Bi.delete(o.target);case 14:case"end":return t.stop()}}),t,null,[[1,8]])}))),Vy.apply(this,arguments)}function Hy(t,e,n){var i=Ip(t),r=Yp.min(),o=bm();return i.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var i=Ip(t),r=i.Bi.get(n);return void 0!==r?lv.resolve(i.$i.get(r)):i.Vs.getTargetData(e,n)}(i,t,xg(e)).next((function(e){if(e)return r=e.lastLimboFreeSnapshotVersion,i.Vs.getMatchingKeysForTargetId(t,e.targetId).next((function(t){o=t}))})).next((function(){return i.Fi.getDocumentsMatchingQuery(t,e,n?r:Yp.min(),n?o:bm())})).next((function(t){return Uy(i,Lg(e),t),{documents:t,ji:o}}))}))}function Uy(t,e,n){var i=Yp.min();n.forEach((function(t,e){e.readTime.compareTo(i)>0&&(i=e.readTime)})),t.Li.set(e,i)}var Ky=function(){function t(){wu(this,t),this.activeTargetIds=Tm()}return Su(t,[{key:"Xi",value:function(t){this.activeTargetIds=this.activeTargetIds.add(t)}},{key:"Zi",value:function(t){this.activeTargetIds=this.activeTargetIds.delete(t)}},{key:"Yi",value:function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}]),t}(),Zy=function(){function t(){wu(this,t),this.Fr=new Ky,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Su(t,[{key:"addPendingMutation",value:function(t){}},{key:"updateMutationState",value:function(t,e,n){}},{key:"addLocalQueryTarget",value:function(t){return this.Fr.Xi(t),this.$r[t]||"not-current"}},{key:"updateQueryState",value:function(t,e,n){this.$r[t]=e}},{key:"removeLocalQueryTarget",value:function(t){this.Fr.Zi(t)}},{key:"isLocalQueryTarget",value:function(t){return this.Fr.activeTargetIds.has(t)}},{key:"clearQueryState",value:function(t){delete this.$r[t]}},{key:"getAllActiveQueryTargets",value:function(){return this.Fr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(t){return this.Fr.activeTargetIds.has(t)}},{key:"start",value:function(){return this.Fr=new Ky,Promise.resolve()}},{key:"handleUserChange",value:function(t,e,n){}},{key:"setOnlineState",value:function(t){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(t){}},{key:"notifyBundleLoaded",value:function(t){}}]),t}(),qy=function(){function t(){wu(this,t)}return Su(t,[{key:"Br",value:function(t){}},{key:"shutdown",value:function(){}}]),t}(),Gy=function(){function t(){var e=this;wu(this,t),this.Lr=function(){return e.Ur()},this.qr=function(){return e.Kr()},this.Gr=[],this.Qr()}return Su(t,[{key:"Br",value:function(t){this.Gr.push(t)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}},{key:"Qr",value:function(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}},{key:"Ur",value:function(){Ep("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var t,e=a(this.Gr);try{for(e.s();!(t=e.n()).done;){(0,t.value)(0)}}catch(n){e.e(n)}finally{e.f()}}},{key:"Kr",value:function(){Ep("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var t,e=a(this.Gr);try{for(e.s();!(t=e.n()).done;){(0,t.value)(1)}}catch(n){e.e(n)}finally{e.f()}}}],[{key:"V",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),t}(),Yy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Qy=function(){function t(e){wu(this,t),this.jr=e.jr,this.Wr=e.Wr}return Su(t,[{key:"zr",value:function(t){this.Hr=t}},{key:"Jr",value:function(t){this.Yr=t}},{key:"onMessage",value:function(t){this.Xr=t}},{key:"close",value:function(){this.Wr()}},{key:"send",value:function(t){this.jr(t)}},{key:"Zr",value:function(){this.Hr()}},{key:"eo",value:function(t){this.Yr(t)}},{key:"no",value:function(t){this.Xr(t)}}]),t}(),$y=function(t){Nu(n,t);var e=ju(n);function n(t){var i;return wu(this,n),(i=e.call(this,t)).forceLongPolling=t.forceLongPolling,i.autoDetectLongPolling=t.autoDetectLongPolling,i.useFetchStreams=t.useFetchStreams,i}return Su(n,[{key:"co",value:function(t,e,n,i){return new Promise((function(r,o){var a=new wp;a.listenOnce(gp.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case vp.NO_ERROR:var e=a.getResponseJson();Ep("Connection","XHR received:",JSON.stringify(e)),r(e);break;case vp.TIMEOUT:Ep("Connection",'RPC "'+t+'" timed out'),o(new Rp(Np.DEADLINE_EXCEEDED,"Request time out"));break;case vp.HTTP_ERROR:var n=a.getStatus();if(Ep("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var i=a.getResponseJson().error;if(i&&i.status&&i.message){var s=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Np).indexOf(e)>=0?e:Np.UNKNOWN}(i.status);o(new Rp(s,i.message))}else o(new Rp(Np.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Rp(Np.UNAVAILABLE,"Connection failed."));break;default:Lp()}}finally{Ep("Connection",'RPC "'+t+'" completed.')}}));var s=JSON.stringify(i);a.send(e,"POST",s,n,15)}))}},{key:"ho",value:function(t,e,n){var i=[this.so,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=dp(),o=pp(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new _p({})),this.uo(a.initMessageHeaders,e,n),"undefined"!==typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ku())||"object"===typeof navigator&&"ReactNative"===navigator.product||Ku().indexOf("Electron/")>=0||function(){var t=Ku();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()||Ku().indexOf("MSAppHost/")>=0||function(){var t="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof t&&void 0!==t.id}()||(a.httpHeadersOverwriteParam="$httpHeaders");var s=i.join("");Ep("Connection","Creating WebChannel: "+s,a);var u=r.createWebChannel(s,a),c=!1,l=!1,h=new Qy({jr:function(t){l?Ep("Connection","Not sending because WebChannel is closed:",t):(c||(Ep("Connection","Opening WebChannel transport."),u.open(),c=!0),Ep("Connection","WebChannel sending:",t),u.send(t))},Wr:function(){return u.close()}}),f=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return f(u,kp.EventType.OPEN,(function(){l||Ep("Connection","WebChannel transport opened.")})),f(u,kp.EventType.CLOSE,(function(){l||(l=!0,Ep("Connection","WebChannel transport closed"),h.eo())})),f(u,kp.EventType.ERROR,(function(t){l||(l=!0,Op("Connection","WebChannel transport errored:",t),h.eo(new Rp(Np.UNAVAILABLE,"The operation could not be completed")))})),f(u,kp.EventType.MESSAGE,(function(t){var e;if(!l){var n=t.data[0];Ap(!!n);var i=n,r=i.error||(null===(e=i[0])||void 0===e?void 0:e.error);if(r){Ep("Connection","WebChannel received error:",r);var o=r.status,a=function(t){var e=sm[t];if(void 0!==e)return hm(e)}(o),s=r.message;void 0===a&&(a=Np.INTERNAL,s="Unknown error status: "+o+" with message "+r.message),l=!0,h.eo(new Rp(a,s)),u.close()}else Ep("Connection","WebChannel received:",n),h.no(n)}})),f(o,mp.STAT_EVENT,(function(t){t.stat===yp.PROXY?Ep("Connection","Detected buffering proxy"):t.stat===yp.NOPROXY&&Ep("Connection","Detected no buffering proxy")})),setTimeout((function(){h.Zr()}),0),h}}]),n}(function(){function t(e){wu(this,t),this.databaseInfo=e,this.databaseId=e.databaseId;var n=e.ssl?"https":"http";this.so=n+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Su(t,[{key:"ro",value:function(t,e,n,i,r){var o=this.oo(t,e);Ep("RestConnection","Sending: ",o,n);var a={};return this.uo(a,i,r),this.co(t,o,a,n).then((function(t){return Ep("RestConnection","Received: ",t),t}),(function(e){throw Op("RestConnection","".concat(t," failed with error: "),e,"url: ",o,"request:",n),e}))}},{key:"ao",value:function(t,e,n,i,r,o){return this.ro(t,e,n,i,r)}},{key:"uo",value:function(t,e,n){t["X-Goog-Api-Client"]="gl-js/ fire/"+Tp,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((function(e,n){return t[n]=e})),n&&n.headers.forEach((function(e,n){return t[n]=e}))}},{key:"oo",value:function(t,e){var n=Yy[t];return"".concat(this.so,"/v1/").concat(e,":").concat(n)}}]),t}());function Xy(){return"undefined"!=typeof document?document:null}function Jy(t){return new Bm(t,!0)}var t_=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;wu(this,t),this.js=e,this.timerId=n,this.lo=i,this.fo=r,this._o=o,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}return Su(t,[{key:"reset",value:function(){this.wo=0}},{key:"po",value:function(){this.wo=this._o}},{key:"Io",value:function(t){var e=this;this.cancel();var n=Math.floor(this.wo+this.To()),i=Math.max(0,Date.now()-this.yo),r=Math.max(0,n-i);r>0&&Ep("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.wo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(i," ms ago)")),this.mo=this.js.enqueueAfterDelay(this.timerId,r,(function(){return e.yo=Date.now(),t()})),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}},{key:"Eo",value:function(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}},{key:"cancel",value:function(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}},{key:"To",value:function(){return(Math.random()-.5)*this.wo}}]),t}(),e_=function(){function t(e,n,i,r,o,a,s,u){wu(this,t),this.js=e,this.Ao=i,this.Ro=r,this.bo=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new t_(e,n)}return Su(t,[{key:"Do",value:function(){return 1===this.state||5===this.state||this.Co()}},{key:"Co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.xo()}},{key:"stop",value:function(){var t=Rt(It().mark((function t(){return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.Do(),!t.t0){t.next=4;break}return t.next=4,this.close(0);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"No",value:function(){this.state=0,this.So.reset()}},{key:"ko",value:function(){var t=this;this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,(function(){return t.Oo()})))}},{key:"Mo",value:function(t){this.Fo(),this.stream.send(t)}},{key:"Oo",value:function(){var t=Rt(It().mark((function t(){return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.Co()){t.next=2;break}return t.abrupt("return",this.close(0));case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"Fo",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"$o",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"close",value:function(){var t=Rt(It().mark((function t(e,n){return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==e?this.So.reset():n&&n.code===Np.RESOURCE_EXHAUSTED?(Mp(n.toString()),Mp("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===Np.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=e,t.next=9,this.listener.Jr(n);case 9:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"Bo",value:function(){}},{key:"auth",value:function(){var t=this;this.state=1;var e=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(e){var i=s(e,2),r=i[0],o=i[1];t.Po===n&&t.Uo(r,o)}),(function(n){e((function(){var e=new Rp(Np.UNKNOWN,"Fetching auth token failed: "+n.message);return t.qo(e)}))}))}},{key:"Uo",value:function(t,e){var n=this,i=this.Lo(this.Po);this.stream=this.Ko(t,e),this.stream.zr((function(){i((function(){return n.state=2,n.Vo=n.js.enqueueAfterDelay(n.Ro,1e4,(function(){return n.Co()&&(n.state=3),Promise.resolve()})),n.listener.zr()}))})),this.stream.Jr((function(t){i((function(){return n.qo(t)}))})),this.stream.onMessage((function(t){i((function(){return n.onMessage(t)}))}))}},{key:"xo",value:function(){var t=this;this.state=5,this.So.Io(Rt(It().mark((function e(){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.state=0,t.start();case 1:case"end":return e.stop()}}),e)}))))}},{key:"qo",value:function(t){return Ep("PersistentStream","close with error: ".concat(t)),this.stream=null,this.close(4,t)}},{key:"Lo",value:function(t){var e=this;return function(n){e.js.enqueueAndForget((function(){return e.Po===t?n():(Ep("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),t}(),n_=function(t){Nu(n,t);var e=ju(n);function n(t,i,r,o,a,s){var u;return wu(this,n),(u=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,s)).wt=a,u}return Su(n,[{key:"Ko",value:function(t,e){return this.bo.ho("Listen",t,e)}},{key:"onMessage",value:function(t){this.So.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var i=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Lp()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(t,e){return t.dt?(Ap(void 0===e||"string"==typeof e),bv.fromBase64String(e||"")):(Ap(void 0===e||e instanceof Uint8Array),bv.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(t){var e=void 0===t.code?Np.UNKNOWN:hm(t.code);return new Rp(e,t.message||"")}(a);n=new Om(i,r,o,s||null)}else if("documentChange"in e){e.documentChange;var u=e.documentChange;u.document,u.document.name,u.document.updateTime;var c=Vm(t,u.document.name),l=Wm(u.document.updateTime),h=new $v({mapValue:{fields:u.document.fields}}),f=Xv.newFoundDocument(c,l,h),d=u.targetIds||[],p=u.removedTargetIds||[];n=new Em(d,p,f.key,f)}else if("documentDelete"in e){e.documentDelete;var v=e.documentDelete;v.document;var g=Vm(t,v.document),m=v.readTime?Wm(v.readTime):Yp.min(),y=Xv.newNoDocument(g,m),_=v.removedTargetIds||[];n=new Em([],_,y.key,y)}else if("documentRemove"in e){e.documentRemove;var k=e.documentRemove;k.document;var w=Vm(t,k.document),b=k.removedTargetIds||[];n=new Em([],b,w,null)}else{if(!("filter"in e))return Lp();e.filter;var S=e.filter;S.targetId;var T=S.count||0,x=new lm(T),C=S.targetId;n=new Mm(C,x)}return n}(this.wt,t),n=function(t){if(!("targetChange"in t))return Yp.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Yp.min():e.readTime?Wm(e.readTime):Yp.min()}(t);return this.listener.Go(e,n)}},{key:"Qo",value:function(t){var e={};e.database=Km(this.wt),e.addTarget=function(t,e){var n,i=e.target;return(n=ig(i)?{documents:qm(t,i)}:{query:Gm(t,i)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=jm(t,e.resumeToken):e.snapshotVersion.compareTo(Yp.min())>0&&(n.readTime=Dm(t,e.snapshotVersion.toTimestamp())),n}(this.wt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Lp()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.wt,t);n&&(e.labels=n),this.Mo(e)}},{key:"jo",value:function(t){var e={};e.database=Km(this.wt),e.removeTarget=t,this.Mo(e)}}]),n}(e_),i_=function(t){Nu(n,t);var e=ju(n);function n(t,i,r,o){var a;return wu(this,n),(a=e.call(this)).authCredentials=t,a.appCheckCredentials=i,a.bo=r,a.wt=o,a.Zo=!1,a}return Su(n,[{key:"tu",value:function(){if(this.Zo)throw new Rp(Np.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ro",value:function(t,e,n){var i=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(r){var o=s(r,2),a=o[0],u=o[1];return i.bo.ro(t,e,n,a,u)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===Np.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),t):new Rp(Np.UNKNOWN,t.toString())}))}},{key:"ao",value:function(t,e,n,i){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(o){var a=s(o,2),u=a[0],c=a[1];return r.bo.ao(t,e,n,u,c,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===Np.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),t):new Rp(Np.UNKNOWN,t.toString())}))}},{key:"terminate",value:function(){this.Zo=!0}}]),n}(function(){return Su((function t(){wu(this,t)}))}()),r_=function(){function t(e,n){wu(this,t),this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}return Su(t,[{key:"iu",value:function(){var t=this;0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.nu=null,t.ou("Backend didn't respond within 10 seconds."),t.ru("Offline"),Promise.resolve()})))}},{key:"uu",value:function(t){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou("Connection failed 1 times. Most recent error: ".concat(t.toString())),this.ru("Offline")))}},{key:"set",value:function(t){this.cu(),this.eu=0,"Online"===t&&(this.su=!1),this.ru(t)}},{key:"ru",value:function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}},{key:"ou",value:function(t){var e="Could not reach Cloud Firestore backend. ".concat(t,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.su?(Mp(e),this.su=!1):Ep("OnlineStateTracker",e)}},{key:"cu",value:function(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}]),t}(),o_=Su((function t(e,n,i,r,o){var a=this;wu(this,t),this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=o,this.du.Br((function(t){i.enqueueAndForget(Rt(It().mark((function t(){return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=g_(a),!t.t0){t.next=5;break}return Ep("RemoteStore","Restarting streams for network reachability change."),t.next=5,function(){var t=Rt(It().mark((function t(e){var n;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=Ip(e)).lu.add(4),t.next=4,u_(n);case 4:return n._u.set("Unknown"),n.lu.delete(4),t.next=8,a_(n);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()(a);case 5:case"end":return t.stop()}}),t)}))))})),this._u=new r_(i,r)}));function a_(t){return s_.apply(this,arguments)}function s_(){return s_=Rt(It().mark((function t(e){var n,i,r;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!g_(e)){t.next=18;break}n=a(e.fu),t.prev=2,n.s();case 4:if((i=n.n()).done){t.next=10;break}return r=i.value,t.next=8,r(!0);case 8:t.next=4;break;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),n.e(t.t0);case 15:return t.prev=15,n.f(),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[2,12,15,18]])}))),s_.apply(this,arguments)}function u_(t){return c_.apply(this,arguments)}function c_(){return c_=Rt(It().mark((function t(e){var n,i,r;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=a(e.fu),t.prev=1,n.s();case 3:if((i=n.n()).done){t.next=9;break}return r=i.value,t.next=7,r(!1);case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),n.e(t.t0);case 14:return t.prev=14,n.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[1,11,14,17]])}))),c_.apply(this,arguments)}function l_(t,e){var n=Ip(t);n.hu.has(e.targetId)||(n.hu.set(e.targetId,e),v_(n)?p_(n):P_(n).Co()&&f_(n,e))}function h_(t,e){var n=Ip(t),i=P_(n);n.hu.delete(e),i.Co()&&d_(n,e),0===n.hu.size&&(i.Co()?i.ko():g_(n)&&n._u.set("Unknown"))}function f_(t,e){t.wu.Nt(e.targetId),P_(t).Qo(e)}function d_(t,e){t.wu.Nt(e),P_(t).jo(e)}function p_(t){t.wu=new Lm({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},te:function(e){return t.hu.get(e)||null}}),P_(t).start(),t._u.iu()}function v_(t){return g_(t)&&!P_(t).Do()&&t.hu.size>0}function g_(t){return 0===Ip(t).lu.size}function m_(t){t.wu=void 0}function y_(t){return __.apply(this,arguments)}function __(){return __=Rt(It().mark((function t(e){return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.hu.forEach((function(t,n){f_(e,t)}));case 1:case"end":return t.stop()}}),t)}))),__.apply(this,arguments)}function k_(t,e){return w_.apply(this,arguments)}function w_(){return w_=Rt(It().mark((function t(e,n){return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:m_(e),v_(e)?(e._u.uu(n),p_(e)):e._u.set("Unknown");case 1:case"end":return t.stop()}}),t)}))),w_.apply(this,arguments)}function b_(t,e,n){return S_.apply(this,arguments)}function S_(){return S_=Rt(It().mark((function t(e,n,i){var r;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e._u.set("Online"),!(n instanceof Om&&2===n.state&&n.cause)){t.next=13;break}return t.prev=1,t.next=4,function(){var t=Rt(It().mark((function t(e,n){var i,r,o,s;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=n.cause,r=a(n.targetIds),t.prev=2,r.s();case 4:if((o=r.n()).done){t.next=14;break}if(s=o.value,t.t0=e.hu.has(s),!t.t0){t.next=12;break}return t.next=10,e.remoteSyncer.rejectListen(s,i);case 10:e.hu.delete(s),e.wu.removeTarget(s);case 12:t.next=4;break;case 14:t.next=19;break;case 16:t.prev=16,t.t1=t.catch(2),r.e(t.t1);case 19:return t.prev=19,r.f(),t.finish(19);case 22:case"end":return t.stop()}}),t,null,[[2,16,19,22]])})));return function(e,n){return t.apply(this,arguments)}}()(e,n);case 4:t.next=11;break;case 6:return t.prev=6,t.t0=t.catch(1),Ep("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),t.t0),t.next=11,T_(e,t.t0);case 11:case 22:t.next=29;break;case 13:if(n instanceof Em?e.wu.Ut(n):n instanceof Mm?e.wu.zt(n):e.wu.Gt(n),i.isEqual(Yp.min())){t.next=29;break}return t.prev=14,t.next=17,Dy(e.localStore);case 17:if(r=t.sent,t.t1=i.compareTo(r)>=0,!t.t1){t.next=22;break}return t.next=22,function(t,e){var n=t.wu.Yt(e);return n.targetChanges.forEach((function(n,i){if(n.resumeToken.approximateByteSize()>0){var r=t.hu.get(i);r&&t.hu.set(i,r.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.hu.get(e);if(n){t.hu.set(e,n.withResumeToken(bv.EMPTY_BYTE_STRING,n.snapshotVersion)),d_(t,e);var i=new cy(n.target,e,1,n.sequenceNumber);f_(t,i)}})),t.remoteSyncer.applyRemoteEvent(n)}(e,i);case 24:return t.prev=24,t.t2=t.catch(14),Ep("RemoteStore","Failed to raise snapshot:",t.t2),t.next=29,T_(e,t.t2);case 29:case"end":return t.stop()}}),t,null,[[1,6],[14,24]])}))),S_.apply(this,arguments)}function T_(t,e,n){return x_.apply(this,arguments)}function x_(){return x_=Rt(It().mark((function t(e,n,i){return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(hv(n)){t.next=2;break}throw n;case 2:return e.lu.add(1),t.next=5,u_(e);case 5:e._u.set("Offline"),i||(i=function(){return Dy(e.localStore)}),e.asyncQueue.enqueueRetryable(Rt(It().mark((function t(){return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Ep("RemoteStore","Retrying IndexedDB access"),t.next=3,i();case 3:return e.lu.delete(1),t.next=6,a_(e);case 6:case"end":return t.stop()}}),t)}))));case 8:case"end":return t.stop()}}),t)}))),x_.apply(this,arguments)}function C_(t,e){return E_.apply(this,arguments)}function E_(){return E_=Rt(It().mark((function t(e,n){var i,r;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(i=Ip(e)).asyncQueue.verifyOperationInProgress(),Ep("RemoteStore","RemoteStore received new credentials"),r=g_(i),i.lu.add(3),t.next=6,u_(i);case 6:return r&&i._u.set("Unknown"),t.next=9,i.remoteSyncer.handleCredentialChange(n);case 9:return i.lu.delete(3),t.next=12,a_(i);case 12:case"end":return t.stop()}}),t)}))),E_.apply(this,arguments)}function M_(t,e){return O_.apply(this,arguments)}function O_(){return O_=Rt(It().mark((function t(e,n){var i;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=Ip(e),!n){t.next=7;break}return i.lu.delete(2),t.next=5,a_(i);case 5:t.next=13;break;case 7:if(t.t0=n,t.t0){t.next=13;break}return i.lu.add(2),t.next=12,u_(i);case 12:i._u.set("Unknown");case 13:case"end":return t.stop()}}),t)}))),O_.apply(this,arguments)}function P_(t){return t.mu||(t.mu=function(t,e,n){var i=Ip(t);return i.tu(),new n_(e,i.bo,i.authCredentials,i.appCheckCredentials,i.wt,n)}(t.datastore,t.asyncQueue,{zr:y_.bind(null,t),Jr:k_.bind(null,t),Go:b_.bind(null,t)}),t.fu.push(function(){var e=Rt(It().mark((function e(n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=4;break}t.mu.No(),v_(t)?p_(t):t._u.set("Unknown"),e.next=7;break;case 4:return e.next=6,t.mu.stop();case 6:m_(t);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),t.mu}var L_=function(){function t(e,n,i,r,o){wu(this,t),this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Bp,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return Su(t,[{key:"start",value:function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Rp(Np.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}},{key:"handleDelayElapsed",value:function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(e,n,i,r,o){var a=new t(e,n,Date.now()+i,r,o);return a.start(i),a}}]),t}();function A_(t,e){if(Mp("AsyncQueue","".concat(e,": ").concat(t)),hv(t))return new Rp(Np.UNAVAILABLE,"".concat(e,": ").concat(t));throw t}var I_=function(){function t(e){wu(this,t),this.comparator=e?function(t,n){return e(t,n)||tv.comparator(t.key,n.key)}:function(t,e){return tv.comparator(t.key,e.key)},this.keyedMap=gm(),this.sortedSet=new gv(this.comparator)}return Su(t,[{key:"has",value:function(t){return null!=this.keyedMap.get(t)}},{key:"get",value:function(t){return this.keyedMap.get(t)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))}},{key:"add",value:function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}},{key:"delete",value:function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}},{key:"isEqual",value:function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();n.hasNext();){var r=n.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}},{key:"toString",value:function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}},{key:"copy",value:function(e,n){var i=new t;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}],[{key:"emptySet",value:function(e){return new t(e.comparator)}}]),t}(),N_=function(){function t(){wu(this,t),this.yu=new gv(tv.comparator)}return Su(t,[{key:"track",value:function(t){var e=t.doc.key,n=this.yu.get(e);n?0!==t.type&&3===n.type?this.yu=this.yu.insert(e,t):3===t.type&&1!==n.type?this.yu=this.yu.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.yu=this.yu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.yu=this.yu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.yu=this.yu.remove(e):1===t.type&&2===n.type?this.yu=this.yu.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.yu=this.yu.insert(e,{type:2,doc:t.doc}):Lp():this.yu=this.yu.insert(e,t)}},{key:"pu",value:function(){var t=[];return this.yu.inorderTraversal((function(e,n){t.push(n)})),t}}]),t}(),R_=function(){function t(e,n,i,r,o,a,s,u){wu(this,t),this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=u}return Su(t,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Eg(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var i=0;i<e.length;i++)if(e[i].type!==n[i].type||!e[i].doc.isEqual(n[i].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(e,n,i,r){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,I_.emptySet(n),o,i,r,!0,!1)}}]),t}(),B_=Su((function t(){wu(this,t),this.Iu=void 0,this.listeners=[]})),D_=Su((function t(){wu(this,t),this.queries=new fm((function(t){return Mg(t)}),Eg),this.onlineState="Unknown",this.Tu=new Set}));function j_(t,e){return W_.apply(this,arguments)}function W_(){return W_=Rt(It().mark((function t(e,n){var i,r,o,a,s;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=Ip(e),r=n.query,o=!1,(a=i.queries.get(r))||(o=!0,a=new B_),!o){t.next=13;break}return t.prev=3,t.next=6,i.onListen(r);case 6:a.Iu=t.sent,t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(3),s=A_(t.t0,"Initialization of query '".concat(Og(n.query),"' failed")),t.abrupt("return",void n.onError(s));case 13:i.queries.set(r,a),a.listeners.push(n),n.Eu(i.onlineState),a.Iu&&n.Au(a.Iu)&&U_(i);case 14:case"end":return t.stop()}}),t,null,[[3,9]])}))),W_.apply(this,arguments)}function F_(t,e){return z_.apply(this,arguments)}function z_(){return z_=Rt(It().mark((function t(e,n){var i,r,o,a,s;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=Ip(e),r=n.query,o=!1,(a=i.queries.get(r))&&(s=a.listeners.indexOf(n))>=0&&(a.listeners.splice(s,1),o=0===a.listeners.length),!o){t.next=6;break}return t.abrupt("return",(i.queries.delete(r),i.onUnlisten(r)));case 6:case"end":return t.stop()}}),t)}))),z_.apply(this,arguments)}function V_(t,e){var n,i=Ip(t),r=!1,o=a(e);try{for(o.s();!(n=o.n()).done;){var s=n.value,u=s.query,c=i.queries.get(u);if(c){var l,h=a(c.listeners);try{for(h.s();!(l=h.n()).done;){l.value.Au(s)&&(r=!0)}}catch(f){h.e(f)}finally{h.f()}c.Iu=s}}}catch(f){o.e(f)}finally{o.f()}r&&U_(i)}function H_(t,e,n){var i=Ip(t),r=i.queries.get(e);if(r){var o,s=a(r.listeners);try{for(s.s();!(o=s.n()).done;){o.value.onError(n)}}catch(u){s.e(u)}finally{s.f()}}i.queries.delete(e)}function U_(t){t.Tu.forEach((function(t){t.next()}))}var K_=function(){function t(e,n,i){wu(this,t),this.query=e,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=i||{}}return Su(t,[{key:"Au",value:function(t){if(!this.options.includeMetadataChanges){var e,n=[],i=a(t.docChanges);try{for(i.s();!(e=i.n()).done;){var r=e.value;3!==r.type&&n.push(r)}}catch(s){i.e(s)}finally{i.f()}t=new R_(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.bu?this.vu(t)&&(this.Ru.next(t),o=!0):this.Vu(t,this.onlineState)&&(this.Su(t),o=!0),this.Pu=t,o}},{key:"onError",value:function(t){this.Ru.error(t)}},{key:"Eu",value:function(t){this.onlineState=t;var e=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,t)&&(this.Su(this.Pu),e=!0),e}},{key:"Vu",value:function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return(!this.options.Du||!n)&&(!t.docs.isEmpty()||"Offline"===e)}},{key:"vu",value:function(t){if(t.docChanges.length>0)return!0;var e=this.Pu&&this.Pu.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges}},{key:"Su",value:function(t){t=R_.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.bu=!0,this.Ru.next(t)}}]),t}();var Z_=Su((function t(e){wu(this,t),this.key=e})),q_=Su((function t(e){wu(this,t),this.key=e})),G_=function(){function t(e,n){wu(this,t),this.query=e,this.Fu=n,this.$u=null,this.current=!1,this.Bu=bm(),this.mutatedKeys=bm(),this.Lu=Ag(e),this.Uu=new I_(this.Lu)}return Su(t,[{key:"qu",get:function(){return this.Fu}},{key:"Ku",value:function(t,e){var n=this,i=e?e.Gu:new N_,r=e?e.Uu:this.Uu,o=e?e.mutatedKeys:this.mutatedKeys,a=r,s=!1,u="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((function(t,e){var l=r.get(t),h=Pg(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(i.track({type:3,doc:h}),p=!0):n.Qu(l,h)||(i.track({type:2,doc:h}),p=!0,(u&&n.Lu(h,u)>0||c&&n.Lu(h,c)<0)&&(s=!0)):!l&&h?(i.track({type:0,doc:h}),p=!0):l&&!h&&(i.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))})),null!==this.query.limit)for(;a.size>this.query.limit;){var l="F"===this.query.limitType?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),i.track({type:1,doc:l})}return{Uu:a,Gu:i,Oi:s,mutatedKeys:o}}},{key:"Qu",value:function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}},{key:"applyChanges",value:function(t,e,n){var i=this,r=this.Uu;this.Uu=t.Uu,this.mutatedKeys=t.mutatedKeys;var o=t.Gu.pu();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Lp()}};return n(t)-n(e)}(t.type,e.type)||i.Lu(t.doc,e.doc)})),this.ju(n);var a=e?this.Wu():[],s=0===this.Bu.size&&this.current?1:0,u=s!==this.$u;return this.$u=s,0!==o.length||u?{snapshot:new R_(this.query,t.Uu,r,o,t.mutatedKeys,0===s,u,!1),zu:a}:{zu:a}}},{key:"Eu",value:function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new N_,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}},{key:"Hu",value:function(t){return!this.Fu.has(t)&&!!this.Uu.has(t)&&!this.Uu.get(t).hasLocalMutations}},{key:"ju",value:function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e.Fu=e.Fu.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e.Fu=e.Fu.delete(t)})),this.current=t.current)}},{key:"Wu",value:function(){var t=this;if(!this.current)return[];var e=this.Bu;this.Bu=bm(),this.Uu.forEach((function(e){t.Hu(e.key)&&(t.Bu=t.Bu.add(e.key))}));var n=[];return e.forEach((function(e){t.Bu.has(e)||n.push(new q_(e))})),this.Bu.forEach((function(t){e.has(t)||n.push(new Z_(t))})),n}},{key:"Ju",value:function(t){this.Fu=t.ji,this.Bu=bm();var e=this.Ku(t.documents);return this.applyChanges(e,!0)}},{key:"Yu",value:function(){return R_.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}]),t}(),Y_=Su((function t(e,n,i){wu(this,t),this.query=e,this.targetId=n,this.view=i})),Q_=Su((function t(e){wu(this,t),this.key=e,this.Xu=!1})),$_=function(){function t(e,n,i,r,o,a){wu(this,t),this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Zu={},this.tc=new fm((function(t){return Mg(t)}),Eg),this.ec=new Map,this.nc=new Set,this.sc=new gv(tv.comparator),this.ic=new Map,this.rc=new by,this.oc={},this.uc=new Map,this.cc=gy.Rn(),this.onlineState="Unknown",this.ac=void 0}return Su(t,[{key:"isPrimaryClient",get:function(){return!0===this.ac}}]),t}();function X_(t,e){return J_.apply(this,arguments)}function J_(){return J_=Rt(It().mark((function t(e,n){var i,r,o,a,s,u;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=_k(e),!(a=i.tc.get(n))){t.next=6;break}r=a.targetId,i.sharedClientState.addLocalQueryTarget(r),o=a.view.Yu(),t.next=15;break;case 6:return t.next=8,Fy(i.localStore,xg(n));case 8:return s=t.sent,i.isPrimaryClient&&l_(i.remoteStore,s),u=i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.targetId,t.next=14,tk(i,n,r,"current"===u);case 14:o=t.sent;case 15:return t.abrupt("return",o);case 16:case"end":return t.stop()}}),t)}))),J_.apply(this,arguments)}function tk(t,e,n,i){return ek.apply(this,arguments)}function ek(){return ek=Rt(It().mark((function t(e,n,i,r){var o,a,s,u,c,l;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.hc=function(t,n,i){return function(){var t=Rt(It().mark((function t(e,n,i,r){var o,a,s;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=n.view.Ku(i),t.t0=o.Oi,!t.t0){t.next=6;break}return t.next=5,Hy(e.localStore,n.query,!1).then((function(t){var e=t.documents;return n.view.Ku(e,o)}));case 5:o=t.sent;case 6:return a=r&&r.targetChanges.get(n.targetId),s=n.view.applyChanges(o,e.isPrimaryClient,a),t.abrupt("return",(hk(e,n.targetId,s.zu),s.snapshot));case 8:case"end":return t.stop()}}),t)})));return function(e,n,i,r){return t.apply(this,arguments)}}()(e,t,n,i)},t.next=3,Hy(e.localStore,n,!0);case 3:return o=t.sent,a=new G_(n,o.ji),s=a.Ku(o.documents),u=Cm.createSynthesizedTargetChangeForCurrentChange(i,r&&"Offline"!==e.onlineState),c=a.applyChanges(s,e.isPrimaryClient,u),hk(e,i,c.zu),l=new Y_(n,i,a),t.abrupt("return",(e.tc.set(n,l),e.ec.has(i)?e.ec.get(i).push(n):e.ec.set(i,[n]),c.snapshot));case 11:case"end":return t.stop()}}),t)}))),ek.apply(this,arguments)}function nk(t,e){return ik.apply(this,arguments)}function ik(){return ik=Rt(It().mark((function t(e,n){var i,r,o;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=Ip(e),r=i.tc.get(n),!((o=i.ec.get(r.targetId)).length>1)){t.next=3;break}return t.abrupt("return",(i.ec.set(r.targetId,o.filter((function(t){return!Eg(t,n)}))),void i.tc.delete(n)));case 3:if(!i.isPrimaryClient){t.next=11;break}if(i.sharedClientState.removeLocalQueryTarget(r.targetId),t.t0=i.sharedClientState.isActiveQueryTarget(r.targetId),t.t0){t.next=9;break}return t.next=9,zy(i.localStore,r.targetId,!1).then((function(){i.sharedClientState.clearQueryState(r.targetId),h_(i.remoteStore,r.targetId),ck(i,r.targetId)})).catch(uv);case 9:t.next=14;break;case 11:return ck(i,r.targetId),t.next=14,zy(i.localStore,r.targetId,!0);case 14:case"end":return t.stop()}}),t)}))),ik.apply(this,arguments)}function rk(t,e){return ok.apply(this,arguments)}function ok(){return ok=Rt(It().mark((function t(e,n){var i,r;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=Ip(e),t.prev=1,t.next=4,jy(i.localStore,n);case 4:return r=t.sent,n.targetChanges.forEach((function(t,e){var n=i.ic.get(e);n&&(Ap(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?n.Xu=!0:t.modifiedDocuments.size>0?Ap(n.Xu):t.removedDocuments.size>0&&(Ap(n.Xu),n.Xu=!1))})),t.next=8,pk(i,r,n);case 8:t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(1),t.next=14,uv(t.t0);case 14:case"end":return t.stop()}}),t,null,[[1,10]])}))),ok.apply(this,arguments)}function ak(t,e,n){var i=Ip(t);if(i.isPrimaryClient&&0===n||!i.isPrimaryClient&&1===n){var r=[];i.tc.forEach((function(t,n){var i=n.view.Eu(e);i.snapshot&&r.push(i.snapshot)})),function(t,e){var n=Ip(t);n.onlineState=e;var i=!1;n.queries.forEach((function(t,n){var r,o=a(n.listeners);try{for(o.s();!(r=o.n()).done;){r.value.Eu(e)&&(i=!0)}}catch(s){o.e(s)}finally{o.f()}})),i&&U_(n)}(i.eventManager,e),r.length&&i.Zu.Go(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function sk(t,e,n){return uk.apply(this,arguments)}function uk(){return uk=Rt(It().mark((function t(e,n,i){var r,o,a,s,u,c;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((r=Ip(e)).sharedClientState.updateQueryState(n,"rejected",i),o=r.ic.get(n),!(a=o&&o.key)){t.next=14;break}return s=(s=new gv(tv.comparator)).insert(a,Xv.newNoDocument(a,Yp.min())),u=bm().add(a),c=new xm(Yp.min(),new Map,new _v(Zp),s,u),t.next=9,rk(r,c);case 9:r.sc=r.sc.remove(a),r.ic.delete(n),dk(r),t.next=16;break;case 14:return t.next=16,zy(r.localStore,n,!1).then((function(){return ck(r,n,i)})).catch(uv);case 16:case"end":return t.stop()}}),t)}))),uk.apply(this,arguments)}function ck(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t.sharedClientState.removeLocalQueryTarget(e);var i,r=a(t.ec.get(e));try{for(r.s();!(i=r.n()).done;){var o=i.value;t.tc.delete(o),n&&t.Zu.lc(o,n)}}catch(s){r.e(s)}finally{r.f()}t.ec.delete(e),t.isPrimaryClient&&t.rc.us(e).forEach((function(e){t.rc.containsKey(e)||lk(t,e)}))}function lk(t,e){t.nc.delete(e.path.canonicalString());var n=t.sc.get(e);null!==n&&(h_(t.remoteStore,n),t.sc=t.sc.remove(e),t.ic.delete(n),dk(t))}function hk(t,e,n){var i,r=a(n);try{for(r.s();!(i=r.n()).done;){var o=i.value;o instanceof Z_?(t.rc.addReference(o.key,e),fk(t,o)):o instanceof q_?(Ep("SyncEngine","Document no longer in limbo: "+o.key),t.rc.removeReference(o.key,e),t.rc.containsKey(o.key)||lk(t,o.key)):Lp()}}catch(s){r.e(s)}finally{r.f()}}function fk(t,e){var n=e.key,i=n.path.canonicalString();t.sc.get(n)||t.nc.has(i)||(Ep("SyncEngine","New document in limbo: "+n),t.nc.add(i),dk(t))}function dk(t){for(;t.nc.size>0&&t.sc.size<t.maxConcurrentLimboResolutions;){var e=t.nc.values().next().value;t.nc.delete(e);var n=new tv($p.fromString(e)),i=t.cc.next();t.ic.set(i,new Q_(n)),t.sc=t.sc.insert(n,i),l_(t.remoteStore,new cy(xg(kg(n.path)),i,2,fv.ot))}}function pk(t,e,n){return vk.apply(this,arguments)}function vk(){return vk=Rt(It().mark((function t(e,n,i){var r,o,s,u;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=Ip(e),o=[],s=[],u=[],t.t0=r.tc.isEmpty(),t.t0){t.next=9;break}return r.tc.forEach((function(t,e){u.push(r.hc(e,n,i).then((function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(e.targetId,t.fromCache?"not-current":"current"),o.push(t);var n=Ly.Vi(e.targetId,t);s.push(n)}})))})),t.next=6,Promise.all(u);case 6:return r.Zu.Go(o),t.next=9,function(){var t=Rt(It().mark((function t(e,n){var i,r,o,s,u,c,l,h;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=Ip(e),t.prev=1,t.next=4,i.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return lv.forEach(n,(function(e){return lv.forEach(e.Pi,(function(n){return i.persistence.referenceDelegate.addReference(t,e.targetId,n)})).next((function(){return lv.forEach(e.vi,(function(n){return i.persistence.referenceDelegate.removeReference(t,e.targetId,n)}))}))}))}));case 4:t.next=11;break;case 6:if(t.prev=6,t.t0=t.catch(1),hv(t.t0)){t.next=10;break}throw t.t0;case 10:Ep("LocalStore","Failed to update sequence numbers: "+t.t0);case 11:r=a(n);try{for(r.s();!(o=r.n()).done;)s=o.value,u=s.targetId,s.fromCache||(c=i.$i.get(u),l=c.snapshotVersion,h=c.withLastLimboFreeSnapshotVersion(l),i.$i=i.$i.insert(u,h))}catch(f){r.e(f)}finally{r.f()}case 13:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e,n){return t.apply(this,arguments)}}()(r.localStore,s);case 9:case"end":return t.stop()}}),t)}))),vk.apply(this,arguments)}function gk(t,e){return mk.apply(this,arguments)}function mk(){return mk=Rt(It().mark((function t(e,n){var i,r;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((i=Ip(e)).currentUser.isEqual(n)){t.next=11;break}return Ep("SyncEngine","User change. New user:",n.toKey()),t.next=5,Ry(i.localStore,n);case 5:return r=t.sent,i.currentUser=n,function(t,e){t.uc.forEach((function(t){t.forEach((function(t){t.reject(new Rp(Np.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.uc.clear()}(i),i.sharedClientState.handleUserChange(n,r.removedBatchIds,r.addedBatchIds),t.next=11,pk(i,r.Ki);case 11:case"end":return t.stop()}}),t)}))),mk.apply(this,arguments)}function yk(t,e){var n=Ip(t),i=n.ic.get(e);if(i&&i.Xu)return bm().add(i.key);var r=bm(),o=n.ec.get(e);if(!o)return r;var s,u=a(o);try{for(u.s();!(s=u.n()).done;){var c=s.value,l=n.tc.get(c);r=r.unionWith(l.view.qu)}}catch(h){u.e(h)}finally{u.f()}return r}function _k(t){var e=Ip(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=rk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sk.bind(null,e),e.Zu.Go=V_.bind(null,e.eventManager),e.Zu.lc=H_.bind(null,e.eventManager),e}var kk=function(){function t(){wu(this,t),this.synchronizeTabs=!1}return Su(t,[{key:"initialize",value:function(){var t=Rt(It().mark((function t(e){return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.wt=Jy(e.databaseInfo.databaseId),this.sharedClientState=this.dc(e),this.persistence=this._c(e),t.next=5,this.persistence.start();case 5:this.localStore=this.wc(e),this.gcScheduler=this.mc(e,this.localStore),this.indexBackfillerScheduler=this.gc(e,this.localStore);case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"mc",value:function(t,e){return null}},{key:"gc",value:function(t,e){return null}},{key:"wc",value:function(t){return Ny(this.persistence,new Ay,t.initialUser,this.wt)}},{key:"_c",value:function(t){return new My(Py.Ms,this.wt)}},{key:"dc",value:function(t){return new Zy}},{key:"terminate",value:function(){var t=Rt(It().mark((function t(){return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),t.next=3,this.sharedClientState.shutdown();case 3:return t.next=5,this.persistence.shutdown();case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),t}(),wk=function(){function t(){wu(this,t)}return Su(t,[{key:"initialize",value:function(){var t=Rt(It().mark((function t(e,n){var i=this;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.localStore,t.t0){t.next=12;break}return this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return ak(i.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=gk.bind(null,this.syncEngine),t.next=12,M_(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"createEventManager",value:function(t){return new D_}},{key:"createDatastore",value:function(t){var e,n=Jy(t.databaseInfo.databaseId),i=(e=t.databaseInfo,new $y(e));return function(t,e,n,i){return new i_(t,e,n,i)}(t.authCredentials,t.appCheckCredentials,i,n)}},{key:"createRemoteStore",value:function(t){var e,n,i,r,o,a=this;return e=this.localStore,n=this.datastore,i=t.asyncQueue,r=function(t){return ak(a.syncEngine,t,0)},o=Gy.V()?new Gy:new qy,new o_(e,n,i,r,o)}},{key:"createSyncEngine",value:function(t,e){return function(t,e,n,i,r,o,a){var s=new $_(t,e,n,i,r,o);return a&&(s.ac=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}},{key:"terminate",value:function(){return function(){var t=Rt(It().mark((function t(e){var n;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Ip(e),Ep("RemoteStore","RemoteStore shutting down."),n.lu.add(5),t.next=5,u_(n);case 5:n.du.shutdown(),n._u.set("Unknown");case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()(this.remoteStore)}}]),t}();var bk=function(){function t(e){wu(this,t),this.observer=e,this.muted=!1}return Su(t,[{key:"next",value:function(t){this.observer.next&&this.Ic(this.observer.next,t)}},{key:"error",value:function(t){this.observer.error?this.Ic(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}},{key:"Tc",value:function(){this.muted=!0}},{key:"Ic",value:function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)}}]),t}(),Sk=function(){function t(e,n,i,r){var o=this;wu(this,t),this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=Sp.UNAUTHENTICATED,this.clientId=Kp.I(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(i,function(){var t=Rt(It().mark((function t(e){return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Ep("FirestoreClient","Received user=",e.uid),t.next=3,o.authCredentialListener(e);case 3:o.user=e;case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.appCheckCredentials.start(i,(function(t){return Ep("FirestoreClient","Received new app check token=",t),o.appCheckCredentialListener(t,o.user)}))}return Su(t,[{key:"getConfiguration",value:function(){var t=Rt(It().mark((function t(){return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(t){this.authCredentialListener=t}},{key:"setAppCheckTokenChangeListener",value:function(t){this.appCheckCredentialListener=t}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Rp(Np.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Bp;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Rt(It().mark((function n(){var i;return It().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=t.onlineComponents,!n.t0){n.next=5;break}return n.next=5,t.onlineComponents.terminate();case 5:if(n.t1=t.offlineComponents,!n.t1){n.next=9;break}return n.next=9,t.offlineComponents.terminate();case 9:t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),i=A_(n.t2,"Failed to shutdown persistence"),e.reject(i);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),e.promise}}]),t}();function Tk(t,e){return xk.apply(this,arguments)}function xk(){return xk=Rt(It().mark((function t(e,n){var i,r;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.asyncQueue.verifyOperationInProgress(),Ep("FirestoreClient","Initializing OfflineComponentProvider"),t.next=3,e.getConfiguration();case 3:return i=t.sent,t.next=6,n.initialize(i);case 6:r=i.initialUser,e.setCredentialChangeListener(function(){var t=Rt(It().mark((function t(e){return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=r.isEqual(e),t.t0){t.next=5;break}return t.next=4,Ry(n.localStore,e);case 4:r=e;case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=n;case 8:case"end":return t.stop()}}),t)}))),xk.apply(this,arguments)}function Ck(t,e){return Ek.apply(this,arguments)}function Ek(){return Ek=Rt(It().mark((function t(e,n){var i,r;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.asyncQueue.verifyOperationInProgress(),t.next=3,Mk(e);case 3:return i=t.sent,Ep("FirestoreClient","Initializing OnlineComponentProvider"),t.next=7,e.getConfiguration();case 7:return r=t.sent,t.next=10,n.initialize(i,r);case 10:e.setCredentialChangeListener((function(t){return C_(n.remoteStore,t)})),e.setAppCheckTokenChangeListener((function(t,e){return C_(n.remoteStore,e)})),e.onlineComponents=n;case 13:case"end":return t.stop()}}),t)}))),Ek.apply(this,arguments)}function Mk(t){return Ok.apply(this,arguments)}function Ok(){return Ok=Rt(It().mark((function t(e){return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=e.offlineComponents,t.t0){t.next=5;break}return Ep("FirestoreClient","Using default OfflineComponentProvider"),t.next=5,Tk(e,new kk);case 5:return t.abrupt("return",e.offlineComponents);case 6:case"end":return t.stop()}}),t)}))),Ok.apply(this,arguments)}function Pk(t){return Lk.apply(this,arguments)}function Lk(){return Lk=Rt(It().mark((function t(e){return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=e.onlineComponents,t.t0){t.next=5;break}return Ep("FirestoreClient","Using default OnlineComponentProvider"),t.next=5,Ck(e,new wk);case 5:return t.abrupt("return",e.onlineComponents);case 6:case"end":return t.stop()}}),t)}))),Lk.apply(this,arguments)}function Ak(t){return Ik.apply(this,arguments)}function Ik(){return Ik=Rt(It().mark((function t(e){var n,i;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Pk(e);case 2:return n=t.sent,i=n.eventManager,t.abrupt("return",(i.onListen=X_.bind(null,n.syncEngine),i.onUnlisten=nk.bind(null,n.syncEngine),i));case 5:case"end":return t.stop()}}),t)}))),Ik.apply(this,arguments)}function Nk(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=new Bp;return t.asyncQueue.enqueueAndForget(Rt(It().mark((function r(){return It().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(t,e,n,i,r){var o=new bk({next:function(n){e.enqueueAndForget((function(){return F_(t,a)})),n.fromCache&&"server"===i.source?r.reject(new Rp(Np.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(n)},error:function(t){return r.reject(t)}}),a=new K_(n,o,{includeMetadataChanges:!0,Du:!0});return j_(t,a)},r.next=3,Ak(t);case 3:return r.t1=r.sent,r.t2=t.asyncQueue,r.t3=e,r.t4=n,r.t5=i,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3,r.t4,r.t5));case 9:case"end":return r.stop()}}),r)})))),i.promise}var Rk=new Map;function Bk(t,e,n){if(!n)throw new Rp(Np.INVALID_ARGUMENT,"Function ".concat(t,"() cannot be called with an empty ").concat(e,"."))}function Dk(t){if(tv.isDocumentKey(t))throw new Rp(Np.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(t," has ").concat(t.length,"."))}function jk(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t="".concat(t.substring(0,20),"...")),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){return t.constructor?t.constructor.name:null}(t);return e?"a custom ".concat(e," object"):"an object"}return"function"==typeof t?"a function":Lp()}function Wk(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Rp(Np.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=jk(t);throw new Rp(Np.INVALID_ARGUMENT,"Expected type '".concat(e.name,"', but it was: ").concat(n))}return t}function Fk(t,e){if(e<=0)throw new Rp(Np.INVALID_ARGUMENT,"Function ".concat(t,"() requires a positive number, but it was: ").concat(e,"."))}var zk=function(){function t(e){var n;if(wu(this,t),void 0===e.host){if(void 0!==e.ssl)throw new Rp(Np.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Rp(Np.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function(t,e,n,i){if(!0===e&&!0===i)throw new Rp(Np.INVALID_ARGUMENT,"".concat(t," and ").concat(n," cannot be used together."))}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return Su(t,[{key:"isEqual",value:function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}]),t}(),Vk=function(){function t(e,n,i){wu(this,t),this._authCredentials=n,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zk({}),this._settingsFrozen=!1,e instanceof Lv?this._databaseId=e:(this._app=e,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Rp(Np.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lv(t.options.projectId)}(e))}return Su(t,[{key:"app",get:function(){if(!this._app)throw new Rp(Np.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(t){if(this._settingsFrozen)throw new Rp(Np.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zk(t),void 0!==t.credentials&&(this._authCredentials=function(t){if(!t)return new jp;switch(t.type){case"gapi":var e=t.client;return Ap(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new zp(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Rp(Np.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(t){var e=Rk.get(t);e&&(Ep("ComponentProvider","Removing Datastore"),Rk.delete(t),e.terminate())}(this),Promise.resolve()}}]),t}();var Hk=function(){function t(e,n,i){wu(this,t),this.converter=n,this._key=i,this.type="document",this.firestore=e}return Su(t,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Kk(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(e){return new t(this.firestore,e,this._key)}}]),t}(),Uk=function(){function t(e,n,i){wu(this,t),this.converter=n,this._query=i,this.type="query",this.firestore=e}return Su(t,[{key:"withConverter",value:function(e){return new t(this.firestore,e,this._query)}}]),t}(),Kk=function(t){Nu(n,t);var e=ju(n);function n(t,i,r){var o;return wu(this,n),(o=e.call(this,t,i,kg(r)))._path=r,o.type="collection",o}return Su(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Hk(this.firestore,null,new tv(t))}},{key:"withConverter",value:function(t){return new n(this.firestore,t,this._path)}}]),n}(Uk);function Zk(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];if(t=Xu(t),Bk("collection","path",e),t instanceof Vk){var o=$p.fromString.apply($p,[e].concat(i));return Dk(o),new Kk(t,null,o)}if(!(t instanceof Hk||t instanceof Kk))throw new Rp(Np.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var a=t._path.child($p.fromString.apply($p,[e].concat(i)));return Dk(a),new Kk(t.firestore,null,a)}var qk=function(){function t(){var e=this;wu(this,t),this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new t_(this,"async_queue_retry"),this.Kc=function(){var t=Xy();t&&Ep("AsyncQueue","Visibility state changed to "+t.visibilityState),e.So.Eo()};var n=Xy();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Kc)}return Su(t,[{key:"isShuttingDown",get:function(){return this.Fc}},{key:"enqueueAndForget",value:function(t){this.enqueue(t)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(t){this.Gc(),this.Qc(t)}},{key:"enterRestrictedMode",value:function(t){if(!this.Fc){this.Fc=!0,this.Uc=t||!1;var e=Xy();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Kc)}}},{key:"enqueue",value:function(t){var e=this;if(this.Gc(),this.Fc)return new Promise((function(){}));var n=new Bp;return this.Qc((function(){return e.Fc&&e.Uc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(t){var e=this;this.enqueueAndForget((function(){return e.Mc.push(t),e.jc()}))}},{key:"jc",value:function(){var t=Rt(It().mark((function t(){var e=this;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0===this.Mc.length){t.next=14;break}return t.prev=1,t.next=4,this.Mc[0]();case 4:this.Mc.shift(),this.So.reset(),t.next=13;break;case 8:if(t.prev=8,t.t0=t.catch(1),hv(t.t0)){t.next=12;break}throw t.t0;case 12:Ep("AsyncQueue","Operation failed with retryable error: "+t.t0);case 13:this.Mc.length>0&&this.So.Io((function(){return e.jc()}));case 14:case"end":return t.stop()}}),t,this,[[1,8]])})));return function(){return t.apply(this,arguments)}}()},{key:"Qc",value:function(t){var e=this,n=this.Oc.then((function(){return e.Lc=!0,t().catch((function(t){e.Bc=t,e.Lc=!1;var n=function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t);throw Mp("INTERNAL UNHANDLED ERROR: ",n),t})).then((function(t){return e.Lc=!1,t}))}));return this.Oc=n,n}},{key:"enqueueAfterDelay",value:function(t,e,n){var i=this;this.Gc(),this.qc.indexOf(t)>-1&&(e=0);var r=L_.createAndSchedule(this,t,e,n,(function(t){return i.Wc(t)}));return this.$c.push(r),r}},{key:"Gc",value:function(){this.Bc&&Lp()}},{key:"verifyOperationInProgress",value:function(){}},{key:"zc",value:function(){var t=Rt(It().mark((function t(){var e;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.Oc,t.next=3,e;case 3:if(e!==this.Oc){t.next=0;break}case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"Hc",value:function(t){var e,n=a(this.$c);try{for(n.s();!(e=n.n()).done;){if(e.value.timerId===t)return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Jc",value:function(t){var e=this;return this.zc().then((function(){e.$c.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));var n,i=a(e.$c);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(r.skipDelay(),"all"!==t&&r.timerId===t)break}}catch(o){i.e(o)}finally{i.f()}return e.zc()}))}},{key:"Yc",value:function(t){this.qc.push(t)}},{key:"Wc",value:function(t){var e=this.$c.indexOf(t);this.$c.splice(e,1)}}]),t}();var Gk=function(t){Nu(n,t);var e=ju(n);function n(t,i,r){var o;return wu(this,n),(o=e.call(this,t,i,r)).type="firestore",o._queue=new qk,o._persistenceKey="name"in t?t.name:"[DEFAULT]",o}return Su(n,[{key:"_terminate",value:function(){return this._firestoreClient||$k(this),this._firestoreClient.terminate()}}]),n}(Vk);function Yk(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Uc();return Wc(t,"firestore").getImmediate()}function Qk(t){return t._firestoreClient||$k(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function $k(t){var e,n=t._freezeSettings(),i=function(t,e,n,i){return new Pv(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,i.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new Sk(t._authCredentials,t._appCheckCredentials,t._queue,i)}var Xk=function(){function t(){wu(this,t);for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];for(var r=0;r<n.length;++r)if(0===n[r].length)throw new Rp(Np.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jp(n)}return Su(t,[{key:"isEqual",value:function(t){return this._internalPath.isEqual(t._internalPath)}}]),t}();var Jk=function(){function t(e){wu(this,t),this._byteString=e}return Su(t,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(t){return this._byteString.isEqual(t._byteString)}}],[{key:"fromBase64String",value:function(e){try{return new t(bv.fromBase64String(e))}catch(e){throw new Rp(Np.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}},{key:"fromUint8Array",value:function(e){return new t(bv.fromUint8Array(e))}}]),t}(),tw=Su((function t(e){wu(this,t),this._methodName=e})),ew=function(){function t(e,n){if(wu(this,t),!isFinite(e)||e<-90||e>90)throw new Rp(Np.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Rp(Np.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}return Su(t,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(t){return this._lat===t._lat&&this._long===t._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(t){return Zp(this._lat,t._lat)||Zp(this._long,t._long)}}]),t}(),nw=/^__.*__$/;function iw(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Lp()}}var rw=function(){function t(e,n,i,r,o,a){wu(this,t),this.settings=e,this.databaseId=n,this.wt=i,this.ignoreUndefinedProperties=r,void 0===o&&this.Xc(),this.fieldTransforms=o||[],this.fieldMask=a||[]}return Su(t,[{key:"path",get:function(){return this.settings.path}},{key:"Zc",get:function(){return this.settings.Zc}},{key:"ta",value:function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ea",value:function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.ta({path:n,na:!1});return i.sa(t),i}},{key:"ia",value:function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.ta({path:n,na:!1});return i.Xc(),i}},{key:"ra",value:function(t){return this.ta({path:void 0,na:!0})}},{key:"oa",value:function(t){return pw(t,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}},{key:"contains",value:function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))}},{key:"Xc",value:function(){if(this.path)for(var t=0;t<this.path.length;t++)this.sa(this.path.get(t))}},{key:"sa",value:function(t){if(0===t.length)throw this.oa("Document fields must not be empty");if(iw(this.Zc)&&nw.test(t))throw this.oa('Document fields cannot begin and end with "__"')}}]),t}(),ow=function(){function t(e,n,i){wu(this,t),this.databaseId=e,this.ignoreUndefinedProperties=n,this.wt=i||Jy(e)}return Su(t,[{key:"aa",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new rw({Zc:t,methodName:e,ca:n,path:Jp.emptyPath(),na:!1,ua:i},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}]),t}();function aw(t){var e=t._freezeSettings(),n=Jy(t._databaseId);return new ow(t._databaseId,!!e.ignoreUndefinedProperties,n)}function sw(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return uw(n,t.aa(i?4:3,e))}function uw(t,e){if(lw(t=Xu(t)))return hw("Unsupported field value:",e,t),cw(t,e);if(t instanceof tw)return function(t,e){if(!iw(e.Zc))throw e.oa("".concat(t._methodName,"() can only be used with update() and set()"));if(!e.path)throw e.oa("".concat(t._methodName,"() is not currently supported inside arrays"));var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.na&&4!==e.Zc)throw e.oa("Nested arrays are not supported");return function(t,e){var n,i=[],r=0,o=a(t);try{for(o.s();!(n=o.n()).done;){var s=uw(n.value,e.ra(r));null==s&&(s={nullValue:"NULL_VALUE"}),i.push(s),r++}}catch(u){o.e(u)}finally{o.f()}return{arrayValue:{values:i}}}(t,e)}return function(t,e){if(null===(t=Xu(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Bg(e.wt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Gp.fromDate(t);return{timestampValue:Dm(e.wt,n)}}if(t instanceof Gp){var i=new Gp(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Dm(e.wt,i)}}if(t instanceof ew)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Jk)return{bytesValue:jm(e.wt,t._byteString)};if(t instanceof Hk){var r=e.databaseId,o=t.firestore._databaseId;if(!o.isEqual(r))throw e.oa("Document reference is for database ".concat(o.projectId,"/").concat(o.database," but should be for database ").concat(r.projectId,"/").concat(r.database));return{referenceValue:Fm(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.oa("Unsupported field value: ".concat(jk(t)))}(t,e)}function cw(t,e){var n={};return vv(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pv(t,(function(t,i){var r=uw(i,e.ea(t));null!=r&&(n[t]=r)})),{mapValue:{fields:n}}}function lw(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Gp||t instanceof ew||t instanceof Jk||t instanceof Hk||t instanceof tw)}function hw(t,e,n){if(!lw(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var i=jk(n);throw"an object"===i?e.oa(t+" a custom object"):e.oa(t+" "+i)}}var fw=new RegExp("[~\\*/\\[\\]]");function dw(t,e,n){if(e.search(fw)>=0)throw pw("Invalid field path (".concat(e,"). Paths must not contain '~', '*', '/', '[', or ']'"),t,!1,void 0,n);try{return Wu(Xk,lt(e.split(".")))._internalPath}catch(i){throw pw("Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),t,!1,void 0,n)}}function pw(t,e,n,i,r){var o=i&&!i.isEmpty(),a=void 0!==r,s="Function ".concat(e,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field ".concat(i)),a&&(u+=" in document ".concat(r)),u+=")"),new Rp(Np.INVALID_ARGUMENT,s+t+u)}var vw=function(){function t(e,n,i,r,o){wu(this,t),this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=o}return Su(t,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Hk(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var t=new gw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(t){if(this._document){var e=this._document.data.field(mw("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}]),t}(),gw=function(t){Nu(n,t);var e=ju(n);function n(){return wu(this,n),e.apply(this,arguments)}return Su(n,[{key:"data",value:function(){return sl(Ru(n.prototype),"data",this).call(this)}}]),n}(vw);function mw(t,e){return"string"==typeof e?dw(t,e):e instanceof Xk?e._internalPath:e._delegate._internalPath}var yw=function(){function t(e,n){wu(this,t),this.hasPendingWrites=e,this.fromCache=n}return Su(t,[{key:"isEqual",value:function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}]),t}(),_w=function(t){Nu(n,t);var e=ju(n);function n(t,i,r,o,a,s){var u;return wu(this,n),(u=e.call(this,t,i,r,o,s))._firestore=t,u._firestoreImpl=t,u.metadata=a,u}return Su(n,[{key:"exists",value:function(){return sl(Ru(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var e=new kw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(mw("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}}]),n}(vw),kw=function(t){Nu(n,t);var e=ju(n);function n(){return wu(this,n),e.apply(this,arguments)}return Su(n,[{key:"data",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return sl(Ru(n.prototype),"data",this).call(this,t)}}]),n}(_w),ww=function(){function t(e,n,i,r){wu(this,t),this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new yw(r.hasPendingWrites,r.fromCache),this.query=i}return Su(t,[{key:"docs",get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(t,e){var n=this;this._snapshot.docs.forEach((function(i){t.call(e,new kw(n._firestore,n._userDataWriter,i.key,i,new yw(n._snapshot.mutatedKeys.has(i.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Rp(Np.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){return{type:"added",doc:new kw(t._firestore,t._userDataWriter,e.doc.key,e.doc,new yw(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}}))}var i=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new kw(t._firestore,t._userDataWriter,e.doc.key,e.doc,new yw(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),r=-1,o=-1;return 0!==e.type&&(r=i.indexOf(e.doc.key),i=i.delete(e.doc.key)),1!==e.type&&(o=(i=i.add(e.doc)).indexOf(e.doc.key)),{type:bw(e.type),doc:n,oldIndex:r,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),t}();function bw(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Lp()}}function Sw(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new Rp(Np.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Tw=Su((function t(){wu(this,t)}));function xw(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(var r=0,o=n;r<o.length;r++){var a=o[r];t=a._apply(t)}return t}var Cw=function(t){Nu(n,t);var e=ju(n);function n(t,i,r){var o;return wu(this,n),(o=e.call(this)).fa=t,o.da=i,o._a=r,o.type="where",o}return Su(n,[{key:"_apply",value:function(t){var e=aw(t.firestore),n=function(t,e,n,i,r,o,s){var u;if(r.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Rp(Np.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){Iw(s,o);var c,l=[],h=a(s);try{for(h.s();!(c=h.n()).done;){var f=c.value;l.push(Aw(i,t,f))}}catch(p){h.e(p)}finally{h.f()}u={arrayValue:{values:l}}}else u=Aw(i,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Iw(s,o),u=sw(n,"where",s,"in"===o||"not-in"===o);var d=rg.create(r,o,u);return function(t,e){if(e.ht()){var n=bg(t);if(null!==n&&!n.isEqual(e.field))throw new Rp(Np.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(e.field.toString(),"'"));var i=wg(t);null!==i&&Nw(t,e.field,i)}var r=function(t,e){var n,i=a(t.filters);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(e.indexOf(r.op)>=0)return r.op}}catch(p){i.e(p)}finally{i.f()}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw r===e.op?new Rp(Np.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(e.op.toString(),"' filter.")):new Rp(Np.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(e.op.toString(),"' filters with '").concat(r.toString(),"' filters."))}(t,d),d}(t._query,0,e,t.firestore._databaseId,this.fa,this.da,this._a);return new Uk(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new yg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))}}]),n}(Tw);function Ew(t,e,n){var i=e,r=mw("where",t);return new Cw(r,i,n)}var Mw=function(t){Nu(n,t);var e=ju(n);function n(t,i){var r;return wu(this,n),(r=e.call(this)).fa=t,r.wa=i,r.type="orderBy",r}return Su(n,[{key:"_apply",value:function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Rp(Np.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Rp(Np.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var i=new pg(e,n);return function(t,e){if(null===wg(t)){var n=bg(t);null!==n&&Nw(t,n,e.field)}}(t,i),i}(t._query,this.fa,this.wa);return new Uk(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new yg(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))}}]),n}(Tw);function Ow(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=e,i=mw("orderBy",t);return new Mw(i,n)}var Pw=function(t){Nu(n,t);var e=ju(n);function n(t,i,r){var o;return wu(this,n),(o=e.call(this)).type=t,o.ma=i,o.ga=r,o}return Su(n,[{key:"_apply",value:function(t){return new Uk(t.firestore,t.converter,Cg(t._query,this.ma,this.ga))}}]),n}(Tw);function Lw(t){return Fk("limit",t),new Pw("limit",t,"F")}function Aw(t,e,n){if("string"==typeof(n=Xu(n))){if(""===n)throw new Rp(Np.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Sg(e)&&-1!==n.indexOf("/"))throw new Rp(Np.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var i=e.path.child($p.fromString(n));if(!tv.isDocumentKey(i))throw new Rp(Np.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(i,"' is not because it has an odd number of segments (").concat(i.length,")."));return Hv(t,new tv(i))}if(n instanceof Hk)return Hv(t,n._key);throw new Rp(Np.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(jk(n),"."))}function Iw(t,e){if(!Array.isArray(t)||0===t.length)throw new Rp(Np.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(e.toString(),"' filters."));if(t.length>10)throw new Rp(Np.INVALID_ARGUMENT,"Invalid Query. '".concat(e.toString(),"' filters support a maximum of 10 elements in the value array."))}function Nw(t,e,n){if(!n.isEqual(e))throw new Rp(Np.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(e.toString(),"' and so you must also use '").concat(e.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var Rw=function(){function t(){wu(this,t)}return Su(t,[{key:"convertValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Bv(t)){case 0:return null;case 1:return t.booleanValue;case 2:return xv(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Cv(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Lp()}}},{key:"convertObject",value:function(t,e){var n=this,i={};return pv(t.fields,(function(t,r){i[t]=n.convertValue(r,e)})),i}},{key:"convertGeoPoint",value:function(t){return new ew(xv(t.latitude),xv(t.longitude))}},{key:"convertArray",value:function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))}},{key:"convertServerTimestamp",value:function(t,e){switch(e){case"previous":var n=Mv(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Ov(t));default:return null}}},{key:"convertTimestamp",value:function(t){var e=Tv(t);return new Gp(e.seconds,e.nanos)}},{key:"convertDocumentKey",value:function(t,e){var n=$p.fromString(t);Ap(iy(n));var i=new Lv(n.get(1),n.get(3)),r=new tv(n.popFirst(5));return i.isEqual(e)||Mp("Document ".concat(r," contains a document reference within a different database (").concat(i.projectId,"/").concat(i.database,") which is not supported. It will be treated as a reference in the current database (").concat(e.projectId,"/").concat(e.database,") instead.")),r}}]),t}();var Bw=function(t){Nu(n,t);var e=ju(n);function n(t){var i;return wu(this,n),(i=e.call(this)).firestore=t,i}return Su(n,[{key:"convertBytes",value:function(t){return new Jk(t)}},{key:"convertReference",value:function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Hk(this.firestore,null,e)}}]),n}(Rw);function Dw(t){t=Wk(t,Uk);var e=Wk(t.firestore,Gk),n=Qk(e),i=new Bw(e);return Sw(t._query),Nk(n,t._query).then((function(n){return new ww(e,i,t,n)}))}!function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Tp="9.9.0",jc(new Ju("firestore",(function(t,n){var i=n.options,r=t.getProvider("app").getImmediate(),o=new Gk(r,new Wp(t.getProvider("auth-internal")),new Hp(t.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o}),"PUBLIC")),Kc(bp,"3.4.12",t),Kc(bp,"3.4.12","esm2017")}();var jw=function(){function t(){wu(this,t)}return Su(t,null,[{key:"initialize",value:function(){var e=Rt(It().mark((function e(){var n,i,r,o,s,u,c,l;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.initialized){e.next=2;break}return e.abrupt("return");case 2:n=le.wC.v,i=Hc(n),r=Yk(i),o=Zk(r,"reports"),t.reports={},s=Object.values(cu.CITIZEN_SCIENCE.TABS).map((function(t){return t.survey_name})),u=a(s),e.prev=9,l=It().mark((function e(){var n,i,r;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.value,t.reports[n]=[],i=xw(o,Ew("title","==",n),Ow("createdAt","desc"),Lw(cu.CITIZEN_SCIENCE.MAX_OBSERVATIONS)),r=0,e.prev=4,e.next=7,Dw(i);case 7:e.sent.forEach((function(e){r+=1;var i=e.data();!!i.location&&ae(i.location.latitude)&&ae(i.location.longitude)&&0!=i.answers.length&&(i.createdAt=new Date(i.createdAt),i.location=Ht(i.location.latitude,i.location.longitude),t.reports[n].push(i))})),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(4),console.log(e.t0),console.log("Failed to get Citizen Science data for survey '".concat(n,"'")),t.reports[n]=null;case 16:t.num_reads+=r;case 17:case"end":return e.stop()}}),e,null,[[4,11]])})),u.s();case 12:if((c=u.n()).done){e.next=16;break}return e.delegateYield(l(),"t0",14);case 14:e.next=12;break;case 16:e.next=21;break;case 18:e.prev=18,e.t1=e.catch(9),u.e(e.t1);case 21:return e.prev=21,u.f(),e.finish(21);case 24:console.log("Read ".concat(t.num_reads," documents in total")),t.initialized=!0;case 26:case"end":return e.stop()}}),e,null,[[9,18,21,24]])})));return function(){return e.apply(this,arguments)}}()},{key:"is_loading",value:function(){var e=Rt(It().mark((function e(){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",void 0===t.reports);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"is_unavailable",value:function(){var e=Rt(It().mark((function e(){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null===t.reports);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"get_reports",value:function(){var e=Rt(It().mark((function e(){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.initialize();case 3:e.next=10;break;case 5:throw e.prev=5,e.t0=e.catch(0),console.log(e.t0),t.reports=null,Error("Failed to initialize Firebase");case 10:return e.abrupt("return",t.reports);case 11:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),t}();jw.initialized=!1,jw.num_reads=0;var Ww=function(t){var n=s((0,e.useState)(void 0),2),i=n[0],r=n[1],o=void 0===i,a=null===i;return(0,e.useEffect)((function(){jw.get_reports().then((function(t){r(t)})).catch((function(t){r(null),console.log(t)}))}),[]),(0,rt.jsx)("div",{className:"module-container",children:o?(0,rt.jsx)("div",{className:"citizen-science-msg",children:"Loading Citizen Science data"}):a?(0,rt.jsx)("div",{className:"citizen-science-msg",children:"Citizen Science data is temporarily unavailable"}):(0,rt.jsx)(yu,{module:cu.CITIZEN_SCIENCE,context:[i]})})};var Fw=function(t){return(0,rt.jsx)(yu,{module:cu.RIVER_CONDITIONS,default_bottom_tab_idx:2})};var zw=function(t){return(0,rt.jsx)(yu,{module:cu.LAKE_CONDITIONS,default_bottom_tab_idx:2})},Vw=JSON.parse('[{"location":"Incline Village","coords":[39.249849,-119.95264],"photos":{"Fall":[{"filename":"Incline_mountainbiking_NLTRA.jpg","credit":"Tyler Bourns"}],"Winter":[{"filename":"DiamondPeak_Winter_Toy3.jpg","credit":"Alison Toy, UC Davis TERC"}],"Summer":[{"filename":"Incline_summer_NLTRA.jpg","credit":"North Lake Tahoe Visitor Authority"}],"Spring":[{"filename":"Incline_Kayaking_NLTRA.jpg","credit":"Chris Bartkowski"}]}},{"location":"Sand Harbor State Park","coords":[39.198485,-119.932195],"photos":{"Fall":[{"filename":"SandHarbor_Fall_Wikipedia.jpg","credit":"Wikimedia Commons"}],"Winter":[{"filename":"SandHarbor_Winter_Wikipedia.jpg","credit":"Wikimedia Commons"}],"Summer":[{"filename":"Sand_Harbor_Summer_KarenHutton.jpg","credit":"Karen Hutton, Wikimedia Commons"}],"Spring":[{"filename":"SandHarbor_Spring_Wikimedia.jpg","credit":"Wikimedia Commons"}]}},{"location":"Marlette Lake","coords":[39.173149,-119.901551],"photos":{"Fall":[{"filename":"Marlette_Fall_Flickr.jpg","credit":"J. Cook, Flickr"}],"Winter":[{"filename":"MarletteLake_Winter_LakeTahoeAllAccess.jpg","credit":"Lake Tahoe All Acess"}],"Summer":[{"filename":"Marlette_Summer.jpg","credit":"Rick Cooper, WikiCommons"}],"Spring":[{"filename":"Marlette_Spring_Flickr2.jpg","credit":"DHReno, Flickr"}]}},{"location":"Skunk Harbor","coords":[39.132873,-119.946433],"photos":{"Fall":[{"filename":"SkunkHarbor_Toy.jpg","credit":"Alison Toy, UC Davis TERC"}],"Winter":[{"filename":"SKunkHarbor_Winter_TahoeClarity.jpg","credit":"Tahoe Clarity"}],"Summer":[{"filename":"Skunk_Harbor_Summer_Flickr.jpg","credit":"Flickr"}],"Spring":[{"filename":"SkunkHarbor_Spring_Toy.jpg","credit":"Alison Toy, UC Davis TERC"}]}},{"location":"Cave Rock","coords":[39.043622,-119.948744],"photos":{"Fall":[{"filename":"CaveRock_Fall.jpg","credit":"Wikimedia Commons"}],"Winter":[{"filename":"CaveRock_Winter_LTVA.jpg","credit":"Rachid Dahnoun, LTVA"}],"Summer":[{"filename":"CaveRock_Summer.jpg","credit":"Wikimedia Commons"}],"Spring":[{"filename":"CaveRockSpring.jpg","credit":"Wikimedia Commons"}]}},{"location":"Zephyr Cove","coords":[39.007808,-119.947069],"photos":{"Fall":[{"filename":"ZephyrCove_FallSpring_LTVA.jpg","credit":"Allen Hughes, LTVA"}],"Winter":[{"filename":"ZephyrCove_Winter_LTVA.jpg","credit":"Lake Tahoe Visitor Authority"}],"Summer":[{"filename":"ZephyrCove_Summer_LTVA.jpg","credit":"Rod Hanna, LTVA"}],"Spring":[{"filename":"ZephyrCove_Spring.jpg","credit":"Don Graham, Flickr"}]}},{"location":"Heavenly","coords":[38.941998,-119.909175],"photos":{"Fall":[{"filename":"Heavenly_Fall_Flickr.jpg","credit":"Flickr"}],"Winter":[{"filename":"Heavenly_Winter_LTVA.jpg","credit":"Matt Gibson, LTVA"}],"Summer":[{"filename":"Heavenly_Summer_LTVA.jpg","credit":"Lauren Lindley, LTVA"}],"Spring":[{"filename":"Heavenly_Spring.jpg","credit":"Wikimedia Commons"}]}},{"location":"South Lake Tahoe","coords":[38.944334,-119.978517],"photos":{"Fall":[{"filename":"SLT_Fall_WikimediaCommons.jpg","credit":"Wikimedia Commons"}],"Winter":[{"filename":"SLT_Winter_LTVA.jpg","credit":"Lake Tahoe Visitor Authority"}],"Summer":[{"filename":"SLT_Summer_LTVA.jpg","credit":"Lake Tahoe Visitor Authority"}],"Spring":[{"filename":"SLT_FallSpring_LTVA.jpg","credit":"Lake Tahoe Visitor Authority"}]}},{"location":"Regan Beach/Lakeview Commons","coords":[38.944403,-119.981454],"photos":{"Fall":[{"filename":"ReganBeach_fall.jpg","credit":"Kendall Price Photography"}],"Winter":[{"filename":"Regan_Winter_LTVA.jpg","credit":"Brian Scott, LTVA"}],"Summer":[{"filename":"Regan_Summer_Wiki.jpg","credit":"Aex Proimos, Wikimedia Commons"}],"Spring":[{"filename":"ReganBeach_Spring.jpg","credit":"South Tahoe Standup Paddle, LTVA"}]}},{"location":"Camp Richardson","coords":[38.93472,-120.040838],"photos":{"Fall":[{"filename":"Richardson_Fall_LTVA.jpg","credit":"Ski Lake Tahoe, LTVA"}],"Winter":[{"filename":"Richardson_Winter_LTVA.jpg","credit":"Blanke Everett, Wikimedia Commons"}],"Summer":[{"filename":"Richardson_Summer_LTVA.jpg","credit":"Jamie Kingham, LTVA"}],"Spring":[{"filename":"Richardson_Spring_LTVA.jpg","credit":"Brian Williams, LTVA"}]}},{"location":"Taylor Creek","coords":[38.935669,-120.053],"photos":{"Fall":[{"filename":"TaylorCreek_Fall.jpg","credit":"Wikipedia Commons"}],"Winter":[{"filename":"TaylorCreek_Winter_Blogspot.jpg","credit":"Blogspot"}],"Summer":[{"filename":"TaylorCreek_Summer_LTVA.jpg","credit":"Brad Scott, LTVA"}],"Spring":[{"filename":"TaylorCreek_Spring_Flickr.jpg","credit":"Flickr"}]}},{"location":"Fallen Leaf Lake","coords":[38.905241,-120.061436],"photos":{"Fall":[{"filename":"FallenLeaf_Fall_LTVA.jpg","credit":"Rachid Dahnoun, LTVA"}],"Winter":[{"filename":"FallenLeaf_Winter_Wiki.jpg","credit":"Wikimedia Commons"}],"Summer":[{"filename":"FallenLeaf_Summer_LTVA.jpg","credit":"Merrick Rickman, LTVA"}],"Spring":[{"filename":"FallenLeaf_Spring_LTVA.jpg","credit":"Brad Scott, LTVA"}]}},{"location":"Desolation Wilderness","coords":[38.978208,-120.187783],"photos":{"Fall":[{"filename":"Desolation_fall_LTVA.jpg","credit":"Lake Tahoe Visitor Authority"}],"Winter":[{"filename":"Desolation_Winter_WikipediaCommons.jpg","credit":"Wikipedia Commons"}],"Summer":[{"filename":"Desolation_summer_wikipedia.jpg","credit":"Wikipedia Commons"}],"Spring":[{"filename":"Desolation_spring_wikipediacommons.jpg","credit":"Wikipedia Commons"}]}},{"location":"Emerald Bay","coords":[38.955301,-120.095943],"photos":{"Fall":[{"filename":"Emeraldbay_fall_wikipedia.jpg","credit":"Wikipedia Commons"}],"Winter":[{"filename":"Emeraldbay_winter_wikipedia.jpg","credit":"Wikipedia Commons"}],"Summer":[{"filename":"Emeraldbay_Summer_Flickr.jpg","credit":"Reno Tahoe Authority, Flickr"}],"Spring":[{"filename":"Emeraldbay_Spring_wikipedia.jpg","credit":"Wikipedia Commons"}]}},{"location":"DL Bliss State Park","coords":[38.999399,-120.100368],"photos":{"Fall":[{"filename":"DLBliss_Fall_Wikimedia.jpg","credit":"Wikimedia Commons"}],"Winter":[{"filename":"DLBliss_Rubicontraillighthouse_Toy.jpg","credit":"Alison Toy, UC Davis TERC"}],"Summer":[{"filename":"DLBliss_Summer_Flickr.jpg","credit":"Ray Bouknight, Flickr"}],"Spring":[{"filename":"DLBliss_Spring_Toy.jpg","credit":"Alison Toy, UC Davis TERC"}]}},{"location":"Rubicon Bay","coords":[39.013314,-120.114411],"photos":{"Fall":[],"Winter":[],"Summer":[{"filename":"RubiconBay_Summer_Flickr_RayBouknight.jpg","credit":"Flickr, Ray Bouknight"}],"Spring":[{"filename":"RubiconBay_Spring_Flickr_RayBouknight.jpg","credit":"Flickr, Ray Bouknight"}]}},{"location":"Meeks Bay","coords":[39.038691,-120.123228],"photos":{"Fall":[{"filename":"MeeksBay_Fall.jpg","credit":"Meeks Bay Realty"}],"Winter":[{"filename":"MeeksBay_Winter.jpg","credit":"Meeks Bay Realty"}],"Summer":[{"filename":"MeeksBay_Summer_Flickr_IanGratton.jpg","credit":"Ian Gratton, Flickr"}],"Spring":[{"filename":"MeeksBay_Spring_Flickr.jpg","credit":"The Tahoe Guy, Flickr"}]}},{"location":"Tahoma","coords":[39.067382,-120.128587],"photos":{"Fall":[{"filename":"Tahoma_Fall_Flickr.jpg","credit":"Flickr, Christian Arballo"}],"Winter":[{"filename":"Tahoma_Winter_BlogSpotKaty.jpg","credit":"BlogSpot"}],"Summer":[{"filename":"Tahoma_summer.jpg","credit":"Sierra State Parks Foundation"}],"Spring":[{"filename":"Tahoma_spring.jpg","credit":"Flickr"}]}},{"location":"Sugar Pine Point State Park","coords":[39.053489,-120.113454],"photos":{"Fall":[{"filename":"SugarPine_fall.jpg","credit":"Sierra State Parks Foundation"}],"Winter":[{"filename":"SugarPine_winter.jpg","credit":"Sierra State Parks Foundation"}],"Summer":[{"filename":"SugarPine_summer.jpg","credit":"Wikimedia Commons"}],"Spring":[{"filename":"SugarPine_spring.jpg","credit":"Flickr"}]}},{"location":"Homewood","coords":[39.085596,-120.160521],"photos":{"Fall":[{"filename":"Homewood_Fall.jpg","credit":"Flickr, Gabi L."}],"Winter":[{"filename":"Homewood_Winter_RyanSalmPhotography.jpg","credit":"Ryan Salm Photography"}],"Summer":[{"filename":"Homewood_Summer_Toy.jpg","credit":"Alison Toy, UC Davis TERC"}],"Spring":[{"filename":"Homewood_Spring.jpg","credit":"Wikimedia Commons"}]}},{"location":"Eagle Rock","coords":[39.109061,-120.161395],"photos":{"Fall":[{"filename":"EagleRock_Fall_Toy.jpg","credit":"Alison Toy, UC Davis TERC"}],"Winter":[{"filename":"EagleRock_Winter_Agustin.jpg","credit":"Sandra Day Morales Agustin"}],"Summer":[{"filename":"EagleRock_Summer_Wikicommons.jpg","credit":"Wikimedia Commons"}],"Spring":[{"filename":"EagleRock_Spring_Toy.jpg","credit":"Alison Toy, UC Davis TERC"}]}},{"location":"Hurricane Bay","coords":[39.122917,-120.161487],"photos":{"Fall":[],"Winter":[{"filename":"HurricanBay_Winter2.jpg","credit":"Wikimedia Commons"}],"Summer":[{"filename":"HurricaneBay_Summer_Toy.jpg","credit":"Alison Toy, UC Davis TERC"}],"Spring":[{"filename":"HurrianeBay_Spring_LauraAllen.jpg","credit":"Laura Allen, Tahoe Laura Luxury Homes"}]}},{"location":"Sunnyside","coords":[39.139151,-120.153573],"photos":{"Fall":[{"filename":"Sunnyside_Fall.jpg","credit":"Sunnyside Restaurant and Lodge"}],"Winter":[{"filename":"Sunnyside_Winter_NLTRA.jpg","credit":"North Lake Tahoe Resort Association"}],"Summer":[{"filename":"Sunnyside_Summer.jpg","credit":"Gerry Morre, Kiwi Kamera"}],"Spring":[{"filename":"Sunnyside_Spring.jpg","credit":"Sunnyside Restaurant and Lodge"}]}},{"location":"Alpine Meadows","coords":[39.164582,-120.238795],"photos":{"Fall":[{"filename":"AlpineMeadows_Fall_Toy.jpg","credit":"Alison Toy, UC Davis TERC"}],"Winter":[{"filename":"Alpine_Winter_Toy.jpg","credit":"Alison Toy, UC Davis TERC"}],"Summer":[{"filename":"AlpineMeadows_Summer_Toy.jpg","credit":"Alison Toy, UC Davis TERC"}],"Spring":[{"filename":"AlpineMeadows_Spring_Toy.jpg","credit":"Alison Toy, UC Davis TERC"}]}},{"location":"Squaw Valley","coords":[39.195854,-120.235207],"photos":{"Fall":[{"filename":"Squaw_Fall_Toy2.jpg","credit":"Alison Toy, UC Davis TERC"}],"Winter":[{"filename":"Squaw_Winter_Flickr.jpg","credit":"Flickr, Squaw Valley Lodge"}],"Summer":[{"filename":"Squaw_Summer_Flickr.jpg","credit":"Flickr, Squaw Valley Lodge"}],"Spring":[{"filename":"Squaw_Spring_McMahon.jpg","credit":"Nick McMahon"}]}},{"location":"Tahoe City","coords":[39.17058,-120.142262],"photos":{"Fall":[{"filename":"TahoeCity_Fall_NLTRA.jpg","credit":"North Lake Tahoe Resort Association"}],"Winter":[{"filename":"TahoeCity_Winter_Niobe Burden.jpg","credit":"Niobe Burden"}],"Summer":[{"filename":"TahoeCity_Summer_RyanSalmPhotography.jpg","credit":"Ryan Salm Photography"}],"Spring":[{"filename":"TahoeCity_Spring_McMahon.jpg","credit":"Nick McMahon"}]}},{"location":"Dollar Point","coords":[39.1865,-120.096049],"photos":{"Fall":[{"filename":"Skylandia_Sunset_Toy.jpg","credit":"Alison Toy, UC Davis TERC"}],"Winter":[{"filename":"Skylandia_Winter_McMahon.jpg","credit":"Nick McMahon"}],"Summer":[{"filename":"Skylandia_Summer_Toy.jpg","credit":"Alison Toy, UC Davis TERC"}],"Spring":[{"filename":"Skylandia_Spring_McMahon.jpg","credit":"Nick McMahon"}]}},{"location":"Carnelian Bay","coords":[39.226725,-120.081893],"photos":{"Fall":[{"filename":"CarnelianBay_Fall.jpg","credit":"North Lake Tahoe Resort Association"}],"Winter":[{"filename":"CarnelianBay_Winter2_Toy.jpg","credit":"Alison Toy, UC Davis TERC"}],"Summer":[{"filename":"CarnelianBay_Summer_NLTRA.jpg","credit":"North Lake Tahoe Resort Association"}],"Spring":[{"filename":"CarnelianBay_Spring_Toy.jpg","credit":"Alison Toy, UC Davis TERC"}]}},{"location":"Tahoe Vista","coords":[39.239805,-120.048555],"photos":{"Fall":[{"filename":"TahoeVista_MoonDunes_Fall_Toy.jpg","credit":"Alison Toy, UC Davis TERC"}],"Winter":[{"filename":"TahoeVista_Winter2_Flickr.jpg","credit":"Flickr, Mike Vondran"}],"Summer":[{"filename":"TahoeVista_Summer_pix.jpg","credit":"Pixabay"}],"Spring":[{"filename":"TahoeVista_Spring_McMahon.jpg","credit":"Nick McMahon"}]}},{"location":"Kings Beach","coords":[39.236861,-120.024789],"photos":{"Fall":[{"filename":"KingsBeach_Fall_Flickr_KenLund.jpg","credit":"Flickr, Ken Lund"}],"Winter":[{"filename":"KingsBeach_Winter_NLTRA.jpg","credit":"North Lake Tahoe Resort Association"}],"Summer":[{"filename":"KingsBeach_Summer.jpg","credit":"Wikimedia Commons"}],"Spring":[{"filename":"KingsBeach_Spring_WikiCommons.jpg","credit":"WikiCommons (DimiCalifornia) "}]}},{"location":"Northstar","coords":[39.274957,-120.120601],"photos":{"Fall":[{"filename":"Northstar_Fall.jpg","credit":"Northstar California"}],"Winter":[{"filename":"Northstar_Winter_Vail.jpg","credit":"Northstar California"}],"Summer":[{"filename":"Northstar_Summer.jpg","credit":"Northstar California"}],"Spring":[{"filename":"Northstar_Spring.jpg","credit":"Northstar California"}]}},{"location":"Mount Rose","coords":[39.3437,-119.9171],"photos":{"Fall":[{"filename":"MtRose_Winter2_NLTRA.jpg","credit":"North Lake Tahoe Resort Association"}],"Winter":[{"filename":"MtRose_Winter_NLTRA.jpg","credit":"North Lake Tahoe Resort Association"}],"Summer":[{"filename":"MtRose_Summer_Trover.jpg","credit":"Trover"}],"Spring":[{"filename":"MtRose_Spring_WikimediaCommons.jpg","credit":"Wikimedia Commons"}]}}]');var Hw=function(t){var n,i=s(et(),2),r=i[0],o=i[1],a=s(W(),1),u=s(a[0],4),c=(u[0],u[1]),l=u[2],h=u[3];(0,e.useEffect)((function(){var t=Vw.map((function(t,e){var n=t.location,i=t.coords;return(0,rt.jsx)(Pu,{position:Ht.apply(void 0,lt(i)),location:n,onClick:function(){return h(e)},active:e===l},"photo-marker-".concat(e))}));c(t)}),[l]);var f,d=Vw[l],p=function(t){return t.charAt(0).toUpperCase()+t.slice(1)}(null!==(n=r.get("season"))&&void 0!==n?n:Wt[0]),v=d.photos[p];if(v.length>=1){var g=v[0],m=g.filename,y=g.credit,_="/laketahoeindepth/static/img/photos/".concat(m);f=(0,rt.jsxs)("div",{className:"photos-container",children:[(0,rt.jsx)("div",{className:"photos-img",style:{backgroundImage:"url(".concat(_,")")},alt:d.location}),(0,rt.jsxs)("div",{className:"photos-location",children:[" ",d.location," "]}),(0,rt.jsxs)("div",{className:"photos-credit",children:[" ",y]})]})}else f=(0,rt.jsxs)("div",{className:"photos-container",children:[(0,rt.jsxs)("div",{className:"photos-location",children:[" ",d.location," "]}),(0,rt.jsx)("div",{className:"photos-placeholder",children:"No image found"})]});return(0,rt.jsxs)("div",{className:"module-container",children:[(0,rt.jsx)("div",{className:"module-content",children:f}),(0,rt.jsx)(mu,{onTabChanged:function(t){var e=Wt[t];r.set("season",e.toLowerCase()),o(r)},tab_names:Wt})]})};var Uw=function(t){return(0,rt.jsx)("div",{className:"live-container",children:"In Construction"})},Kw=JSON.parse('[{"activity":"Birdwatching","activity_group":"On the Water","coords":[39.166842,-120.144338],"location":"Fanny Bridge"},{"activity":"Birdwatching","activity_group":"On the Water","coords":[38.925737,-119.975038],"location":"Trout Creek"},{"activity":"Boating","activity_group":"On the Water","coords":[39.397785,-120.108229],"location":"Boca Reservoir"},{"activity":"Boating","activity_group":"On the Water","coords":[38.934489,-120.04098],"location":"Camp Richardson Resort"},{"activity":"Boating","activity_group":"On the Water","coords":[39.044146,-119.94891],"location":"Cave Rock Boat Ramp"},{"activity":"Boating","activity_group":"On the Water","coords":[39.234614,-120.02267],"location":"Coon St. Boat Launch"},{"activity":"Boating","activity_group":"On the Water","coords":[38.977767,-120.102996],"location":"D.L. Bliss State Park"},{"activity":"Boating","activity_group":"On the Water","coords":[39.324785,-120.264068],"location":"Donner Lake"},{"activity":"Boating","activity_group":"On the Water","coords":[39.324538,-120.286286],"location":"Donner Lake Marina"},{"activity":"Boating","activity_group":"On the Water","coords":[38.8422448,-120.06508],"location":"Echo Lakes"},{"activity":"Boating","activity_group":"On the Water","coords":[39.0732613,-120.1445],"location":"Ed Z\'berg Sugar Pine Point State Park"},{"activity":"Boating","activity_group":"On the Water","coords":[38.9344978,-119.98435],"location":"El Dorado Beach & Boat Ramp"},{"activity":"Boating","activity_group":"On the Water","coords":[38.95447,-120.11048],"location":"Emerald Bay State Park"},{"activity":"Boating","activity_group":"On the Water","coords":[38.880757,-120.069275],"location":"Fallen Leaf Lake"},{"activity":"Boating","activity_group":"On the Water","coords":[38.8789406,-120.06576],"location":"Fallen Leaf Marina"},{"activity":"Boating","activity_group":"On the Water","coords":[39.139325,-120.153747],"location":"High Sierra Water Ski School"},{"activity":"Boating","activity_group":"On the Water","coords":[39.084742,-120.159408],"location":"Homewood Marina"},{"activity":"Boating","activity_group":"On the Water","coords":[39.121587,-120.161498],"location":"Hurricane Bay"},{"activity":"Boating","activity_group":"On the Water","coords":[39.236493,-120.025453],"location":"Kings Beach State Recreation Area"},{"activity":"Boating","activity_group":"On the Water","coords":[39.182008,-120.11969],"location":"Lake Forest Boat Ramp"},{"activity":"Boating","activity_group":"On the Water","coords":[38.9588394,-119.95119],"location":"Lakeside Marina"},{"activity":"Boating","activity_group":"On the Water","coords":[39.318727,-120.113144],"location":"Martis Creek Lake"},{"activity":"Boating","activity_group":"On the Water","coords":[39.038657,-120.123754],"location":"Meeks Bay Resort & Marina"},{"activity":"Boating","activity_group":"On the Water","coords":[39.237881,-120.04306],"location":"North Tahoe Marina"},{"activity":"Boating","activity_group":"On the Water","coords":[39.081761,-120.157641],"location":"Obexer\'s Boat Co."},{"activity":"Boating","activity_group":"On the Water","coords":[39.379803,-120.157553],"location":"Prosser Creek Reservoir"},{"activity":"Boating","activity_group":"On the Water","coords":[39.200577,-119.930372],"location":"Sand Harbor Boat Ramp"},{"activity":"Boating","activity_group":"On the Water","coords":[39.236847,-120.029839],"location":"Secline Beach"},{"activity":"Boating","activity_group":"On the Water","coords":[39.226563,-120.080528],"location":"Sierra Boat Co."},{"activity":"Boating","activity_group":"On the Water","coords":[39.240096,-119.945476],"location":"Ski Beach Boat Launch (IVGID only)"},{"activity":"Boating","activity_group":"On the Water","coords":[38.9496803,-119.95895],"location":"Ski Run Boat Company"},{"activity":"Boating","activity_group":"On the Water","coords":[39.468512,-120.131632],"location":"Stampede Reservoir"},{"activity":"Boating","activity_group":"On the Water","coords":[39.139077,-120.1553769],"location":"Sunnyside Marina"},{"activity":"Boating","activity_group":"On the Water","coords":[39.171851,-120.137902],"location":"Tahoe City Marina"},{"activity":"Boating","activity_group":"On the Water","coords":[39.3257949,-120.2380744],"location":"Tahoe Donner Beach Club Marina"},{"activity":"Boating","activity_group":"On the Water","coords":[38.9331589,-120.00052],"location":"Tahoe Keys Marina"},{"activity":"Boating","activity_group":"On the Water","coords":[39.239373,-120.048407],"location":"Tahoe Vista Rec. Area"},{"activity":"Boating","activity_group":"On the Water","coords":[38.9464417,-119.96696],"location":"Timber Cove Marina"},{"activity":"Boating","activity_group":"On the Water","coords":[39.139856,-120.154001],"location":"William Kent Beach"},{"activity":"Boating","activity_group":"On the Water","coords":[39.0093689,-119.94726],"location":"Zephyr Cove Resort Marina"},{"activity":"Fishing","activity_group":"On the Water","coords":[39.390974,-120.092438],"location":"Boca Reservoir"},{"activity":"Fishing","activity_group":"On the Water","coords":[38.9872131,-119.94563],"location":"Cave Rock State Park"},{"activity":"Fishing","activity_group":"On the Water","coords":[38.977767,-120.102993],"location":"D.L. Bliss State Park"},{"activity":"Fishing","activity_group":"On the Water","coords":[38.9539007,-120.2020549],"location":"Desolation Wilderness"},{"activity":"Fishing","activity_group":"On the Water","coords":[39.324785,-120.264066],"location":"Donner Lake"},{"activity":"Fishing","activity_group":"On the Water","coords":[38.8422448,-120.06508],"location":"Echo Lakes"},{"activity":"Fishing","activity_group":"On the Water","coords":[39.0732613,-120.1446],"location":"Ed Z\'berg Sugar Pine Point State Park"},{"activity":"Fishing","activity_group":"On the Water","coords":[38.95447,-120.110477],"location":"Emerald Bay State Park"},{"activity":"Fishing","activity_group":"On the Water","coords":[38.880757,-120.069273],"location":"Fallen Leaf Lake"},{"activity":"Fishing","activity_group":"On the Water","coords":[39.236493,-120.025454],"location":"Kings Beach State Recreation Area"},{"activity":"Fishing","activity_group":"On the Water","coords":[39.318727,-120.113142],"location":"Martis Creek Lake"},{"activity":"Fishing","activity_group":"On the Water","coords":[39.379803,-120.157551],"location":"Prosser Creek Reservoir"},{"activity":"Fishing","activity_group":"On the Water","coords":[39.199166,-120.217718],"location":"Resort at Squaw Creek"},{"activity":"Fishing","activity_group":"On the Water","coords":[39.257913,-120.111677],"location":"Sawmill Lake"},{"activity":"Fishing","activity_group":"On the Water","coords":[38.8886608,-120.02611],"location":"Sawmill Pond; Kids Fishing"},{"activity":"Fishing","activity_group":"On the Water","coords":[39.236847,-120.02984],"location":"Secline Beach"},{"activity":"Fishing","activity_group":"On the Water","coords":[39.10447,-119.897294],"location":"Spooner Lake"},{"activity":"Fishing","activity_group":"On the Water","coords":[39.468512,-120.131625],"location":"Stampede Reservoir"},{"activity":"Fishing","activity_group":"On the Water","coords":[38.936285,-120.014409],"location":"Tahoe Keys"},{"activity":"Fishing","activity_group":"On the Water","coords":[39.174709,-120.136985],"location":"Tahoe State Recreation Area"},{"activity":"Fishing","activity_group":"On the Water","coords":[38.9302673,-119.97864],"location":"Tahoe Trout Farm"},{"activity":"Fishing","activity_group":"On the Water","coords":[38.865718,-120.022439],"location":"Washoe Meadows State Park"},{"activity":"Fishing","activity_group":"On the Water","coords":[39.318432,-120.289604],"location":"West End Beach"},{"activity":"Fishing","activity_group":"On the Water","coords":[39.139856,-120.154002],"location":"William Kent Beach"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[39.1645694444,-120.143661111],"location":"64 Acres Beach Access"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[39.238826,-120.048809],"location":"Agatam Beach"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[38.9423891,-120.06556],"location":"Baldwin Beach"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[39.390974,-120.092441],"location":"Boca Reservoir"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[39.246374,-119.968292],"location":"Burnt Cedar Beach (IVGID only)"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[38.9382583333,-120.039183333],"location":"Camp Richardson Resort"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[38.937742,-120.039268],"location":"Camp Richardson-Cascade"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[39.2261861111,-120.080208333],"location":"Carnelian Bay (Patton/Watermens Landing)"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[39.2256361111,-120.082897222],"location":"Carnelian Bay (West)"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[39.225432,-120.083348],"location":"Carnelian Bay Beach"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[39.0424,-119.948602778],"location":"Cave Rock Boat Launch"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[38.9872131,-119.94566],"location":"Cave Rock State Park"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[39.072434,-120.141647],"location":"Chambers Landing Beach"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[39.16767,-119.926577],"location":"Chimney Beach"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[39.1692833333,-120.142036111],"location":"Commons Beach"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[38.9471055556,-119.966427778],"location":"Connolly Beach/Beach Retreat & Lodge at Tahoe"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[39.23461,-120.022695],"location":"Coon Street Dog Beach"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[38.977767,-120.102995],"location":"D.L. Bliss State Park"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[39.0003222222,-120.101366667],"location":"D.L. Bliss State Park (Lester Beach/Campground)"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[39.324785,-120.264065],"location":"Donner Lake"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[39.0112805556,-119.947544444],"location":"Dreyfus Beach"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[38.8422448,-120.06509],"location":"Echo Lakes"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[39.0732613,-120.1444],"location":"Ed Z\'berg Sugar Pine Point State Park"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[38.9344978,-119.98436],"location":"El Dorado Beach & Boat Ramp"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[39.114415,-120.158078],"location":"Elizabeth Williams Park"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[38.95447,-120.110479],"location":"Emerald Bay State Park"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[38.880757,-120.06927],"location":"Fallen Leaf Lake"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[39.173664,-119.928952],"location":"Hidden Beach"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[39.0845444444,-120.159580556],"location":"Homewood Marina"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[39.121587,-120.161498],"location":"Hurricane Bay"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[39.240342,-119.9486541],"location":"Incline Beach (IVGID only)"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[39.243489,-119.94273],"location":"Incline Village Recreation Center"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[39.1129888889,-120.1581],"location":"Kaspian Beach Picnic Area"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[39.236493,-120.025449],"location":"Kings Beach State Recreation Area"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[39.2347527778,-120.022388889],"location":"Kings Beach/Coon Street Boat Ramp"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[38.9395083333,-120.052802778],"location":"Kiva Beach/Tallac Historic Site"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[39.1809361111,-120.115355556],"location":"Lake Forest Beach"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[39.181088,-120.115389],"location":"Lake Forest Beach Park"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[39.1813027778,-120.119588889],"location":"Lake Forest Boat Ramp/Campground"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[38.94435,-119.977297222],"location":"Lakeview Commons/ Boat Ramp"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[39.318727,-120.113143],"location":"Martis Creek Lake"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[39.0361916667,-120.121791667],"location":"Meeks Bay Beach and Campground"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[39.0374111111,-120.122625],"location":"Meeks Bay Resort"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[39.038657,-120.123756],"location":"Meeks Bay Resort & Marina"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[39.209462,-119.929719],"location":"Memorial Point"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[39.238296,-120.041194],"location":"Moon Dunes Beach"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[38.9821888889,-119.953822222],"location":"Nevada Beach /Campground"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[39.237192,-120.031704],"location":"North Tahoe Beach"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[39.0812694444,-120.1579],"location":"Obexer\'s Marina (Beach Area)"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[39.226319,-120.079618],"location":"Patton Beach"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[39.226711,-120.07947],"location":"Patton Landing"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[38.936825,-120.029997222],"location":"Pope Beach"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[39.379803,-120.157552],"location":"Prosser Creek Reservoir"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[38.9440805556,-119.986008333],"location":"Regan Beach"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[38.9899055556,-119.952130556],"location":"Roundhill Pines Beach/Marina"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[39.2005555556,-119.930052778],"location":"Sand Harbor"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[39.198565,-119.928292],"location":"Sand Harbor Nevada State Park"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[39.239929,-120.051354],"location":"Sandy Beach"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[38.889069,-120.025974],"location":"Sawmill Pond"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[39.236847,-120.029837],"location":"Secline Beach"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[39.147787,-119.933682],"location":"Secret Harbor"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[39.326755,-120.265468],"location":"Shoreline Park"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[39.240096,-119.945473],"location":"Ski Beach (IVGID only)"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[39.128757,-119.931371],"location":"Skunk Harbor"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[39.184175,-120.110191],"location":"Skylandia Beach"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[39.223942,-120.008617],"location":"Speedboat Beach"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[39.468512,-120.131629],"location":"Stampede Reservoir"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[39.0499555556,-120.113263889],"location":"Sugar Pine Point State Park"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[39.1387277778,-120.153113889],"location":"Sunnyside Marina (Beach area)"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[39.174709,-120.136987],"location":"Tahoe State Recreation Area"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[39.2390388889,-120.048141667],"location":"Tahoe Vista Recreation Area"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[38.947178,-119.966484],"location":"Timber Cove"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[39.1663166667,-120.143441667],"location":"Truckee River Outlet / Gatekeeper\'s Museum"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[38.844736,-120.029469],"location":"Upper Truckee River"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[38.9327361111,-120.000525],"location":"Upper Truckee River Access"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[39.318432,-120.289604],"location":"West End Beach"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[39.139856,-120.154003],"location":"William Kent Beach"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[39.1396722222,-120.153936111],"location":"William Kent Beach (Campground)"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[39.0093689,-119.94726],"location":"Zephyr Cove Beach"},{"activity":"Kayaking & Canoeing","activity_group":"On the Water","coords":[39.0078972222,-119.948005556],"location":"Zephyr Cove Resort"},{"activity":"Kite Surfing & Windsurfing","activity_group":"On the Water","coords":[38.9423891,-120.06557],"location":"Baldwin Beach"},{"activity":"Kite Surfing & Windsurfing","activity_group":"On the Water","coords":[39.390974,-120.092443],"location":"Boca Reservoir"},{"activity":"Kite Surfing & Windsurfing","activity_group":"On the Water","coords":[39.324785,-120.264069],"location":"Donner Lake"},{"activity":"Kite Surfing & Windsurfing","activity_group":"On the Water","coords":[38.8422448,-120.06508],"location":"Echo Lakes"},{"activity":"Kite Surfing & Windsurfing","activity_group":"On the Water","coords":[38.880757,-120.069274],"location":"Fallen Leaf Lake"},{"activity":"Kite Surfing & Windsurfing","activity_group":"On the Water","coords":[39.236493,-120.025451],"location":"Kings Beach State Recreation Area"},{"activity":"Kite Surfing & Windsurfing","activity_group":"On the Water","coords":[39.468512,-120.131634],"location":"Stampede Reservoir"},{"activity":"Kite Surfing & Windsurfing","activity_group":"On the Water","coords":[39.174709,-120.136987],"location":"Tahoe State Recreation Area"},{"activity":"Kite Surfing & Windsurfing","activity_group":"On the Water","coords":[39.0093689,-119.94726],"location":"Zephyr Cove Beach"},{"activity":"other","activity_group":"On the Water","coords":[39.167087,-120.14406],"location":"Lake Tahoe Dam"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[39.1645694444,-120.143661111],"location":"64 Acres Beach Access"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[39.238826,-120.048809],"location":"Agatam Beach"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[38.9433138889,-120.068675],"location":"Baldwin Beach"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[39.390974,-120.09244],"location":"Boca Reservoir"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[39.246374,-119.968292],"location":"Burnt Cedar Beach (IVGID only)"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[38.9382583333,-120.039183333],"location":"Camp Richardson Resort"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[39.2261861111,-120.080208333],"location":"Carnelian Bay (Patton/Watermens Landing)"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[39.2256361111,-120.082897222],"location":"Carnelian Bay (West)"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[39.225432,-120.083348],"location":"Carnelian Bay Beach"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[39.0424,-119.948602778],"location":"Cave Rock Boat Launch"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[38.9872131,-119.94565],"location":"Cave Rock State Park"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[39.072434,-120.141647],"location":"Chambers Landing Beach"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[39.16767,-119.926577],"location":"Chimney Beach"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[39.1692833333,-120.142036111],"location":"Commons Beach"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[38.9471055556,-119.966427778],"location":"Connolly Beach/Beach Retreat & Lodge at Tahoe"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[39.23461,-120.022695],"location":"Coon Street Dog Beach"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[38.977767,-120.102994],"location":"D.L. Bliss State Park"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[39.0003222222,-120.101366667],"location":"D.L. Bliss State Park (Lester Beach/Campground)"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[39.324785,-120.264064],"location":"Donner Lake"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[39.0112805556,-119.947544444],"location":"Dreyfus Beach"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[38.8422448,-120.0651],"location":"Echo Lakes"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[39.0732613,-120.1443],"location":"Ed Z\'berg Sugar Pine Point State Park"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[38.9344978,-119.98437],"location":"El Dorado Beach & Boat Ramp"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[39.114415,-120.158078],"location":"Elizabeth Williams Park"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[38.9338341,-120.05147],"location":"Emerald Bay Beach"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[38.95447,-120.110478],"location":"Emerald Bay State Park"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[38.880757,-120.069271],"location":"Fallen Leaf Lake"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[39.173664,-119.928952],"location":"Hidden Beach"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[39.0845444444,-120.159580556],"location":"Homewood Marina"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[39.121587,-120.161498],"location":"Hurricane Bay"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[39.240342,-119.9486541],"location":"Incline Beach (IVGID only)"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[39.243489,-119.94273],"location":"Incline Village Recreation Center"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[39.1129888889,-120.1581],"location":"Kaspian Beach Picnic Area"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[39.236493,-120.02545],"location":"Kings Beach State Recreation Area"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[39.2347527778,-120.022388889],"location":"Kings Beach/Coon Street Boat Ramp"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[38.9395083333,-120.052802778],"location":"Kiva Beach/Tallac Historic Site"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[39.1809361111,-120.115355556],"location":"Lake Forest Beach"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[39.181088,-120.115389],"location":"Lake Forest Beach Park"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[39.1813027778,-120.119588889],"location":"Lake Forest Boat Ramp/Campground"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[38.94435,-119.977297222],"location":"Lakeview Commons/ Boat Ramp"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[39.318727,-120.113145],"location":"Martis Creek Lake"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[39.0361916667,-120.121791667],"location":"Meeks Bay Beach and Campground"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[39.0374111111,-120.122625],"location":"Meeks Bay Resort"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[39.038657,-120.123757],"location":"Meeks Bay Resort & Marina"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[39.209462,-119.92972],"location":"Memorial Point"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[39.238296,-120.041194],"location":"Moon Dunes Beach"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[38.9821888889,-119.953822222],"location":"Nevada Beach /Campground"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[39.237192,-120.031704],"location":"North Tahoe Beach"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[39.0812694444,-120.1579],"location":"Obexer\'s Marina (Beach Area)"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[39.226319,-120.079618],"location":"Patton Beach"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[39.226711,-120.079471],"location":"Patton Landing"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[38.936825,-120.029997222],"location":"Pope Beach"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[39.379803,-120.157554],"location":"Prosser Creek Reservoir"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[38.9440805556,-119.986008333],"location":"Regan Beach"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[38.9899055556,-119.952130556],"location":"Roundhill Pines Beach/Marina"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[39.2005555556,-119.930052778],"location":"Sand Harbor"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[39.198565,-119.928293],"location":"Sand Harbor Nevada State Park"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[39.239929,-120.051354],"location":"Sandy Beach"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[39.236847,-120.029838],"location":"Secline Beach"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[39.147787,-119.933683],"location":"Secret Harbor"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[39.326755,-120.265469],"location":"Shoreline Park"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[39.240096,-119.945474],"location":"Ski Beach (IVGID only)"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[39.128757,-119.931372],"location":"Skunk Harbor"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[39.184175,-120.110191],"location":"Skylandia Beach"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[39.223942,-120.008618],"location":"Speedboat Beach"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[39.468512,-120.13163],"location":"Stampede Reservoir"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[39.0499555556,-120.113263889],"location":"Sugar Pine Point State Park"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[39.1387277778,-120.153113889],"location":"Sunnyside Marina (Beach area)"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[39.2390388889,-120.048141667],"location":"Tahoe Vista Recreation Area"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[39.1663166667,-120.143441667],"location":"Truckee River Outlet / Gatekeeper\'s Museum"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[38.9327361111,-120.000525],"location":"Upper Truckee River Access"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[39.318432,-120.289605],"location":"West End Beach"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[39.139856,-120.154004],"location":"William Kent Beach"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[39.1396722222,-120.153936111],"location":"William Kent Beach (Campground)"},{"activity":"Paddleboarding","activity_group":"On the Water","coords":[39.0078972222,-119.948005556],"location":"Zephyr Cove Resort"},{"activity":"Public Pier","activity_group":"On the Water","coords":[39.326965,-120.265289],"location":"Donner Lake Public Pier"},{"activity":"Public Pier","activity_group":"On the Water","coords":[39.225546,-120.083323],"location":"Gar Woods Grill & Pier"},{"activity":"Public Pier","activity_group":"On the Water","coords":[39.171486,-120.138643],"location":"Grove Street Pier"},{"activity":"Public Pier","activity_group":"On the Water","coords":[39.1145791,-120.1586221],"location":"Kaspian Picnic Area"},{"activity":"Public Pier","activity_group":"On the Water","coords":[39.23565,-120.023934],"location":"Kings Beach Public Pier"},{"activity":"Public Pier","activity_group":"On the Water","coords":[39.181165,-120.119773],"location":"Lake Forest Pier"},{"activity":"Public Pier","activity_group":"On the Water","coords":[39.183807,-120.108202],"location":"Skylandia Park Pier"},{"activity":"Public Pier","activity_group":"On the Water","coords":[39.053547,-120.113174],"location":"Sugar Pine Point Pier"},{"activity":"Rafting","activity_group":"On the Water","coords":[39.164627,-120.147321],"location":"64-Acres Park"},{"activity":"Rafting","activity_group":"On the Water","coords":[38.925737,-119.975037],"location":"Trout Creek"},{"activity":"Sailing","activity_group":"On the Water","coords":[39.390974,-120.092443],"location":"Boca Reservoir"},{"activity":"Sailing","activity_group":"On the Water","coords":[39.324785,-120.264067],"location":"Donner Lake"},{"activity":"Sailing","activity_group":"On the Water","coords":[39.139325,-120.153747],"location":"High Sierra Water Ski School"},{"activity":"Sailing","activity_group":"On the Water","coords":[39.084742,-120.159408],"location":"Homewood Marina"},{"activity":"Sailing","activity_group":"On the Water","coords":[39.038657,-120.123758],"location":"Meeks Bay Resort & Marina"},{"activity":"Sailing","activity_group":"On the Water","coords":[39.081761,-120.157642],"location":"Obexer\'s Boat Co."},{"activity":"Sailing","activity_group":"On the Water","coords":[39.379803,-120.157556],"location":"Prosser Creek Reservoir"},{"activity":"Sailing","activity_group":"On the Water","coords":[39.468512,-120.131633],"location":"Stampede Reservoir"},{"activity":"Surfing","activity_group":"On the Water","coords":[39.236493,-120.025452],"location":"Kings Beach State Recreation Area"},{"activity":"Surfing","activity_group":"On the Water","coords":[39.174709,-120.136988],"location":"Tahoe State Recreation Area"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.1645694444,-120.143661111],"location":"64 Acres Beach Access"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.238826,-120.048809],"location":"Agatam Beach"},{"activity":"Swimming","activity_group":"On the Water","coords":[38.9423891,-120.06558],"location":"Baldwin Beach"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.390974,-120.092439],"location":"Boca Reservoir"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.246374,-119.968292],"location":"Burnt Cedar Beach (IVGID only)"},{"activity":"Swimming","activity_group":"On the Water","coords":[38.9382583333,-120.039183333],"location":"Camp Richardson Resort"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.2261861111,-120.080208333],"location":"Carnelian Bay (Patton/Watermens Landing)"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.2256361111,-120.082897222],"location":"Carnelian Bay (West)"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.225432,-120.083348],"location":"Carnelian Bay Beach"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.0424,-119.948602778],"location":"Cave Rock Boat Launch"},{"activity":"Swimming","activity_group":"On the Water","coords":[38.9872131,-119.94564],"location":"Cave Rock State Park"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.072434,-120.141647],"location":"Chambers Landing Beach"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.16767,-119.926577],"location":"Chimney Beach"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.169577,-120.14184],"location":"Commons Beach"},{"activity":"Swimming","activity_group":"On the Water","coords":[38.9464417,-119.96696],"location":"Connolley Beach"},{"activity":"Swimming","activity_group":"On the Water","coords":[38.9471055556,-119.966427778],"location":"Connolly Beach/Beach Retreat & Lodge at Tahoe"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.23461,-120.022695],"location":"Coon Street Dog Beach"},{"activity":"Swimming","activity_group":"On the Water","coords":[38.9407083333,-120.004161111],"location":"Cove East"},{"activity":"Swimming","activity_group":"On the Water","coords":[38.977767,-120.102992],"location":"D.L. Bliss State Park"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.0003222222,-120.101366667],"location":"D.L. Bliss State Park (Lester Beach/Campground)"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.324785,-120.264063],"location":"Donner Lake"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.0112805556,-119.947544444],"location":"Dreyfus Beach"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.1507138889,-119.932791667],"location":"East Shore Beaches"},{"activity":"Swimming","activity_group":"On the Water","coords":[38.8422448,-120.06508],"location":"Echo Lakes"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.0732613,-120.1442],"location":"Ed Z\'berg Sugar Pine Point State Park"},{"activity":"Swimming","activity_group":"On the Water","coords":[38.9344978,-119.98438],"location":"El Dorado Beach & Boat Ramp"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.114415,-120.158078],"location":"Elizabeth Williams Park"},{"activity":"Swimming","activity_group":"On the Water","coords":[38.9596694444,-120.096458333],"location":"Emerald Bay Boat-in Campground"},{"activity":"Swimming","activity_group":"On the Water","coords":[38.95447,-120.110476],"location":"Emerald Bay State Park"},{"activity":"Swimming","activity_group":"On the Water","coords":[38.9532083333,-120.106488889],"location":"Emerald Bay State Park Vikingsholm area"},{"activity":"Swimming","activity_group":"On the Water","coords":[38.880757,-120.069272],"location":"Fallen Leaf Lake"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.1041722222,-120.159702778],"location":"Grand Ave. Lake Access"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.173664,-119.928952],"location":"Hidden Beach"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.0845444444,-120.159580556],"location":"Homewood Marina"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.121587,-120.161498],"location":"Hurricane Bay"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.240342,-119.9486541],"location":"Incline Beach (IVGID only)"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.243489,-119.94273],"location":"Incline Village Recreation Center"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.1129888889,-120.1581],"location":"Kaspian Beach Picnic Area"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.1140166,-120.1611451],"location":"Kaspian Day Use Area"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.236493,-120.025448],"location":"Kings Beach State Recreation Area"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.2347527778,-120.022388889],"location":"Kings Beach/Coon Street Boat Ramp"},{"activity":"Swimming","activity_group":"On the Water","coords":[38.9395083333,-120.052802778],"location":"Kiva Beach/Tallac Historic Site"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.1753444444,-120.133638889],"location":"Klausen Beach"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.1809361111,-120.115355556],"location":"Lake Forest Beach"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.181088,-120.115389],"location":"Lake Forest Beach Park"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.1813027778,-120.119588889],"location":"Lake Forest Boat Ramp/Campground"},{"activity":"Swimming","activity_group":"On the Water","coords":[38.9589195,-119.95142],"location":"Lakeside Beach"},{"activity":"Swimming","activity_group":"On the Water","coords":[38.94435,-119.977297222],"location":"Lakeview Commons/ Boat Ramp"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.318727,-120.113146],"location":"Martis Creek Lake"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.0361916667,-120.121791667],"location":"Meeks Bay Beach and Campground"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.0374111111,-120.122625],"location":"Meeks Bay Resort"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.038657,-120.123759],"location":"Meeks Bay Resort & Marina"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.209462,-119.929721],"location":"Memorial Point"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.2383166667,-120.039925],"location":"Moon Dunes"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.238296,-120.041194],"location":"Moon Dunes Beach"},{"activity":"Swimming","activity_group":"On the Water","coords":[38.982225,-119.95586],"location":"Nevada Beach"},{"activity":"Swimming","activity_group":"On the Water","coords":[38.9821888889,-119.953822222],"location":"Nevada Beach /Campground"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.237192,-120.031704],"location":"North Tahoe Beach"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.0812694444,-120.1579],"location":"Obexer\'s Marina (Beach Area)"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.226319,-120.079618],"location":"Patton Beach"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.226711,-120.079472],"location":"Patton Landing"},{"activity":"Swimming","activity_group":"On the Water","coords":[38.9338341,-120.05147],"location":"Pope Beach"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.379803,-120.157555],"location":"Prosser Creek Reservoir"},{"activity":"Swimming","activity_group":"On the Water","coords":[38.9436722,-119.98364],"location":"Regan Beach"},{"activity":"Swimming","activity_group":"On the Water","coords":[38.9912987,-119.94046],"location":"Round Hill Pines Beach Resort"},{"activity":"Swimming","activity_group":"On the Water","coords":[38.9899055556,-119.952130556],"location":"Roundhill Pines Beach/Marina"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.2005555556,-119.930052778],"location":"Sand Harbor"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.198565,-119.928294],"location":"Sand Harbor Nevada State Park"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.239929,-120.051354],"location":"Sandy Beach"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.236847,-120.029836],"location":"Secline Beach"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.147787,-119.933684],"location":"Secret Harbor"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.199834,-120.240307],"location":"Shirley Lake"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.326755,-120.265467],"location":"Shoreline Park"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.240096,-119.945475],"location":"Ski Beach (IVGID only)"},{"activity":"Swimming","activity_group":"On the Water","coords":[38.9496803,-119.95895],"location":"Ski Run Beach"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.128757,-119.931373],"location":"Skunk Harbor"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.184175,-120.110191],"location":"Skylandia Beach"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.223942,-120.008619],"location":"Speedboat Beach"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.468512,-120.131631],"location":"Stampede Reservoir"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.2364611111,-120.027191667],"location":"Steamers Beach"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.0499555556,-120.113263889],"location":"Sugar Pine Point State Park"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.0555555556,-120.113505556],"location":"Sugar Pine Point State Park, General Creek Area"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.1387277778,-120.153113889],"location":"Sunnyside Marina (Beach area)"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.174709,-120.136986],"location":"Tahoe State Recreation Area"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.1738388889,-120.135136111],"location":"Tahoe State Recreation Area / Campground"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.2390388889,-120.048141667],"location":"Tahoe Vista Recreation Area"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.1663166667,-120.143441667],"location":"Truckee River Outlet / Gatekeeper\'s Museum"},{"activity":"Swimming","activity_group":"On the Water","coords":[38.9327361111,-120.000525],"location":"Upper Truckee River Access"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.318432,-120.289603],"location":"West End Beach"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.139856,-120.154005],"location":"William Kent Beach"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.1396722222,-120.153936111],"location":"William Kent Beach (Campground)"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.0093689,-119.94726],"location":"Zephyr Cove Beach"},{"activity":"Swimming","activity_group":"On the Water","coords":[39.0078972222,-119.948005556],"location":"Zephyr Cove Resort"},{"activity":"Biking","activity_group":"On the Mountain","coords":[39.164627,-120.147321],"location":"64-Acres Park"},{"activity":"Biking","activity_group":"On the Mountain","coords":[38.903548,-120.038226],"location":"Angora Lake"},{"activity":"Biking","activity_group":"On the Mountain","coords":[38.78872,-120.000788],"location":"Big Meadow Area / Tahoe Rim Trail"},{"activity":"Biking","activity_group":"On the Mountain","coords":[38.928962,-119.966236],"location":"Bijou Bike Park"},{"activity":"Biking","activity_group":"On the Mountain","coords":[39.1127862,-120.1621247],"location":"Blackwood Canyon / Barker Pass Rd."},{"activity":"Biking","activity_group":"On the Mountain","coords":[39.390974,-120.09244],"location":"Boca Reservoir"},{"activity":"Biking","activity_group":"On the Mountain","coords":[39.18672,-120.125084],"location":"Burton Creek State Park"},{"activity":"Biking","activity_group":"On the Mountain","coords":[39.288399,-120.21343],"location":"Cabin Creek Trail"},{"activity":"Biking","activity_group":"On the Mountain","coords":[39.318892,-120.231228],"location":"Coldstream Canyon"},{"activity":"Biking","activity_group":"On the Mountain","coords":[38.881236,-119.977578],"location":"Coral Loop"},{"activity":"Biking","activity_group":"On the Mountain","coords":[38.977767,-120.102988],"location":"D.L. Bliss State Park"},{"activity":"Biking","activity_group":"On the Mountain","coords":[39.333203,-120.290813],"location":"Donner Lake Rim Trail"},{"activity":"Biking","activity_group":"On the Mountain","coords":[39.324565,-120.232812],"location":"Donner Memorial State Park"},{"activity":"Biking","activity_group":"On the Mountain","coords":[38.835312,-120.044219],"location":"Echo Lakes"},{"activity":"Biking","activity_group":"On the Mountain","coords":[39.0732613,-120.1438],"location":"Ed Z\'berg Sugar Pine Point State Park"},{"activity":"Biking","activity_group":"On the Mountain","coords":[38.9344978,-119.98439],"location":"El Dorado Beach & Boat Ramp"},{"activity":"Biking","activity_group":"On the Mountain","coords":[38.9338341,-120.0515],"location":"Emerald Bay Beach/Eagle Creek Beach"},{"activity":"Biking","activity_group":"On the Mountain","coords":[38.95447,-120.110472],"location":"Emerald Bay State Park"},{"activity":"Biking","activity_group":"On the Mountain","coords":[39.375678,-120.181032],"location":"Emigrant Trail"},{"activity":"Biking","activity_group":"On the Mountain","coords":[38.923429,-120.026649],"location":"Fallen Leaf Lake"},{"activity":"Biking","activity_group":"On the Mountain","coords":[39.234275,-119.929941],"location":"Flume Trail"},{"activity":"Biking","activity_group":"On the Mountain","coords":[38.962161,-119.885258],"location":"Heavenly / Tahoe Rim Trail"},{"activity":"Biking","activity_group":"On the Mountain","coords":[39.084897,-120.160184],"location":"Homewood"},{"activity":"Biking","activity_group":"On the Mountain","coords":[38.6845894,-120.06538],"location":"Kirkwood Mountain Bike Park"},{"activity":"Biking","activity_group":"On the Mountain","coords":[38.9332428,-119.98434],"location":"Lake Shore Blvd"},{"activity":"Biking","activity_group":"On the Mountain","coords":[38.9332428,-119.98434],"location":"Lake Tahoe Bicycle Coalition"},{"activity":"Biking","activity_group":"On the Mountain","coords":[39.30325,-120.131377],"location":"Martis Creek Wildlife Area"},{"activity":"Biking","activity_group":"On the Mountain","coords":[39.267388,-120.074356],"location":"Martis Peak"},{"activity":"Biking","activity_group":"On the Mountain","coords":[39.062128,-120.146832],"location":"McKinney-Rubicon Springs Rd."},{"activity":"Biking","activity_group":"On the Mountain","coords":[39.27694,-120.121155],"location":"Northstar"},{"activity":"Biking","activity_group":"On the Mountain","coords":[39.204632,-120.199831],"location":"Olympic Valley"},{"activity":"Biking","activity_group":"On the Mountain","coords":[39.146311,-120.173268],"location":"Paige Meadows"},{"activity":"Biking","activity_group":"On the Mountain","coords":[38.923944,-120.026732],"location":"Pope-Bladwin Bike Path"},{"activity":"Biking","activity_group":"On the Mountain","coords":[39.379803,-120.157549],"location":"Prosser Creek Reservoir"},{"activity":"Biking","activity_group":"On the Mountain","coords":[39.327907,-120.15171],"location":"River View Sport Park"},{"activity":"Biking","activity_group":"On the Mountain","coords":[39.309143,-120.193743],"location":"Sawtooth"},{"activity":"Biking","activity_group":"On the Mountain","coords":[38.945925,-119.970511],"location":"South Lake Tahoe Bike Path"},{"activity":"Biking","activity_group":"On the Mountain","coords":[38.93787,-119.97533],"location":"South Lake Tahoe BMX Bike Track"},{"activity":"Biking","activity_group":"On the Mountain","coords":[39.10447,-119.897296],"location":"Spooner Lake State Park Mountain Biking Experience"},{"activity":"Biking","activity_group":"On the Mountain","coords":[39.468512,-120.131628],"location":"Stampede Reservoir"},{"activity":"Biking","activity_group":"On the Mountain","coords":[39.110928,-120.189903],"location":"Stanford Rock"},{"activity":"Biking","activity_group":"On the Mountain","coords":[39.197149,-120.106363],"location":"Tahoe Cross Country"},{"activity":"Biking","activity_group":"On the Mountain","coords":[39.363248,-120.253381],"location":"Tahoe Donner Cross Country Ski Area"},{"activity":"Biking","activity_group":"On the Mountain","coords":[39.307405,-119.907967],"location":"Tahoe Meadows"},{"activity":"Biking","activity_group":"On the Mountain","coords":[39.103487,-119.895404],"location":"Tahoe Rim Trail"},{"activity":"Biking","activity_group":"On the Mountain","coords":[39.174709,-120.136984],"location":"Tahoe State Recreation Area"},{"activity":"Biking","activity_group":"On the Mountain","coords":[39.327339,-120.176473],"location":"Truckee Legacy Trail"},{"activity":"Biking","activity_group":"On the Mountain","coords":[39.169649,-120.142003],"location":"Truckee River Bike Trail"},{"activity":"Biking","activity_group":"On the Mountain","coords":[39.234275,-119.929942],"location":"Tunnel Creek"},{"activity":"Biking","activity_group":"On the Mountain","coords":[38.9548149,-119.94108],"location":"Van Sickle Bi-State Park"},{"activity":"Biking","activity_group":"On the Mountain","coords":[39.251025,-119.970048],"location":"Village Blvd"},{"activity":"Biking","activity_group":"On the Mountain","coords":[39.132973,-120.157365],"location":"Ward Creek / Stanford Rock"},{"activity":"Biking","activity_group":"On the Mountain","coords":[38.865718,-120.022439],"location":"Washoe Meadows State Park"},{"activity":"Biking","activity_group":"On the Mountain","coords":[39.196638,-120.198412],"location":"Western States Trail"},{"activity":"Birdwatching","activity_group":"On the Mountain","coords":[38.977767,-120.10299],"location":"D.L. Bliss State Park"},{"activity":"Birdwatching","activity_group":"On the Mountain","coords":[39.0732613,-120.1439],"location":"Ed Z\'berg Sugar Pine Point State Park"},{"activity":"Birdwatching","activity_group":"On the Mountain","coords":[38.95447,-120.110474],"location":"Emerald Bay State Park"},{"activity":"birdwatching","activity_group":"On the Mountain","coords":[39.30325,-120.131376],"location":"Martis Creek Wildlife Area"},{"activity":"birdwatching","activity_group":"On the Mountain","coords":[39.267388,-120.074355],"location":"Martis Peak"},{"activity":"Birdwatching","activity_group":"On the Mountain","coords":[38.998633,-120.097188],"location":"Rubicon Trail"},{"activity":"Birdwatching","activity_group":"On the Mountain","coords":[39.10447,-119.897296],"location":"Spooner Lake"},{"activity":"Birdwatching","activity_group":"On the Mountain","coords":[39.103487,-119.895404],"location":"Tahoe Rim Trail"},{"activity":"birdwatching","activity_group":"On the Mountain","coords":[38.865718,-120.022439],"location":"Washoe Meadows State Park"},{"activity":"Camping","activity_group":"On the Mountain","coords":[38.9338341,-120.05147],"location":"Bayview Campground at Emerald Bay"},{"activity":"Camping","activity_group":"On the Mountain","coords":[39.393611,-120.105593],"location":"Boca Campground"},{"activity":"Camping","activity_group":"On the Mountain","coords":[39.419003,-120.087296],"location":"Boca Rest Campground"},{"activity":"Camping","activity_group":"On the Mountain","coords":[39.437384,-120.091602],"location":"Boyington Mill Campground"},{"activity":"Camping","activity_group":"On the Mountain","coords":[38.934489,-120.040979],"location":"Camp Richardson Resort"},{"activity":"Camping","activity_group":"On the Mountain","coords":[38.9332428,-119.98434],"location":"Camp Shelly"},{"activity":"Camping","activity_group":"On the Mountain","coords":[38.9412079,-119.97283],"location":"Campground By The Lake"},{"activity":"Camping","activity_group":"On the Mountain","coords":[39.31962,-120.232696],"location":"Creek Campground"},{"activity":"Camping","activity_group":"On the Mountain","coords":[38.977767,-120.102991],"location":"D.L. Bliss State Park"},{"activity":"Camping","activity_group":"On the Mountain","coords":[39.0003222222,-120.101366667],"location":"D.L. Bliss State Park (Lester Beach/Campground)"},{"activity":"Camping","activity_group":"On the Mountain","coords":[39.324565,-120.232813],"location":"Donner Memorial State Park"},{"activity":"Camping","activity_group":"On the Mountain","coords":[38.9620654,-120.0789],"location":"Eagle Point Campground"},{"activity":"Camping","activity_group":"On the Mountain","coords":[39.0732613,-120.144],"location":"Ed Z\'berg Sugar Pine Point State Park"},{"activity":"Camping","activity_group":"On the Mountain","coords":[38.9596694444,-120.096458333],"location":"Emerald Bay Boat-in Campground"},{"activity":"Camping","activity_group":"On the Mountain","coords":[38.9289665,-120.04782],"location":"Fallen Leaf Lake Campground"},{"activity":"Camping","activity_group":"On the Mountain","coords":[39.259238,-120.209567],"location":"Goose Meadows Campground"},{"activity":"Camping","activity_group":"On the Mountain","coords":[39.299012,-120.204656],"location":"Granite Flat"},{"activity":"Camping","activity_group":"On the Mountain","coords":[39.1127862,-120.1621247],"location":"Kaspian Recreation Area & Campground"},{"activity":"Camping","activity_group":"On the Mountain","coords":[38.847863,-120.02822],"location":"KOA of South Lake Tahoe"},{"activity":"Public Pier","activity_group":"On the Mountain","coords":[39.1813027778,-120.119588889],"location":"Lake Forest Boat Ramp"},{"activity":"Camping","activity_group":"On the Mountain","coords":[39.184384,-120.120425],"location":"Lake Forest Campground"},{"activity":"Camping","activity_group":"On the Mountain","coords":[38.799669,-120.140246],"location":"Lover\'s Leap"},{"activity":"Camping","activity_group":"On the Mountain","coords":[39.32274,-120.11756],"location":"Martis Creek Campground"},{"activity":"Camping","activity_group":"On the Mountain","coords":[39.0361916667,-120.121791667],"location":"Meeks Bay Beach and Campground"},{"activity":"Camping","activity_group":"On the Mountain","coords":[39.038657,-120.123753],"location":"Meeks Bay Campground"},{"activity":"Camping","activity_group":"On the Mountain","coords":[39.038657,-120.123755],"location":"Meeks Bay Resort & Marina"},{"activity":"Camping","activity_group":"On the Mountain","coords":[39.311801,-119.897198],"location":"Mount Rose Summit"},{"activity":"Camping","activity_group":"On the Mountain","coords":[38.9817,-119.9523],"location":"Nevada Beach Campground"},{"activity":"Camping","activity_group":"On the Mountain","coords":[39.3787996,-120.1573874],"location":"Prosser Ranch Group Campground"},{"activity":"Camping","activity_group":"On the Mountain","coords":[39.434184,-120.257549],"location":"Sagehen Campground"},{"activity":"Camping","activity_group":"On the Mountain","coords":[39.240205,-120.050971],"location":"Sandy Beach Campground"},{"activity":"Camping","activity_group":"On the Mountain","coords":[39.10447,-119.897296],"location":"Spooner Lake"},{"activity":"Camping","activity_group":"On the Mountain","coords":[39.468512,-120.131626],"location":"Stampede Reservoir"},{"activity":"Camping","activity_group":"On the Mountain","coords":[39.1753068889,120.135506306],"location":"Tahoe State Recreation Area/Campground"},{"activity":"Camping","activity_group":"On the Mountain","coords":[38.9085007,-119.99798],"location":"Tahoe Valley Campground"},{"activity":"Camping","activity_group":"On the Mountain","coords":[39.1396722222,-120.153936111],"location":"William Kent Beach (Campground)"},{"activity":"Camping","activity_group":"On the Mountain","coords":[39.139856,-120.154006],"location":"William Kent Campground"},{"activity":"Camping","activity_group":"On the Mountain","coords":[39.0093689,-119.94721],"location":"Zephyr Cove RV Park & Campground"},{"activity":"Cross-country Skiing","activity_group":"On the Mountain","coords":[38.870907,-120.063035],"location":"Angora Lake"},{"activity":"Cross-country Skiing","activity_group":"On the Mountain","coords":[38.9209323,-120.12465],"location":"Azure Lake"},{"activity":"Cross-country Skiing","activity_group":"On the Mountain","coords":[38.9399605,-119.97315],"location":"Bijou Cross-Country"},{"activity":"Cross-country Skiing","activity_group":"On the Mountain","coords":[39.1127862,-120.1621247],"location":"Blackwood Canyon / Barker Pass Rd."},{"activity":"Cross-country Skiing","activity_group":"On the Mountain","coords":[39.258439,-120.064869],"location":"Brockway Summit"},{"activity":"Cross-country Skiing","activity_group":"On the Mountain","coords":[39.18672,-120.125083],"location":"Burton Creek State Park"},{"activity":"Cross-country Skiing","activity_group":"On the Mountain","coords":[39.288399,-120.21343],"location":"Cabin Creek Trail"},{"activity":"Cross-country Skiing","activity_group":"On the Mountain","coords":[38.9340744,-120.04015],"location":"Camp Richardson Corral"},{"activity":"Cross-country Skiing","activity_group":"On the Mountain","coords":[38.9489662,-120.08176],"location":"Cascade Creek Falls Trail"},{"activity":"Cross-country Skiing","activity_group":"On the Mountain","coords":[39.324565,-120.232812],"location":"Donner Memorial State Park"},{"activity":"Cross-country Skiing","activity_group":"On the Mountain","coords":[38.9518522,-120.1113],"location":"Eagle Falls"},{"activity":"Cross-country Skiing","activity_group":"On the Mountain","coords":[38.835312,-120.044219],"location":"Echo Lakes"},{"activity":"Cross-country Skiing","activity_group":"On the Mountain","coords":[39.0732613,-120.1437],"location":"Ed Z\'berg Sugar Pine Point State Park"},{"activity":"Cross-country Skiing","activity_group":"On the Mountain","coords":[38.878614,-120.074244],"location":"Fallen Leaf Lake"},{"activity":"Cross-country Skiing","activity_group":"On the Mountain","coords":[38.921422,-120.068176],"location":"Floating Is./Cathedral"},{"activity":"Cross-country Skiing","activity_group":"On the Mountain","coords":[39.234275,-119.929941],"location":"Flume Trail"},{"activity":"Cross-country Skiing","activity_group":"On the Mountain","coords":[38.9375183,-120.11021],"location":"Granite Lake"},{"activity":"Cross-country Skiing","activity_group":"On the Mountain","coords":[38.871205,-120.00714],"location":"Lake Valley State Recreation Area"},{"activity":"Cross-country Skiing","activity_group":"On the Mountain","coords":[39.035245,-120.125418],"location":"Meeks Meadow"},{"activity":"Cross-country Skiing","activity_group":"On the Mountain","coords":[38.925844,-119.971514],"location":"Nordic Ski Center at the Lake Tahoe Community College"},{"activity":"Cross-country Skiing","activity_group":"On the Mountain","coords":[39.275067,-120.120751],"location":"Northstar at Tahoe Cross Country"},{"activity":"Cross-country Skiing","activity_group":"On the Mountain","coords":[39.146311,-120.173268],"location":"Paige Meadows"},{"activity":"Cross-country Skiing","activity_group":"On the Mountain","coords":[39.340797,-120.347568],"location":"Peter Grub Hut/ Castle Peak"},{"activity":"Cross-country Skiing","activity_group":"On the Mountain","coords":[39.236099,-120.207027],"location":"Pole Creek Trail System"},{"activity":"Cross-country Skiing","activity_group":"On the Mountain","coords":[39.313643,-120.388902],"location":"Royal Gorge Cross Country Resort"},{"activity":"Cross-country Skiing","activity_group":"On the Mountain","coords":[38.998633,-120.097188],"location":"Rubicon Trail"},{"activity":"Cross-country Skiing","activity_group":"On the Mountain","coords":[39.44609,-120.214933],"location":"Sagehen Summit"},{"activity":"Cross-country Skiing","activity_group":"On the Mountain","coords":[38.762621,-119.955701],"location":"Scott Lake"},{"activity":"Cross-country Skiing","activity_group":"On the Mountain","coords":[39.199195,-120.217826],"location":"Squaw Creek Cross Country"},{"activity":"Cross-country Skiing","activity_group":"On the Mountain","coords":[39.110928,-120.189903],"location":"Stanford Rock"},{"activity":"Cross-country Skiing","activity_group":"On the Mountain","coords":[39.169266,-120.145754],"location":"Tahoe City Golf Course"},{"activity":"Cross-country Skiing","activity_group":"On the Mountain","coords":[39.197149,-120.106363],"location":"Tahoe Cross Country"},{"activity":"Cross-country Skiing","activity_group":"On the Mountain","coords":[39.363248,-120.253381],"location":"Tahoe Donner Cross Country Ski Area"},{"activity":"Cross-country Skiing","activity_group":"On the Mountain","coords":[39.307405,-119.907968],"location":"Tahoe Meadows"},{"activity":"Cross-country Skiing","activity_group":"On the Mountain","coords":[38.936557,-120.054916],"location":"Tallac Historic Site"},{"activity":"Cross-country Skiing","activity_group":"On the Mountain","coords":[38.932298,-120.057677],"location":"Taylor Creek"},{"activity":"Golfing","activity_group":"On the Mountain","coords":[38.9422836,-119.96452],"location":"Bijou Municipal Golf Course"},{"activity":"Golfing","activity_group":"On the Mountain","coords":[39.333474,-120.211719],"location":"Coyote Moon Golf Course"},{"activity":"Golfing","activity_group":"On the Mountain","coords":[38.9644775,-119.94254],"location":"Edgewood Tahoe Golf Course"},{"activity":"Golfing","activity_group":"On the Mountain","coords":[39.0143967,-119.83486],"location":"Genoa Lakes Golf Resort"},{"activity":"Golfing","activity_group":"On the Mountain","coords":[39.349653,-120.166268],"location":"Gray\'s Crossing"},{"activity":"Golfing","activity_group":"On the Mountain","coords":[39.25342,-119.944174],"location":"Incline Village Championship Golf Course"},{"activity":"Golfing","activity_group":"On the Mountain","coords":[39.267909,-119.952967],"location":"Incline Village Mountain Golf Course"},{"activity":"Golfing","activity_group":"On the Mountain","coords":[39.235494,-120.01988],"location":"Kings Beach Mini Golf"},{"activity":"Golfing","activity_group":"On the Mountain","coords":[39.295997,-120.151618],"location":"Lahontan Golf Club"},{"activity":"Golfing","activity_group":"On the Mountain","coords":[38.871205,-120.00714],"location":"Lake Valley State Recreation Area"},{"activity":"Golfing","activity_group":"On the Mountain","coords":[39.199171,-120.217752],"location":"Links at Squaw Creek Golf Course"},{"activity":"Golfing","activity_group":"On the Mountain","coords":[39.463432,-119.783212],"location":"Magic Carpet Mini Golf"},{"activity":"Golfing","activity_group":"On the Mountain","coords":[39.29316,-120.116625],"location":"Northstar California Golf Course"},{"activity":"Golfing","activity_group":"On the Mountain","coords":[39.239097,-120.032431],"location":"Old Brockway Golf Course"},{"activity":"Golfing","activity_group":"On the Mountain","coords":[39.344095,-120.142673],"location":"Old Greenwood Golf Club"},{"activity":"Golfing","activity_group":"On the Mountain","coords":[39.324173,-120.168037],"location":"Ponderosa Golf Course"},{"activity":"Golfing","activity_group":"On the Mountain","coords":[39.195907,-120.236047],"location":"Squaw Valley Mini Golf"},{"activity":"Golfing","activity_group":"On the Mountain","coords":[39.169266,-120.145754],"location":"Tahoe City Golf Course"},{"activity":"Golfing","activity_group":"On the Mountain","coords":[39.352271,-120.233262],"location":"Tahoe Donner Golf Course"},{"activity":"Golfing","activity_group":"On the Mountain","coords":[38.8544159,-120.00987],"location":"Tahoe Paradise Golf Course"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[39.164627,-120.147321],"location":"64-Acres Park"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[39.165104,-120.23874],"location":"Alpine Meadows"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[38.870907,-120.063035],"location":"Angora Lake"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[38.856415,-119.940395],"location":"Armstrong Pass"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[38.9209323,-120.12465],"location":"Azure Lake"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[38.9493122,-120.07871],"location":"Bayview Trailhead"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[38.78872,-120.000788],"location":"Big Meadow Area / Tahoe Rim Trail"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[39.1127862,-120.1621247],"location":"Blackwood Canyon / Barker Pass Rd."},{"activity":"Hiking","activity_group":"On the Mountain","coords":[39.390974,-120.092439],"location":"Boca Reservoir"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[39.258439,-120.064869],"location":"Brockway Summit"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[39.18672,-120.125083],"location":"Burton Creek State Park"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[38.693899,-119.988348],"location":"Carson Pass"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[38.9489662,-120.08176],"location":"Cascade Creek Falls Trail"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[39.16767,-119.926577],"location":"Chimney Beach"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[39.318892,-120.231227],"location":"Coldstream Canyon"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[38.977767,-120.102987],"location":"D.L. Bliss State Park"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[38.9332428,-119.98434],"location":"Desolation Wilderness"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[39.333203,-120.290813],"location":"Donner Lake Rim Trail"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[39.324565,-120.232811],"location":"Donner Memorial State Park"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[38.9518522,-120.1113],"location":"Eagle Falls"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[39.107978,-120.161354],"location":"Eagle Rock"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[38.835312,-120.044219],"location":"Echo Lakes"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[39.0732613,-120.1437],"location":"Ed Z\'berg Sugar Pine Point State Park"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[38.9344978,-119.9844],"location":"El Dorado Beach & Boat Ramp"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[39.1127862,-120.1621247],"location":"Ellis Peak Trail"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[38.95447,-120.110471],"location":"Emerald Bay State Park"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[39.375678,-120.181031],"location":"Emigrant Trail"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[38.878614,-120.074244],"location":"Fallen Leaf Lake"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[39.179305,-120.229657],"location":"Five Lakes"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[38.921422,-120.068176],"location":"Floating Is./Cathedral"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[39.234275,-119.929941],"location":"Flume Trail"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[39.339483,-120.343074],"location":"Glacier Meadows Loop"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[38.877115,-120.08041],"location":"Glen Alpine Trailhead"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[38.9375183,-120.11021],"location":"Granite Lake"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[38.9359436,-119.93967],"location":"Heavenly Mountain Resort"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[39.084897,-120.160184],"location":"Homewood"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[38.83056,-120.12335],"location":"Horsetail Falls"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[38.6847839,-120.06557],"location":"Kirkwood Mountain"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[38.706445,-120.088322],"location":"Lake Margaret"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[38.9624062,-119.9399],"location":"Lam Watah Nature Trail"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[38.9315744,-120.1138],"location":"Maggie\'s Peaks"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[39.1076033,-119.909],"location":"Marlette Lake"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[39.30325,-120.131375],"location":"Martis Creek Wildlife Area"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[39.267388,-120.074354],"location":"Martis Peak"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[39.062128,-120.146832],"location":"McKinney-Rubicon Springs Rd."},{"activity":"Hiking","activity_group":"On the Mountain","coords":[39.03727,-120.12493],"location":"Meek\'s Bay Trail"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[38.8829632,-120.07268],"location":"Moraine Trail"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[39.314443,-120.326905],"location":"Mount Judah Loop/ Pacific Crest Trail"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[39.313184,-119.897376],"location":"Mount Rose"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[38.921422,-120.068176],"location":"Mount Tallac"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[39.0765094,-120.2352307],"location":"Pacific Crest Trail/ Barker Pass Tahoe Rim Trail"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[39.146311,-120.173268],"location":"Paige Meadows"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[39.340797,-120.347568],"location":"Peter Grub Hut/ Castle Peak"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[39.258395,-120.064759],"location":"Picnic Rock"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[39.236099,-120.207027],"location":"Pole Creek Trail System"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[39.379803,-120.15755],"location":"Prosser Creek Reservoir"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[38.808591,-120.135868],"location":"Pyrimid Peak"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[38.802958,-120.116236],"location":"Ralston Peak"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[38.695218,-119.989553],"location":"Red Lake Peak"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[38.998633,-120.097188],"location":"Rubicon Trail"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[39.434162,-120.204845],"location":"Sagehen Trail"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[39.263979,-120.125637],"location":"Sawmill Lake"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[38.762621,-119.955701],"location":"Scott Lake"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[39.147787,-119.933681],"location":"Secret Harbor"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[39.199834,-120.240308],"location":"Shirley Lake Trail"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[39.128757,-119.93137],"location":"Skunk Harbor"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[38.799669,-120.140246],"location":"Slippery Ford Trail"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[39.10447,-119.897296],"location":"Spooner Lake"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[39.197295,-120.234511],"location":"Squaw and Emigrant Peaks"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[39.468512,-120.131627],"location":"Stampede Reservoir"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[39.110928,-120.189903],"location":"Stanford Rock"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[39.2374381,-120.0061697],"location":"Stateline Fire Lookout"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[39.197149,-120.106363],"location":"Tahoe Cross Country"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[39.307405,-119.907969],"location":"Tahoe Meadows"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[39.2417488,-119.95093],"location":"Tahoe Rim Trail"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[38.935713,-120.056033],"location":"Taylor Creek Visitor Center and Stream Profile Chamber"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[38.951898,-120.113241],"location":"The Velmas"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[39.327339,-120.176474],"location":"Truckee Legacy Trail"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[39.169649,-120.142003],"location":"Truckee River Bike Trail"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[39.234275,-119.929941],"location":"Tunnel Creek"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[38.9355965,-120.04354],"location":"Valhalla at Lake Tahoe"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[38.9548149,-119.94107],"location":"Van Sickle Bi-State Park"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[38.865718,-120.022439],"location":"Washoe Meadows State Park"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[38.789215,-119.948144],"location":"Waterhouse Peak"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[39.196638,-120.198412],"location":"Western States Trail"},{"activity":"Horseback riding","activity_group":"On the Mountain","coords":[39.184289,-120.208537],"location":"Alpine Meadows Stables"},{"activity":"Horseback riding","activity_group":"On the Mountain","coords":[39.390974,-120.092441],"location":"Boca Reservoir"},{"activity":"Horseback riding","activity_group":"On the Mountain","coords":[38.9340744,-120.04015],"location":"Camp Richardson Corral"},{"activity":"Horseback riding","activity_group":"On the Mountain","coords":[38.835312,-120.044219],"location":"Echo Lakes"},{"activity":"Horseback riding","activity_group":"On the Mountain","coords":[38.878614,-120.074243],"location":"Fallen Leaf Lake"},{"activity":"Horseback riding","activity_group":"On the Mountain","coords":[39.281539,-120.118662],"location":"Northstar California Stables"},{"activity":"Horseback riding","activity_group":"On the Mountain","coords":[39.363655,-120.253458],"location":"Tahoe Donner Equestrian Center"},{"activity":"Horseback riding","activity_group":"On the Mountain","coords":[39.103487,-119.895404],"location":"Tahoe Rim Trail"},{"activity":"Horseback riding","activity_group":"On the Mountain","coords":[38.9548149,-119.94109],"location":"Van Sickle Bi-State Park"},{"activity":"Horseback riding","activity_group":"On the Mountain","coords":[39.0088959,-119.94384],"location":"Zephyr Cove Stables"},{"activity":"Museums/Cultural","activity_group":"On the Mountain","coords":[38.977767,-120.102989],"location":"D.L. Bliss State Park"},{"activity":"Museums/Cultural","activity_group":"On the Mountain","coords":[39.323884,-120.232768],"location":"Donner Memorial State Park & Emigrant Trail Museum"},{"activity":"Museums/Cultural","activity_group":"On the Mountain","coords":[39.0732613,-120.1441],"location":"Ed Z\'berg Sugar Pine Point State Park"},{"activity":"Museums/Cultural","activity_group":"On the Mountain","coords":[39.052938,-120.114061],"location":"Ehrman Mansion"},{"activity":"Museums/Cultural","activity_group":"On the Mountain","coords":[38.95447,-120.110473],"location":"Emerald Bay State Park"},{"activity":"Museums/Cultural","activity_group":"On the Mountain","coords":[38.957676,-119.942151],"location":"Explore Lake Tahoe- An Urban Trailhead"},{"activity":"Museums/Cultural","activity_group":"On the Mountain","coords":[39.362849,-119.851937],"location":"Galena Creek Visitor Center"},{"activity":"Museums/Cultural","activity_group":"On the Mountain","coords":[39.166874,-120.143434],"location":"Gatekeeper\'s Museum"},{"activity":"Museums/Cultural","activity_group":"On the Mountain","coords":[39.259161,-119.978897],"location":"Incline Village & Crystal Bay Historical Society"},{"activity":"Museums/Cultural","activity_group":"On the Mountain","coords":[39.324845,-120.213966],"location":"Kidzone Museum"},{"activity":"Museums/Cultural","activity_group":"On the Mountain","coords":[38.92792,-119.972979],"location":"Lake Tahoe Community College Demonstration Garden"},{"activity":"Museums/Cultural","activity_group":"On the Mountain","coords":[38.939933,-119.976766],"location":"Lake Tahoe Historical Society Museum"},{"activity":"Museums/Cultural","activity_group":"On the Mountain","coords":[38.926412,-119.983912],"location":"League to Save Lake Tahoe"},{"activity":"Museums/Cultural","activity_group":"On the Mountain","coords":[39.166475,-120.143611],"location":"Marion Steinbach Indian Basket"},{"activity":"Museums/Cultural","activity_group":"On the Mountain","coords":[39.172566,-120.137052],"location":"Museum of Sierra Ski History and 1960 Winter Olympics"},{"activity":"Museums/Cultural","activity_group":"On the Mountain","coords":[39.243169,-119.940511],"location":"North Lake Tahoe Demonstration Garden"},{"activity":"Museums/Cultural","activity_group":"On the Mountain","coords":[39.198217,-119.931228],"location":"Sand Harbor Visitor Center"},{"activity":"Museums/Cultural","activity_group":"On the Mountain","coords":[39.159821,-120.14614],"location":"Tahoe Maritime Museum"},{"activity":"Museums/Cultural","activity_group":"On the Mountain","coords":[38.936557,-120.054916],"location":"Tallac Historic Site"},{"activity":"Museums/Cultural","activity_group":"On the Mountain","coords":[38.935713,-120.056033],"location":"Taylor Creek Visitor Center and Stream Profile Chamber"},{"activity":"Museums/Cultural","activity_group":"On the Mountain","coords":[39.174423,-119.931994],"location":"Thunderbird Lodge Preservation Society"},{"activity":"Museums/Cultural","activity_group":"On the Mountain","coords":[39.327869,-120.186998],"location":"Truckee Donner Historical Society - Old Jail Museum"},{"activity":"Museums/Cultural","activity_group":"On the Mountain","coords":[39.327424,-120.186148],"location":"Truckee Railroad Museum"},{"activity":"Museums/Cultural","activity_group":"On the Mountain","coords":[39.184407,-120.121857],"location":"UC Davis Eriksson Education Center & Historic Fish Hatchery"},{"activity":"Museums/Cultural","activity_group":"On the Mountain","coords":[39.2427402,-119.9396324],"location":"UC Davis Tahoe Science Center"},{"activity":"Museums/Cultural","activity_group":"On the Mountain","coords":[38.952234,-120.106905],"location":"Vikingsholm"},{"activity":"Museums/Cultural","activity_group":"On the Mountain","coords":[39.171324,-120.140222],"location":"Watson Cabin"},{"activity":"Park/Playground","activity_group":"On the Mountain","coords":[39.2409855,-119.9444226],"location":"Aspen Grove"},{"activity":"Park/Playground","activity_group":"On the Mountain","coords":[38.9315376,-119.96902],"location":"Bijou Community Park"},{"activity":"Park/Playground","activity_group":"On the Mountain","coords":[39.169577,-120.14184],"location":"Commons Beach"},{"activity":"Park/Playground","activity_group":"On the Mountain","coords":[38.9555206,-119.94312],"location":"Heavenly Mountain Resort Ropes Challenge Courses"},{"activity":"Park/Playground","activity_group":"On the Mountain","coords":[39.171525,-120.139843],"location":"Heritage Plaza"},{"activity":"Park/Playground","activity_group":"On the Mountain","coords":[38.9701881,-119.93273],"location":"Kahle Community Center & Park"},{"activity":"Park/Playground","activity_group":"On the Mountain","coords":[39.134335,-120.157087],"location":"Kilner Park"},{"activity":"Park/Playground","activity_group":"On the Mountain","coords":[39.236772,-120.02478],"location":"Kings Beach Plaza"},{"activity":"Park/Playground","activity_group":"On the Mountain","coords":[39.067142,-120.129425],"location":"Marie Sluchak Community Park"},{"activity":"Park/Playground","activity_group":"On the Mountain","coords":[39.246172,-120.052535],"location":"North Tahoe Regional Park"},{"activity":"Park/Playground","activity_group":"On the Mountain","coords":[39.182719,-120.120457],"location":"Pomin Park"},{"activity":"Park/Playground","activity_group":"On the Mountain","coords":[39.251863,-119.969039],"location":"Preston Field Park"},{"activity":"Park/Playground","activity_group":"On the Mountain","coords":[39.327747,-120.15404],"location":"River View Sports Park"},{"activity":"Park/Playground","activity_group":"On the Mountain","coords":[39.184175,-120.110191],"location":"Skylandia Park"},{"activity":"Park/Playground","activity_group":"On the Mountain","coords":[39.204369,-120.2030559],"location":"Squaw Valley Park"},{"activity":"Park/Playground","activity_group":"On the Mountain","coords":[39.172268,-120.140784],"location":"Tahoe City Dog Park"},{"activity":"Park/Playground","activity_group":"On the Mountain","coords":[39.239242,-120.048502],"location":"Tahoe Vista Recreation Area"},{"activity":"Park/Playground","activity_group":"On the Mountain","coords":[38.9332428,-119.98434],"location":"Tallac Picnic Area"},{"activity":"Park/Playground","activity_group":"On the Mountain","coords":[39.326478,-120.176044],"location":"Truckee River Regional Park"},{"activity":"Park/Playground","activity_group":"On the Mountain","coords":[39.318432,-120.289602],"location":"West End Beach"},{"activity":"Rock Climbing","activity_group":"On the Mountain","coords":[38.9518522,-120.1113],"location":"90 Foot Wall"},{"activity":"Rock Climbing","activity_group":"On the Mountain","coords":[39.295416,-120.197118],"location":"Big Chief"},{"activity":"Rock Climbing","activity_group":"On the Mountain","coords":[38.989014,-119.898985],"location":"Castle Rock"},{"activity":"Rock Climbing","activity_group":"On the Mountain","coords":[39.044146,-119.94891],"location":"Cave Rock"},{"activity":"Rock Climbing","activity_group":"On the Mountain","coords":[38.978082,-120.102795],"location":"D.L. Bliss State Park"},{"activity":"Rock Climbing","activity_group":"On the Mountain","coords":[39.317032,-120.319537],"location":"Donner Summit"},{"activity":"Rock Climbing","activity_group":"On the Mountain","coords":[38.835312,-120.044219],"location":"Echo Lakes"},{"activity":"Rock Climbing","activity_group":"On the Mountain","coords":[38.883656,-120.024676],"location":"Echo View Estates"},{"activity":"Rock Climbing","activity_group":"On the Mountain","coords":[39.107978,-120.161354],"location":"Eagle Rock"},{"activity":"Rock Climbing","activity_group":"On the Mountain","coords":[38.799669,-120.140246],"location":"Lover\'s Leap"},{"activity":"Rock Climbing","activity_group":"On the Mountain","coords":[38.9518522,-120.1113],"location":"Mayhem Cover"},{"activity":"Rock Climbing","activity_group":"On the Mountain","coords":[38.790161,-120.241622],"location":"Phantom Spires"},{"activity":"Rock Climbing","activity_group":"On the Mountain","coords":[38.875379,-120.008885],"location":"Pie Shop"},{"activity":"Rock Climbing","activity_group":"On the Mountain","coords":[39.103621,-119.895755],"location":"Spooner Crag"},{"activity":"Rock Climbing","activity_group":"On the Mountain","coords":[38.77289,-120.311899],"location":"Sugarloaf"},{"activity":"Rock Climbing","activity_group":"On the Mountain","coords":[39.268895,-119.936226],"location":"Trippy Rock"},{"activity":"Rock Climbing","activity_group":"On the Mountain","coords":[39.164553,-120.16034],"location":"Twin Crags"},{"activity":"Skiing & Snowboarding","activity_group":"On the Mountain","coords":[39.168996,-120.238563],"location":"Alpine Meadows"},{"activity":"Skiing & Snowboarding","activity_group":"On the Mountain","coords":[39.338071,-120.349204],"location":"Boreal"},{"activity":"Skiing & Snowboarding","activity_group":"On the Mountain","coords":[39.253598,-119.92476],"location":"Diamond Peak"},{"activity":"Skiing & Snowboarding","activity_group":"On the Mountain","coords":[39.318167,-120.330143],"location":"Donner Ski Ranch"},{"activity":"Skiing & Snowboarding","activity_group":"On the Mountain","coords":[39.157013,-120.153222],"location":"Granlibakken"},{"activity":"Skiing & Snowboarding","activity_group":"On the Mountain","coords":[38.9359436,-119.93967],"location":"Heavenly Mountain Resort"},{"activity":"Skiing & Snowboarding","activity_group":"On the Mountain","coords":[39.08575,-120.16055],"location":"Homewood Mountain Resort"},{"activity":"Skiing & Snowboarding","activity_group":"On the Mountain","coords":[38.7219009,-119.83523],"location":"Hope Valley Outdoors Cross-Country Ski Center"},{"activity":"Skiing & Snowboarding","activity_group":"On the Mountain","coords":[38.6847839,-120.06557],"location":"Kirkwood Mountain Resort"},{"activity":"Skiing & Snowboarding","activity_group":"On the Mountain","coords":[39.329613,-119.886738],"location":"Mount Rose"},{"activity":"Skiing & Snowboarding","activity_group":"On the Mountain","coords":[39.27694,-120.121154],"location":"Northstar"},{"activity":"Skiing & Snowboarding","activity_group":"On the Mountain","coords":[38.8097305,-120.08114],"location":"Sierra-at-Tahoe Resort"},{"activity":"Skiing & Snowboarding","activity_group":"On the Mountain","coords":[39.321228,-120.378972],"location":"Soda Springs Resort"},{"activity":"Skiing & Snowboarding","activity_group":"On the Mountain","coords":[39.197295,-120.234511],"location":"Squaw Valley USA"},{"activity":"Skiing & Snowboarding","activity_group":"On the Mountain","coords":[39.305627,-120.333051],"location":"Sugar Bowl"},{"activity":"Skiing & Snowboarding","activity_group":"On the Mountain","coords":[39.35418,-120.25939],"location":"Tahoe Donner Downhill Ski Area"},{"activity":"Skiing & Snowboarding","activity_group":"On the Mountain","coords":[38.9343486,-120.06512],"location":"Taylor Creek Sno-Parks"},{"activity":"Skiing & Snowboarding","activity_group":"On the Mountain","coords":[38.789215,-119.948145],"location":"Waterhouse Peak"},{"activity":"Sledding & Tubing","activity_group":"On the Mountain","coords":[39.1127862,-120.1621247],"location":"Blackwood Canyon Sno-park"},{"activity":"Sledding & Tubing","activity_group":"On the Mountain","coords":[39.339634,-120.343168],"location":"Donner Summit Snopark"},{"activity":"Sledding & Tubing","activity_group":"On the Mountain","coords":[39.155216,-120.154323],"location":"Granlibakken"},{"activity":"Sledding & Tubing","activity_group":"On the Mountain","coords":[38.9555206,-119.94312],"location":"Heavenly Tubing Hill (summer and winter!)"},{"activity":"Sledding & Tubing","activity_group":"On the Mountain","coords":[39.2535662,-119.9459302],"location":"Incline Village Snow Play Area"},{"activity":"Sledding & Tubing","activity_group":"On the Mountain","coords":[39.313427,-119.89741],"location":"Mount Rose Summit"},{"activity":"Sledding & Tubing","activity_group":"On the Mountain","coords":[39.247111,-120.055136],"location":"North Tahoe Regional Park"},{"activity":"Sledding & Tubing","activity_group":"On the Mountain","coords":[39.321654,-120.380716],"location":"Soda Springs Resort"},{"activity":"Sledding & Tubing","activity_group":"On the Mountain","coords":[39.10447,-119.897295],"location":"Spooner Lake"},{"activity":"Sledding & Tubing","activity_group":"On the Mountain","coords":[39.19567,-120.230769],"location":"Squaw Valley"},{"activity":"Sledding & Tubing","activity_group":"On the Mountain","coords":[39.169266,-120.145754],"location":"Tahoe City Golf Course"},{"activity":"Sledding & Tubing","activity_group":"On the Mountain","coords":[39.3513385,-120.2320119],"location":"Tahoe Donner Trout Creek Recreation Center"},{"activity":"Sledding & Tubing","activity_group":"On the Mountain","coords":[38.932298,-120.057677],"location":"Taylor Creek Sno-Park"},{"activity":"Snowshoeing & Snowplay","activity_group":"On the Mountain","coords":[38.903548,-120.038226],"location":"Angora Lake"},{"activity":"Snowshoeing & Snowplay","activity_group":"On the Mountain","coords":[38.9209323,-120.12465],"location":"Azure Lake"},{"activity":"Snowshoeing & Snowplay","activity_group":"On the Mountain","coords":[38.9399605,-119.97315],"location":"Bijou Cross-Country"},{"activity":"Snowshoeing & Snowplay","activity_group":"On the Mountain","coords":[39.1127862,-120.1621247],"location":"Blackwood Canyon / Barker Pass Rd."},{"activity":"Snowshoeing & Snowplay","activity_group":"On the Mountain","coords":[39.258439,-120.064869],"location":"Brockway Summit"},{"activity":"Snowshoeing & Snowplay","activity_group":"On the Mountain","coords":[39.18672,-120.125083],"location":"Burton Creek State Park"},{"activity":"Snowshoeing & Snowplay","activity_group":"On the Mountain","coords":[39.288399,-120.21343],"location":"Cabin Creek Trail"},{"activity":"Snowshoeing & Snowplay","activity_group":"On the Mountain","coords":[38.9489662,-120.08176],"location":"Cascade Creek Falls Trail"},{"activity":"Snowshoeing & Snowplay","activity_group":"On the Mountain","coords":[39.324565,-120.232812],"location":"Donner Memorial State Park"},{"activity":"Snowshoeing & Snowplay","activity_group":"On the Mountain","coords":[38.9518522,-120.1113],"location":"Eagle Falls"},{"activity":"Snowshoeing & Snowplay","activity_group":"On the Mountain","coords":[39.0732613,-120.1437],"location":"Ed Z\'berg Sugar Pine Point State Park"},{"activity":"Snowshoeing & Snowplay","activity_group":"On the Mountain","coords":[38.921422,-120.068176],"location":"Floating Is./Cathedral"},{"activity":"Snowshoeing & Snowplay","activity_group":"On the Mountain","coords":[39.234275,-119.929941],"location":"Flume Trail"},{"activity":"Snowshoeing & Snowplay","activity_group":"On the Mountain","coords":[38.9375183,-120.11021],"location":"Granite Lake"},{"activity":"Snowshoeing & Snowplay","activity_group":"On the Mountain","coords":[38.9359436,-119.93967],"location":"Heavenly Mountain Resort"},{"activity":"Snowshoeing & Snowplay","activity_group":"On the Mountain","coords":[38.871205,-120.00714],"location":"Lake Valley State Recreation Area"},{"activity":"Snowshoeing & Snowplay","activity_group":"On the Mountain","coords":[39.035245,-120.125418],"location":"Meeks Meadow"},{"activity":"Snowshoeing & Snowplay","activity_group":"On the Mountain","coords":[38.925844,-119.971514],"location":"Nordic Ski Center at the Lake Tahoe Community College"},{"activity":"Snowshoeing & Snowplay","activity_group":"On the Mountain","coords":[39.275067,-120.120751],"location":"Northstar at Tahoe Cross Country"},{"activity":"Snowshoeing & Snowplay","activity_group":"On the Mountain","coords":[39.146311,-120.173268],"location":"Paige Meadows"},{"activity":"Snowshoeing & Snowplay","activity_group":"On the Mountain","coords":[39.340797,-120.347568],"location":"Peter Grub Hut/ Castle Peak"},{"activity":"Snowshoeing & Snowplay","activity_group":"On the Mountain","coords":[39.236099,-120.207027],"location":"Pole Creek Trail System"},{"activity":"Snowshoeing & Snowplay","activity_group":"On the Mountain","coords":[39.313643,-120.388902],"location":"Royal Gorge Cross Country Resort"},{"activity":"Snowshoeing & Snowplay","activity_group":"On the Mountain","coords":[38.998633,-120.097188],"location":"Rubicon Trail"},{"activity":"Snowshoeing & Snowplay","activity_group":"On the Mountain","coords":[39.44609,-120.214933],"location":"Sagehen Summit"},{"activity":"Snowshoeing & Snowplay","activity_group":"On the Mountain","coords":[39.10447,-119.897296],"location":"Spooner Lake"},{"activity":"Snowshoeing & Snowplay","activity_group":"On the Mountain","coords":[39.199195,-120.217826],"location":"Squaw Creek Cross Country"},{"activity":"Snowshoeing & Snowplay","activity_group":"On the Mountain","coords":[39.110928,-120.189903],"location":"Stanford Rock"},{"activity":"Snowshoeing & Snowplay","activity_group":"On the Mountain","coords":[39.169266,-120.145755],"location":"Tahoe City Golf Course"},{"activity":"Snowshoeing & Snowplay","activity_group":"On the Mountain","coords":[39.197149,-120.106363],"location":"Tahoe Cross Country"},{"activity":"Snowshoeing & Snowplay","activity_group":"On the Mountain","coords":[39.363248,-120.253381],"location":"Tahoe Donner Cross Country Ski Area"},{"activity":"Snowshoeing & Snowplay","activity_group":"On the Mountain","coords":[39.307405,-119.90797],"location":"Tahoe Meadows"},{"activity":"Snowshoeing & Snowplay","activity_group":"On the Mountain","coords":[38.932298,-120.057677],"location":"Taylor Creek"},{"activity":"Snowshoeing & Snowplay","activity_group":"On the Mountain","coords":[38.789215,-119.948146],"location":"Waterhouse Peak"},{"activity":"Boat Inspection","activity_group":"For On The Water (but actually not on the lake)","coords":[39.187206,-120.199143],"location":"Alpine Meadows Boat Inspection Station"},{"activity":"Boat Inspection","activity_group":"For On The Water (but actually not on the lake)","coords":[39.084886,-120.160434],"location":"Homewood Boat Inspection Station"},{"activity":"Boat Inspection","activity_group":"For On The Water (but actually not on the lake)","coords":[38.849806,-120.019858],"location":"Meyers Boat Inspection Station"},{"activity":"Boat Inspection","activity_group":"For On The Water (but actually not on the lake)","coords":[39.100022,-119.90969],"location":"Spooner Summit Boat Inspection Station"},{"activity":"Boat Inspection","activity_group":"For On The Water (but actually not on the lake)","coords":[39.320492,-120.148867],"location":"Truckee-Tahoe Inspection Station"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[39.0768055556,-120.235333333],"location":"Barker Pass Trailhead"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[38.79075,-119.999777778],"location":"Big Meadow East Trailhead"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[38.7868055556,-120.001805556],"location":"Big Meadow West Trailhead"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[39.2590277778,-120.063638889],"location":"Brockway Summit East Trailhead"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[39.2583611111,-120.064888889],"location":"Brockway Summit West Trailhead"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[38.8354444444,-120.044583333],"location":"Echo Lakes Trailhead"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[38.8141111111,-120.034305556],"location":"Echo Summit South Trailhead"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[38.7966944444,-119.974583333],"location":"Grass Lake Spur Trailhead"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[38.9965,-119.896722222],"location":"Kingsbury North Trailhead"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[38.9605,-119.886194444],"location":"Kingsbury South Trailhead"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[39.3132222222,-119.897444444],"location":"Mt. Rose Trailhead"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[38.9332428,-119.98434],"location":"Pacific Crest Trail"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[39.1043611111,-119.897111111],"location":"Spooner Summit North Trailhead"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[39.1035,-119.895444444],"location":"Spooner Summit South Trailhead"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[39.1646111111,-120.147388889],"location":"Tahoe City/64 Acres Trailhead"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[39.16925,-120.148916667],"location":"Tahoe City/Fairway Drive Trailhead"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[39.3075277778,-119.90775],"location":"Tahoe Meadows Trailhead"},{"activity":"Hiking","activity_group":"On the Mountain","coords":[38.9565,-119.934388889],"location":"Van Sickle Connector Trail trailhead"}]');var Zw=function(t){var e=t.activity;return(0,rt.jsxs)("div",{style:{backgroundImage:"url(".concat(e.poster,")")},className:"activity",children:[(0,rt.jsxs)("div",{className:"activity-header",children:[(0,rt.jsx)("div",{className:"activity-title",children:e.name}),(0,rt.jsx)("div",{className:"activity-desc",children:e.desc})]}),(0,rt.jsx)("div",{onClick:t.onBackPressed,className:"activity-arrow"})]})};var qw=function(t){var e=t.activity;return(0,rt.jsx)("div",{onClick:function(){return t.onClick()},style:{backgroundImage:"url(".concat(e.thumb,")")},className:"activity-button"})};var Gw=function(t){var e,n,i=t.position,r=t.onClick,o=t.activities,u=t.onActivityClicked,c=t.showIconsInPopup;c=null===(e=c)||void 0===e||e,u=null!==(n=u)&&void 0!==n?n:function(){};var l,h={},f=a(o);try{for(f.s();!(l=f.n()).done;){var d=l.value,p=d.activity,v=d.location;v in h?h[v].push(p):h[v]=[p]}}catch(y){f.e(y)}finally{f.f()}var g=Object.entries(h).map((function(t){var e=s(t,2),n=e[0],i=e[1];return(0,rt.jsxs)("div",{className:"activity-marker-popup",children:[n,(0,rt.jsx)("div",{className:"activity-icon-container",children:c&&i.map((function(t){return(0,rt.jsx)("img",{onClick:function(){return u(t)},src:Zt(t),alt:t},"activity-icon-".concat(n,"-").concat(t))}))})]},"activity-marker-".concat(n))})),m=t.icon?'<div class="activity-icon-marker-container"> <div style="background-image: url('.concat(t.icon,')" class="activity-icon-marker"></div> </div>'):void 0;return(0,rt.jsx)(Ou,{position:i,onClick:r,icon:m,children:g})},Yw=le.zK;var Qw=function(t){var n,i=t.activity_tab,r=s(et(),2),o=r[0],a=r[1],u=s((0,e.useState)(null),2),c=u[0],l=u[1],h=s(W(),1),f=s(h[0],2),d=(f[0],f[1]),p=null!==(n=o.get("season"))&&void 0!==n?n:Wt[0];p=p.toLowerCase();var v=i.times[p].map((function(t){return Bt[t]}));function g(t){var e=v.findIndex((function(e){return e.name===t}));l(e>=0?e:null)}function m(t,e){var n=function(t,e){for(var n=new Set,i=[],r=0;r<t.length;r++)if(!n.has(r)){var o={locations:[t[r]],coords:[t[r].coords]};n.add(r);for(var a=r+1;a<t.length;a++)n.has(a)||Ut(t[r].coords,t[a].coords)<e&&(o.locations.push(t[a]),o.coords.push(t[a].coords),n.add(a));o.coords=Kt(o.coords),i.push(o)}return i}(t,Yw);return n.map((function(t){return(0,rt.jsx)(Gw,{activities:t.locations,position:Ht.apply(void 0,lt(t.coords)),onActivityClicked:g,showIconsInPopup:void 0===e,icon:e},"activity-marker-".concat(t.coords))}))}(0,e.useEffect)((function(){var t=Kw.filter((function(t){return v.some((function(e){return e.name===t.activity}))}));if(null!==c){var e=v[c],n=t.filter((function(t){return e.name===t.activity}));d(m(n,e.icon))}else d(m(t))}),[p,c]);var y=v.map((function(t,e){return(0,rt.jsx)(qw,{activity:t,onClick:function(){return l(e)}},"activity-button-".concat(t.name))}));return(0,rt.jsx)("div",{className:"module-content",children:null===c?(0,rt.jsxs)(rt.Fragment,{children:[(0,rt.jsx)("div",{className:"activity-button-container",children:y}),(0,rt.jsx)(mu,{onTabChanged:function(t){var e=Wt[t];o.set("season",e.toLowerCase()),a(o)},tab_names:Wt})]}):(0,rt.jsx)(Zw,{onBackPressed:function(){return l(null)},activity:v[c]})})};var $w=function(t){return(0,rt.jsx)(Qw,{activity_tab:cu.ACTIVITIES.TABS.WATER})};var Xw=function(t){return(0,rt.jsx)(Qw,{activity_tab:cu.ACTIVITIES.TABS.MOUNTAIN})},Jw=JSON.parse('{"NEAR_SHORE":{"URL":"https://tepfsail50.execute-api.us-west-2.amazonaws.com/v1/report/ns-station-range","DATA_TYPES":[{"name":"Water Temperature","name_units":"f","key":"LS_Temp_Avg","key_units":"c"},{"name":"Wave Height","name_units":"ft","key":"WaveHeight","key_units":"m"},{"name":"Algae","name_units":"unitless","key":"LS_Chlorophyll_Avg","key_units":"unitless"},{"name":"Clarity","name_units":"unitless","key":"LS_Turbidity_Avg","key_units":"unitless"}],"STATIONS":[{"id":2,"name":"Dollar Point","coords":[39.1847,-120.093]},{"id":3,"name":"Glenbrook","coords":[39.0883,-119.941]},{"id":4,"name":"Homewood","coords":[39.0903,-120.161]},{"id":6,"name":"Rubicon","coords":[39.0064,-120.109]},{"id":7,"name":"Sand Harbor","coords":[39.2006,-119.931]},{"id":8,"name":"Tahoe Vista","coords":[39.2364,-120.065]},{"id":9,"name":"Tahoe City","coords":[39.1711,-120.138]},{"id":10,"name":"Camp Richardson","coords":[38.9394,-120.039]},{"id":11,"name":"Timber Cove","coords":[38.95,-119.968]}]},"NASA_BUOYS":{"URL":"https://tepfsail50.execute-api.us-west-2.amazonaws.com/v1/report/nasa-tb","DATA_TYPES":[{"name":"Water Temperature","name_units":"f","key":"RBR_0p5_m","key_units":"c"}],"STATIONS":[{"id":1,"name":"tb1","coords":[39.155,-120.004]},{"id":2,"name":"tb2","coords":[39.1097,-120.008]},{"id":3,"name":"tb3","coords":[39.1108,-120.073]},{"id":4,"name":"tb4","coords":[39.1553,-120.071]}]},"USCG_LAKE_LEVEL":{"URL":"https://tepfsail50.execute-api.us-west-2.amazonaws.com/v1/report/usgs-ws","DATA_TYPES":[{"name":"Lake Level","name_units":"ft","key":"Lake_Level","key_units":"ft"}],"STATIONS":[{"id":10337000,"name":"Lake Tahoe Water Level","coords":[39.09353121843146,-120.03493017228419]}]},"USCG_RIVERS":{"URL":"https://tepfsail50.execute-api.us-west-2.amazonaws.com/v1/report/usgs-ws","DATA_TYPES":[{"name":"Discharge","name_units":"m^3","key":"Streamflow","key_units":"m^3"}],"STATIONS":[{"id":10336610,"name":"Upper Truckee River at South Lake Tahoe","coords":[38.922,-119.992]},{"id":103366092,"name":"Upper Truckee River near Meyers","coords":[38.848,-120.028]},{"id":10336645,"name":"General Creek","coords":[39.052,-120.119]},{"id":10336660,"name":"Blackwood Creek","coords":[39.107,-120.162]},{"id":10336676,"name":"Ward Creek near Tahoe Pines","coords":[39.141,-120.212]},{"id":10336698,"name":"Third Creek","coords":[39.24,-119.947]},{"id":10336700,"name":"Incline Creek","coords":[39.24,-119.945]},{"id":10336730,"name":"Glenbrook Creek","coords":[39.088,-119.94]},{"id":10336780,"name":"Trout Creek","coords":[38.932,-119.979]},{"id":10337500,"name":"Truckee River at Tahoe City","coords":[39.167,-120.145]}]},"STATE_OF_THE_LAKE":{"STATION_TYPE":"Sotl","URL":"https://tepfsail50.execute-api.us-west-2.amazonaws.com/v1/report/state-of-lake","DATA_TYPES":[{"name":"Secchi Depth","name_units":"ft","key":"Secchi_Annual_Ave","key_units":"m"},{"name":"Monthly Max Temperature","name_units":"f","keys":["Monthly_Max_Air_Temp_Jan","Monthly_Max_Air_Temp_Feb","Monthly_Max_Air_Temp_Mar","Monthly_Max_Air_Temp_Apr","Monthly_Max_Air_Temp_May","Monthly_Max_Air_Temp_Jun","Monthly_Max_Air_Temp_July","Monthly_Max_Air_Temp_Aug","Monthly_Max_Air_Temp_Sep","Monthly_Max_Air_Temp_Oct","Monthly_Max_Air_Temp_Nov","Monthly_Max_Air_Temp_Dec"],"key_units":"f"},{"name":"Monthly Min Temperature","name_units":"f","keys":["Monthly_Min_Air_Temp_Jan","Monthly_Min_Air_Temp_Feb","Monthly_Min_Air_Temp_Mar","Monthly_Min_Air_Temp_Apr","Monthly_Min_Air_Temp_May","Monthly_Min_Air_Temp_Jun","Monthly_Min_Air_Temp_July","Monthly_Min_Air_Temp_Aug","Monthly_Min_Air_Temp_Sep","Monthly_Min_Air_Temp_Oct","Monthly_Min_Air_Temp_Nov","Monthly_Min_Air_Temp_Dec"],"key_units":"f"},{"name":"Monthly Precipitation","name_units":"unitless","keys":["Monthly_Precipitation_Jan","Monthly_Precipitation_Feb","Monthly_Precipitation_Mar","Monthly_Precipitation_Apr","Monthly_Precipitation_May","Monthly_Precipitation_Jun","Monthly_Precipitation_July","Monthly_Precipitation_Aug","Monthly_Precipitation_Sep","Monthly_Precipitation_Oct","Monthly_Precipitation_Nov","Monthly_Precipitation_Dec"],"key_units":"unitless"}],"STATIONS":[{"name":"State of the Lake","coords":[39.098,-120.031]}]}}'),tb=function(){function t(e){wu(this,t),this.expiration_time=e,this.cache={}}return Su(t,[{key:"put",value:function(t,e){this.cache[t]={value:e,time:Date.now()}}},{key:"has",value:function(t){return t in this.cache&&!(Date.now()-this.cache[t].time>=this.expiration_time)}},{key:"get",value:function(t){return this.cache[t].value}},{key:"length",get:function(){return Object.keys(this.cache).length}}]),t}(),eb=function(){function t(){wu(this,t)}return Su(t,null,[{key:"convert",value:function(e,n,i){if(n===i)return e;if(!(n in t.conversion_ratios)||!(i in t.conversion_ratios[n]))throw new Error("Conversion from '".concat(n,"' to '").concat(i,"' is not implemented"));return t.conversion_ratios[n][i](e)}}]),t}();eb.conversion_ratios={c:{f:ee},m:{ft:function(t){return 3.28084*t}}};var nb=function(){function t(e,n,i,r){wu(this,t),this.url=e,this.name=i,this.coords=r,this.data_types=n,this.download_cache=new tb(t.TIME_UNTIL_REDOWNLOAD)}return Su(t,[{key:"has_data_type",value:function(t){var e=this.data_types.findIndex((function(e){return e.name===t}));return-1!==e}},{key:"get_data_type",value:function(t){return this.data_types.find((function(e){return e.name===t}))}},{key:"download_data",value:function(){var t=Rt(It().mark((function t(e,n){var i,r;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=null!==(i=e)&&void 0!==i?i:{},!this.download_cache.has(n)){t.next=3;break}return t.abrupt("return",this.download_cache.get(n));case 3:return t.next=5,Yt(this.url,e);case 5:return r=t.sent,this.download_cache.put(n,r),t.abrupt("return",r);case 8:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"get_data",value:function(){var t=Rt(It().mark((function t(e,n,i){return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw new Error("get_data is not implemented for this class!");case 1:case"end":return t.stop()}}),t)})));return function(e,n,i){return t.apply(this,arguments)}}()},{key:"get_most_recent_data",value:function(){var t=Rt(It().mark((function t(e,n,i){var r;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.get_data(e,n,i);case 2:return r=(r=t.sent)[i],t.abrupt("return",r[r.length-1]);case 5:case"end":return t.stop()}}),t,this)})));return function(e,n,i){return t.apply(this,arguments)}}()}]),t}();nb.TIME_UNTIL_REDOWNLOAD=36e5;var ib=function(t){Nu(n,t);var e=ju(n);function n(t,i,r,o,a){var s;return wu(this,n),(s=e.call(this,t,i,r,a)).id=o,s}return Su(n,[{key:"download_data",value:function(){var t=Rt(It().mark((function t(e,i){var r,o,a,s;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=ne(e),o=ne(i),a="download_data-".concat(r,",").concat(o),s={id:this.id,rptdate:r,rptend:o},t.next=6,sl(Ru(n.prototype),"download_data",this).call(this,s,a);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"get_data",value:function(){var t=Rt(It().mark((function t(e,i,r){var o,a,s,u,c,l,h,f,d,p;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.has_data_type(r)){t.next=2;break}throw new Error("Station '".concat(this.name,"' does not have data type '").concat(r,"'"));case 2:if(a="get_data-".concat(ne(e),",").concat(ne(i),",").concat(r),!this.download_cache.has(a)){t.next=5;break}return t.abrupt("return",this.download_cache.get(a));case 5:return s=function(t){return t=(t=t.trim()).replace(" ","T"),t+="Z",new Date(t)},u=this.get_data_type(r),t.next=9,this.download_data(e,i);case 9:if(c=t.sent,l=c.map((function(t){return s(t[n.TIME_KEY])})),h=c.map((function(t){var e=parseFloat(t[u.key]);return isNaN(e)?0:e})),!h.some(isNaN)){t.next=16;break}throw this.download_cache.put(a,null),new Error("Station '".concat(this.name,"' contains NaN data"));case 16:if(!(l.length<=2)){t.next=19;break}throw this.download_cache.put(a,null),new Error("Station '".concat(this.name,"' doesn't contain enough data points (").concat(l.length," data points)"));case 19:return f=u.key_units,d=u.name_units,h=h.map((function(t){return eb.convert(t,f,d)})),ft(o={},ab.TIME_KEY,l),ft(o,r,h),p=o,this.download_cache.put(a,p),t.abrupt("return",p);case 25:case"end":return t.stop()}}),t,this)})));return function(e,n,i){return t.apply(this,arguments)}}()}]),n}(nb);ib.TIME_KEY="TmStamp";var rb=function(t){Nu(n,t);var e=ju(n);function n(t,i,r,o){return wu(this,n),e.call(this,t,i,r,o)}return Su(n,[{key:"download_data",value:function(){var t=Rt(It().mark((function t(e){var i,r,o;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i="download_data-".concat(e),r={id:e},t.next=4,sl(Ru(n.prototype),"download_data",this).call(this,r,i);case 4:return o=t.sent,t.abrupt("return",o[0]);case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"get_data",value:function(){var t=Rt(It().mark((function t(e,n,i){var r,o,a,s,u,c,l,h,f,d,p,v,g,m,y=this;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.has_data_type(i)){t.next=2;break}throw new Error("Station '".concat(this.name,"' does not have data type '").concat(i,"'"));case 2:if(a=e.getUTCFullYear(),s=n.getUTCFullYear(),u="get_data-".concat(a,",").concat(s,",").concat(i),!this.download_cache.has(u)){t.next=7;break}return t.abrupt("return",this.download_cache.get(u));case 7:return c=this.get_data_type(i),l=null!==(r=c.keys)&&void 0!==r?r:[c.key],h=se(a,s+1),f=h.map((function(t){return new Date("".concat(t,"-01-01"))})),t.next=13,Promise.all(h.map((function(t){return y.download_data(t)})));case 13:d=t.sent,p=d.map((function(t){var e=l.map((function(e){var n=parseFloat(t[e]);return isNaN(n)?0:n}));return 1===l.length?e[0]:e})),v=c.key_units,g=c.name_units,ue(p,(function(t){return eb.convert(t,v,g)})),t.t0=i,t.next=t.t0===ab.MONTHLY_MAX_TEMPERATURE_NAME||t.t0===ab.MONTHLY_MIN_TEMPERATURE_NAME||t.t0===ab.MONTHLY_PRECIPITATION_NAME?21:26;break;case 21:return f=h.flatMap((function(t){return se(1,13).map((function(t){return t=new String(t).padStart(2,"0"),new Date("".concat(a,"-").concat(t,"-05T00:00Z"))}))})),p=p.flat(),f.push(new Date("".concat(a,"-01-02T00:00Z"))),p.push(0),t.abrupt("break",26);case 26:return ft(o={},ab.TIME_KEY,f),ft(o,i,p),m=o,this.download_cache.put(u,m),t.abrupt("return",m);case 29:case"end":return t.stop()}}),t,this)})));return function(e,n,i){return t.apply(this,arguments)}}()}]),n}(nb),ob=Object.values(Jw).flatMap((function(t){var e=t.URL,n=t.DATA_TYPES,i=t.STATIONS,r=t.STATION_TYPE;return i.map((function(t){var i=t.name,o=t.id,a=t.coords;switch(r){case"Sotl":return new rb(e,n,i,a);case"Data":case void 0:return new ib(e,n,i,o,a);default:throw new Error("Unknown station type '".concat(r,"'"))}}))})),ab=function(){function t(){wu(this,t)}return Su(t,null,[{key:"get_stations_with_data_type",value:function(t){return ob.filter((function(e){return e.has_data_type(t)}))}},{key:"get_stations_with_data_types",value:function(t){return ob.filter((function(e){return t.every((function(t){return e.has_data_type(t)}))}))}}]),t}();ab.STATIONS=ob,ab.TIME_KEY=ib.TIME_KEY,ab.WAVE_HEIGHT_NAME="Wave Height",ab.WATER_TEMPERATURE_NAME="Water Temperature",ab.ALGAE_NAME="Algae",ab.CLARITY_NAME="Clarity",ab.LAKE_LEVEL_NAME="Lake Level",ab.RIVER_DISCHARGE_NAME="Discharge",ab.SECCHI_DEPTH_NAME="Secchi Depth",ab.MONTHLY_MAX_TEMPERATURE_NAME="Monthly Max Temperature",ab.MONTHLY_MIN_TEMPERATURE_NAME="Monthly Min Temperature",ab.MONTHLY_PRECIPITATION_NAME="Monthly Precipitation";var sb=Su((function t(){wu(this,t)})),ub=function(t){Nu(n,t);var e=ju(n);function n(t){var i;return wu(this,n),(i=e.call(this)).y=t,i}return Su(n)}(sb),cb=function(t){Nu(n,t);var e=ju(n);function n(t,i,r,o,a){var s;return wu(this,n),(s=e.call(this)).text=t,s.x=i,s.y=r,s.textAnchor=null!==o&&void 0!==o?o:"start",s.dominantBaseline=null!==a&&void 0!==a?a:"auto",s}return Su(n)}(sb),lb=function(t){Nu(n,t);var e=ju(n);function n(t,i,r,o){var a;return wu(this,n),(a=e.call(this)).x=t,a.y=i,a.r=r,a.color=o,a}return Su(n)}(sb),hb=function(t){Nu(n,t);var e=ju(n);function n(t,i,r){var o;return wu(this,n),(o=e.call(this)).line_data=t,o.color=i,o.stroke_width=null!==r&&void 0!==r?r:1,o}return Su(n)}(sb),fb="ScatterPlot",db="LinePlot";var pb=function(t){var n,i,r,o,a,u,c=(0,e.useRef)(),l=s((0,e.useState)(700),2),h=l[0],f=(l[1],s((0,e.useState)(350),2)),d=f[0],p=(f[1],t.time),v=t.y,g=t.chart_title,m=t.y_label,y=t.max_y,_=t.min_y,k=t.y_ticks,w=t.annotations,b=t.plot_type,S=t.x_tick_formatter,T=t.color;if(0===p.length)throw new Error("Expected time array to be non-empty");if(p=Array.isArray(p[0])?p:[p],v=Array.isArray(v[0])?v:[v],b=null!==(n=b)&&void 0!==n?n:db,b=Array.isArray(b)?b:p.map((function(){return b})),T=null!==(i=T)&&void 0!==i?i:"white",T=Array.isArray(T)?T:p.map((function(){return T})),w=null!==(r=w)&&void 0!==r?r:[],p.length!==v.length)throw new Error("Expected same number of x and y series");p.forEach((function(t,e){if(t.length!==v[e].length)throw new Error("Expected time and y data to have the same length");if(b[e]===db&&t.length<2)throw new Error("Expected at least two data points a Line Plot")})),console.log("yep");var x=p.flat().map((function(t){return t.getTime()})),C=Math.min.apply(Math,lt(x)),E=Math.max.apply(Math,lt(x)),M=Bo().domain([C,E]).range([0,h]);y=null!==(o=y)&&void 0!==o?o:Math.ceil(Math.max.apply(Math,lt(v.flat()))),_=null!==(a=_)&&void 0!==a?a:Math.floor(Math.min.apply(Math,lt(v.flat())));var O=Bo().domain([_,y]).range([d,0]);return k=null!==(u=k)&&void 0!==u?u:3,isFinite(k)&&(k=oe(_,y,void 0,k)),(0,e.useEffect)((function(){var t=Do(c.current),e=Xo(),n=function(t,e,n){return t.selectAll("".concat(e,"#").concat(n)).data([n]).enter().append(e).attr("id",n),t.select("".concat(e,"#").concat(n))};p.forEach((function(i,r){var o=function(){return pe(arguments)}(i.map((function(t){return M(t)})),v[r].map((function(t){return O(t)})));switch(b[r]){case db:n(t,"path","time-plot-line".concat(r)).attr("d",e(o)).attr("stroke",T[r]).attr("fill","none");break;case fb:n(t,"g","scatter".concat(r)).selectAll("circle").data(o).join("circle").attr("r",1.4).attr("cx",(function(t){return t[0]})).attr("cy",(function(t){return t[1]})).attr("fill",T[r]);break;default:throw new Error("Unknown TimePlotType '".concat(b[r],"'"))}})),t.select("#time-plot-y-labels").selectAll("text").data(k).join("text").attr("x",-15).attr("y",O).text((function(t){return te(t,1)}));var i=d+10,r=i+15,o=function(t,e,n){var i;null!==(i=n)&&void 0!==i||(n=12);var r=[zt],o=oe(t,e,r,n);if(o.length<=n)return o;for(var a=new Date(t),s=new Date(e),u=function(t,e,n){var i;null!==(i=n)&&void 0!==i||(n=!0);var r=t,o=e,a=!1;t>e&&(r=e,o=t,a=!0);var s=o.getFullYear()-r.getFullYear(),u=o.getMonth()-r.getMonth(),c=o.getDate()-r.getDate(),l=0;return!0===n&&c>0?l=1:!0!==n&&c<0&&(l=-1),(a?-1:1)*(12*s+u+l)}(a,s),c=[1,2,4],l=c.map((function(t){return Math.floor(u/t)})),h=c.length-1,f=l.length-2;f>=0;f--){if(l[f]>n){h=f+1;break}0==f&&(h=0)}if(l[h]<=n){for(var d=c[h],p=[],v=a;v<=s;v.setMonth(v.getMonth()+d))p.push(v.getTime());return p}return oe(t,e,r=[Vt,5*Vt,10*Vt,20*Vt],n)}(C,E,12),a=(E-C)/zt;S=void 0!==S?S:a<20?function(t){var e=Dt[t.getDay()].toUpperCase(),n=jt[t.getMonth()].substring(0,3).toUpperCase(),i=t.getDate();return["".concat(n," ").concat(i),"".concat(e)]}:a<=700?function(t){return[jt[t.getMonth()].substring(0,3).toUpperCase(),t.getFullYear()]}:function(t){return[t.getFullYear(),""]},t.select("#time-plot-x-labels").selectAll("text").data(o).join("text").attr("x",(function(t){return M(t)})).attr("y",r).text((function(t){return S(new Date(t))[1]})),t.select("#time-plot-x-labels").selectAll("text.day").data(o).join("text").attr("x",(function(t){return M(t)})).attr("y",i).text((function(t){return S(new Date(t))[0]}));var u=w.filter((function(t){return t instanceof ub})),l=w.filter((function(t){return t instanceof cb})),h=w.filter((function(t){return t instanceof lb})),f=w.filter((function(t){return t instanceof hb}));t.select("#horizontal-annotations").selectAll("path").data(u).join("path").attr("d",(function(t){var n=[M(C),O(t.y)],i=[M(E),O(t.y)];return e([n,i])})).attr("fill","none").attr("stroke","white").attr("stroke-dasharray",4),t.select("#line-annotations").selectAll("path").data(f).join("path").attr("d",(function(t){var n=t.line_data.map((function(t){var e=s(t,2),n=e[0],i=e[1];return[M(C+n*(E-C)),O(i)]}));return e(n)})).attr("fill","none").attr("stroke",(function(t){return t.color})).attr("stroke-width",(function(t){return t.stroke_width})),t.select("#text-annotations").selectAll("text").data(l).join("text").attr("x",(function(t){return M(C+t.x*(E-C))})).attr("y",(function(t){return O(t.y)})).attr("fill","rgba(255, 255, 255, 0.6)").attr("dominant-baseline",(function(t){return t.dominantBaseline})).attr("text-anchor",(function(t){return t.textAnchor})).text((function(t){return t.text})),t.select("#circle-annotations").selectAll("circle").data(h).join("circle").attr("cx",(function(t){return M(C+t.x*(E-C))})).attr("cy",(function(t){return O(t.y)})).attr("r",(function(t){return t.r})).attr("fill",(function(t){return t.color}))}),[p,v]),(0,rt.jsxs)("svg",{ref:c,overflow:"visible",viewBox:"0 0 ".concat(h," ").concat(d),children:[(0,rt.jsx)("text",{x:"0",y:"-10",fill:"white",children:g}),(0,rt.jsx)("g",{transform:"translate(-70, ".concat(.5*d,")"),children:(0,rt.jsx)("text",{textAnchor:"middle",dominantBaseline:"middle",transform:"rotate(-90)",fill:"white",children:m})}),(0,rt.jsx)("g",{id:"time-plot-y-labels",fill:"white",dominantBaseline:"middle",textAnchor:"end"}),(0,rt.jsx)("g",{id:"time-plot-x-labels",fill:"white",dominantBaseline:"hanging",textAnchor:"middle"}),(0,rt.jsxs)("g",{id:"time-plot-axes",children:[(0,rt.jsx)("line",{x1:"0",y1:d,x2:h,y2:d,stroke:"white",strokeLinecap:"square"}),(0,rt.jsx)("line",{x1:"0",y1:"0",x2:"0",y2:d,stroke:"white",strokeLinecap:"square"})]}),(0,rt.jsx)("g",{id:"horizontal-annotations"}),(0,rt.jsx)("g",{id:"vertical-annotations"}),(0,rt.jsx)("g",{id:"text-annotations"}),(0,rt.jsx)("g",{id:"circle-annotations"}),(0,rt.jsx)("g",{id:"line-annotations"})]})};var vb=function(t){var e;return e=t.color?'<div class="color-marker" style="background-color: '.concat(t.color,'"> ').concat(t.text," </div>"):'<div class="color-marker"> '.concat(t.text," </div>"),(0,rt.jsx)(Ou,{position:t.position,onClick:t.onClick,icon:e})};var gb=function(t){return(0,rt.jsx)(Ou,{position:t.position,icon:'<span class="error-icon material-symbols-outlined">error</span>',onClick:t.onClick,children:t.error_msg&&(0,rt.jsx)("div",{className:"photo-marker-popup",children:t.error_msg})})};var mb=function(t){var n,i,r=function(){var t=(0,e.useRef)(!0),n=(0,e.useCallback)((function(){return t.current}),[]);return(0,e.useEffect)((function(){return function(){t.current=!1}}),[]),n}(),o=s(W(),1),a=s(o[0],4),u=(a[0],a[1]),c=a[2],l=a[3],h=s((0,e.useState)({time:void 0,station_data:void 0}),2),f=h[0],d=h[1],p=f.time,v=f.station_data,g=void 0===p&&void 0===v,m=null===p&&null===v,y=t.data_type_name,_=t.chart_props,k=t.start_date,w=t.end_date,b=t.data_cleaning_function;y=Array.isArray(y)?y:[y],_=null!==(n=_)&&void 0!==n?n:{},b=null!==(i=b)&&void 0!==i?i:function(t){return t};var S=ab.get_stations_with_data_types(y),T=S[c];return(0,e.useEffect)((function(){var t=!1;if(d({time:void 0,station_data:void 0}),T)return Promise.all(y.map((function(t){return T.get_data(k,w,t)}))).then((function(e){var n=e.map((function(t){return t[ab.TIME_KEY]})),i=e.map((function(t,e){return t[y[e]].map(b)}));t||d({time:n,station_data:i})})).catch((function(e){console.log(e),t||d({time:null,station_data:null})})),function(){t=!0}}),[c,k,w]),(0,e.useEffect)((function(){var t=!1,e=(0,rt.jsx)(vb,{position:Ht.apply(void 0,lt(le.rl)),text:"Loading"},"location-marker");return u([e]),Promise.all(S.map((function(t){return t.get_most_recent_data(k,w,y[0]).catch((function(e){return console.log("Failed to download valid data from station '".concat(t.name,"'")),console.log(e),null}))}))).then((function(e){var n=e.filter((function(t){return"number"===typeof t})),i=Math.min.apply(Math,lt(n)),o=Math.max.apply(Math,lt(n)),a=[4,52,77],s=ie([[57,140,135],a]),c=function(t){var e=i===o?a:s((t-i)/(o-i));return"rgb(".concat(e.join(","),")")},h=S.map((function(t,n){if(null===e[n])return(0,rt.jsx)(gb,{position:Ht.apply(void 0,lt(t.coords)),error_msg:"".concat(t.name," temporarily unavailable"),onClick:function(){return l(n)}},"station-marker-".concat(t.name,"-").concat(n));var i=e[n].toFixed(1);return(0,rt.jsx)(vb,{position:Ht.apply(void 0,lt(t.coords)),text:i,color:c(e[n]),onClick:function(){return l(n)}},"station-marker-".concat(t.name,"-").concat(n))}));r()&&!t&&u(h)})),function(){t=!0}}),[k.getTime(),w.getTime()]),(0,rt.jsx)("div",{className:"lake-conditions-chart-container",children:g?(0,rt.jsx)("div",{children:"Downloading data"}):m?(0,rt.jsxs)("div",{children:["Data at ",T.name," is temporarily unavailable"]}):(0,rt.jsxs)(rt.Fragment,{children:[(0,rt.jsxs)("div",{className:"chart-title",children:[" ",T.name," "]}),(0,rt.jsx)(pb,pt({time:p,y:v},_))]})})};var yb=function(t){var e=s(W(),2),n=(e[0],e[1]),i=n.tab_index,r=n.bottom_tab_index,o=s(re(Object.values(cu.LAKE_CONDITIONS.TABS)[i].BOTTOM_TABS[r].time_range),2),a=o[0],u=o[1];return(0,rt.jsx)(mb,{data_type_name:ab.WAVE_HEIGHT_NAME,chart_props:{y_label:"WAVE HEIGHT (FT)",min_y:0,max_y:3,y_ticks:7},start_date:a,end_date:u})};var _b=function(t){var e=s(W(),2),n=(e[0],e[1]),i=n.tab_index,r=n.bottom_tab_index,o=s(re(Object.values(cu.LAKE_CONDITIONS.TABS)[i].BOTTOM_TABS[r].time_range),2),a=o[0],u=o[1];return(0,rt.jsx)(mb,{data_type_name:ab.WATER_TEMPERATURE_NAME,chart_props:{y_label:"WATER TEMPERATURE (F)",y_ticks:7},start_date:a,end_date:u})};var kb=function(t){var e=s(W(),2),n=(e[0],e[1]),i=n.tab_index,r=n.bottom_tab_index,o=s(re(Object.values(cu.LAKE_CONDITIONS.TABS)[i].BOTTOM_TABS[r].time_range),2),a=o[0],u=o[1];return(0,rt.jsx)(mb,{data_type_name:ab.ALGAE_NAME,chart_props:{y_label:"ALGAE (RELATIVE)",y_ticks:7,min_y:0},start_date:a,end_date:u})};var wb=function(t){var e=s(W(),2),n=(e[0],e[1].bottom_tab_index),i=s(re(cu.LAKE_CONDITIONS.TABS.CLARITY.BOTTOM_TABS[n].time_range),2),r=i[0],o=i[1],a="Historical"===cu.LAKE_CONDITIONS.TABS.CLARITY.BOTTOM_TABS[n].name?ab.SECCHI_DEPTH_NAME:ab.CLARITY_NAME;return(0,rt.jsx)(mb,{data_type_name:a,chart_props:{y_label:"CLARITY",y_ticks:7},start_date:r,end_date:o})};var bb=function(t){var e=s(W(),2),n=(e[0],e[1]),i=n.tab_index,r=n.bottom_tab_index,o=s(re(Object.values(cu.LAKE_CONDITIONS.TABS)[i].BOTTOM_TABS[r].time_range),2),a=o[0],u=o[1],c={y_label:"LAKE LEVEL (FT)",y_ticks:7,min_y:6220,max_y:6230,annotations:[new ub(6229.1),new ub(6223),new cb("Maximum Legal Limit (6229.1 ft)",.5,6229.3,"middle"),new cb("Natural Rim (6223 ft)",.01,6222.8,void 0,"hanging")]};return(0,rt.jsx)(mb,{data_type_name:ab.LAKE_LEVEL_NAME,chart_props:c,start_date:a,end_date:u})};var Sb=function(t){var e=s(W(),2),n=(e[0],e[1]),i=n.tab_index,r=n.bottom_tab_index,o=s(re(Object.values(cu.RIVER_CONDITIONS.TABS)[i].BOTTOM_TABS[r].time_range),2),a=o[0],u=o[1];return(0,rt.jsx)(mb,{data_type_name:ab.RIVER_DISCHARGE_NAME,chart_props:{y_label:"DISCHARGE CUBIC FEET PER SECOND",y_ticks:7,min_y:0},start_date:a,end_date:u,data_cleaning_function:function(t){return t<0?0:t}})};function Tb(t){var e,n=t.question,i=t.answers,r=t.images;return Array.isArray(i)||(i=[i]),r=null!==(e=r)&&void 0!==e?e:[],i=i.map((function(t,e){return(0,rt.jsxs)("div",{children:["\u2022 ",t]},"".concat(n,"-").concat(t,"-").concat(e))})),r=r.map((function(t,e){return(0,rt.jsx)("img",{src:t.url},"".concat(n,"-image-").concat(e))})),(0,rt.jsxs)("div",{className:"survey-response",children:[(0,rt.jsxs)("div",{className:"survey-question",children:[" ",n," "]}),(0,rt.jsxs)("div",{className:"survey-answers",children:[" ",i," "]}),(0,rt.jsxs)("div",{className:"survey-images",children:[" ",r," "]})]})}var xb=za("%m/%d/%Y at %I:%M %p");var Cb=function(t){var e=t.survey.answers.map((function(t,e){return(0,rt.jsx)(Tb,{question:t.questionLabel,answers:t.choiceLabels?t.choiceLabels:t.choiceLabel?t.choiceLabel:t.textAnswer,images:t.images},"survey-question-".concat(e,"-").concat(t.questionLabel))}));return(0,rt.jsx)(Ou,{active:t.active,position:t.position,onClick:function(){t.onClick()},class_name:"survey-map-marker",children:(0,rt.jsxs)("div",{className:"survey-marker-popup",children:[(0,rt.jsxs)("div",{children:["Reported on ",xb(t.survey.createdAt)]}),e]})})};var Eb=function(){var t=s(W(),3),n=s(t[0],4),i=(n[0],n[1]),r=(n[2],n[3],t[1],s(t[2],1)[0][cu.CITIZEN_SCIENCE.TABS.ALGAE.survey_name]),o=null===r;return(0,e.useEffect)((function(){if(o)i([]);else{var t=r.map((function(t,e){return(0,rt.jsx)(Cb,{position:t.location,survey:t},"algae-map-marker-".concat(e))}));i(t)}}),[]),(0,rt.jsx)("div",{className:"fill-parent citizen-science-msg",children:o?"Algae Watch Data is temporarily unavailable":""})};var Mb=function(){var t=s(W(),3),n=s(t[0],4),i=(n[0],n[1]),r=(n[2],n[3],t[1],s(t[2],1)[0][cu.CITIZEN_SCIENCE.TABS.WATER_QUALITY.survey_name]),o=null===r;return(0,e.useEffect)((function(){if(o)i([]);else{var t=r.map((function(t,e){return(0,rt.jsx)(Cb,{position:t.location,survey:t},"water-quality-map-marker-".concat(e))}));i(t)}}),[]),(0,rt.jsx)("div",{className:"fill-parent citizen-science-msg",children:o?"Water Quality Data is temporarily unavailable":""})};var Ob=function(){var t=s(W(),3),n=s(t[0],4),i=(n[0],n[1]),r=(n[2],n[3],t[1],s(t[2],1)[0][cu.CITIZEN_SCIENCE.TABS.LITTER.survey_name]),o=null===r;return(0,e.useEffect)((function(){if(o)i([]);else{var t=r.map((function(t,e){return(0,rt.jsx)(Cb,{position:t.location,survey:t},"litter-map-marker-".concat(e))}));i(t)}}),[]),(0,rt.jsx)("div",{className:"fill-parent citizen-science-msg",children:o?"Litter Data is temporarily unavailable":""})};var Pb=function(t){var e,n=t.date,i=t.sky_cover,r=t.high,o=t.low,a=t.is_active,s=t.onClick,u=Dt[n.getDay()].substring(0,3);i=function(t){switch(t){case"Sunny":return"wi-day-sunny";case"Partly Cloudy":return"wi-day-cloudy";case"Cloudy":return"wi-cloudy";default:throw new Error("Unexpected sky_cover category '".concat(t,"'"))}}(i=xu.categorizeSkyCover(i)),r=te(r),o=te(o),s=null!==(e=s)&&void 0!==e?e:function(){};var c="weather-day-icon";return a&&(c+=" weather-day-icon-active"),(0,rt.jsxs)("div",{className:c,onClick:s,children:[(0,rt.jsxs)("div",{children:[" ",u," "]}),(0,rt.jsx)("i",{className:"wi ".concat(i),children:" "}),(0,rt.jsxs)("div",{children:[(0,rt.jsxs)("span",{className:"weather-icon-high",children:[" ",r,"\xb0 "]}),(0,rt.jsxs)("span",{className:"weather-icon-low",children:[" ",o,"\xb0 "]})]})]})},Lb=36e5;var Ab=function(t){var n,i,r,o,a=s((0,e.useState)(678),2),u=a[0],c=a[1],l=s((0,e.useState)(115),2),h=l[0],f=l[1],d=(0,e.useRef)(),p=t.data,v=t.time,g=t.sliding_window_size,m=t.range,y=t.units;if(!p||!p.time||0===p.time.length)throw new Error("Expected at least one value in props.data.time");v=null!==(n=v)&&void 0!==n?n:p.time[0],g=null!==(i=g)&&void 0!==i?i:864e5,y=null!==(r=y)&&void 0!==r?r:"";var _=p.time[0],k=p.time[p.time.length-1],w=Math.min.apply(Math,lt(p.values)),b=Math.max.apply(Math,lt(p.values));m=null!==(o=m)&&void 0!==o?o:[w,b];var S=function(t){return Bo().domain([0,g]).range([0,u])(t-_)},T=.25*(m[1]-m[0]),x=.05*(m[1]-m[0]),C=Bo().domain([m[0]-x,m[1]+T]).range([h,0]),E=function(t){return Jt(t,p.time,p.values)};(0,e.useEffect)((function(){var t=d.current.clientWidth,e=d.current.clientHeight;c(t),f(e)}),[p,v,g]),(0,e.useEffect)((function(){for(var t=Do(d.current),e=[],n=0;n<p.time.length;n++){var i=S(p.time[n]),r=C(p.values[n]);e.push([i,r])}var o=Xo().curve(aa),a=function(t,e,n){var i=null,r=qo(!0),o=null,a=Yo,s=null;function u(u){var c,l,h,f,d,p=(u=Zo(u)).length,v=!1,g=new Array(p),m=new Array(p);for(null==o&&(s=a(d=Ko())),c=0;c<=p;++c){if(!(c<p&&r(f=u[c],c,u))===v)if(v=!v)l=c,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=c-1;h>=l;--h)s.point(g[h],m[h]);s.lineEnd(),s.areaEnd()}v&&(g[c]=+t(f,c,u),m[c]=+e(f,c,u),s.point(i?+i(f,c,u):g[c],n?+n(f,c,u):m[c]))}if(d)return s=null,d+""||null}function c(){return Xo().defined(r).curve(a).context(o)}return t="function"===typeof t?t:void 0===t?Qo:qo(+t),e="function"===typeof e?e:qo(void 0===e?0:+e),n="function"===typeof n?n:void 0===n?$o:qo(+n),u.x=function(e){return arguments.length?(t="function"===typeof e?e:qo(+e),i=null,u):t},u.x0=function(e){return arguments.length?(t="function"===typeof e?e:qo(+e),u):t},u.x1=function(t){return arguments.length?(i=null==t?null:"function"===typeof t?t:qo(+t),u):i},u.y=function(t){return arguments.length?(e="function"===typeof t?t:qo(+t),n=null,u):e},u.y0=function(t){return arguments.length?(e="function"===typeof t?t:qo(+t),u):e},u.y1=function(t){return arguments.length?(n=null==t?null:"function"===typeof t?t:qo(+t),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(i).y(e)},u.defined=function(t){return arguments.length?(r="function"===typeof t?t:qo(!!t),u):r},u.curve=function(t){return arguments.length?(a=t,null!=o&&(s=a(o)),u):a},u.context=function(t){return arguments.length?(null==t?o=s=null:s=a(o=t),u):o},u}().y0(h).curve(aa);t.select("#solid-line").attr("d",o(e)),t.select("#area-cover").attr("d",a(e));var s=-1*(v-_)/g*u;t.selectAll("#paths, .data-labels > *, .time-labels > *").transition().duration(1e3).attr("transform","translate(".concat(s," 0)")),jo(".temperature-chart-time-label").transition().duration(1e3).style("transform","translate(".concat(s,"px, 0)"))}),[u,h,p,v,g]);for(var M=[],O=[],P=function(t){var e=Xt(t.getHours()),n=t.getHours()>=12?"PM":"AM";return"".concat(e," ").concat(n)},L=_;L<k;L+=108e5){var A=new Date(L),I=E(A),N=S(A),R=C(I);M.push((0,rt.jsx)("div",{className:"temperature-chart-time-label",children:P(new Date(L+Lb))},"time-label-".concat(L))),O.push((0,rt.jsx)("text",{x:N,y:R,fill:"white",children:te(I)+y},"value-label".concat(L)))}return(0,rt.jsxs)("div",{className:"temperature-chart",children:[(0,rt.jsxs)("svg",{ref:d,viewBox:"0 0 ".concat(u," ").concat(h),shapeRendering:"geometricPrecision",children:[(0,rt.jsx)("style",{type:"text/css",children:"\n                        @font-face {\n                            font-family: 'Source Sans Pro';\n                            src: url('https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@300;400&display=swap');;\n                        }\n                        svg {\n                            font-size: 13px;\n                        }\n                    "}),(0,rt.jsx)("g",{className:"data-labels",children:O}),(0,rt.jsxs)("g",{id:"paths",children:[(0,rt.jsx)("path",{id:"solid-line",stroke:"white",strokeWidth:"1",fillOpacity:"0"}),(0,rt.jsx)("path",{id:"area-cover",strokeOpacity:"0",fill:"rgba(255, 255, 255, 0.25)"})]})]}),(0,rt.jsx)("div",{className:"temperature-chart-time-labels",children:M})]})};var Ib=function(t){var e=t.data,n=t.time;return(0,rt.jsx)(Ab,{data:e,time:n,units:"%",range:[0,100]})},Nb=Bo().domain([0,20]).range([30,70]);var Rb=function(t){var e=t.speed,n=t.direction,i=t.time;return(0,rt.jsxs)("div",{className:"wind-chart-icon",children:[(0,rt.jsxs)("span",{className:"wind-chart-icon-speed",children:[" ",te(e)," mph "]}),(0,rt.jsx)("i",{className:"wind-chart-icon-arrow wi wi-direction-up",style:{transform:"rotate(".concat(n+180,"deg)"),fontSize:"".concat(Nb(e),"px")}}),(0,rt.jsxs)("span",{className:"wind-chart-icon-time",children:[" ",function(t){var e=Xt(t.getHours()),n=t.getHours()>=12?"PM":"AM";return"".concat(e," ").concat(n)}(new Date(i))," "]})]})};var Bb=function(t){for(var n=s((0,e.useState)(638),2),i=n[0],r=n[1],o=t.speed,a=t.direction,u=t.time,c=o.time[0],l=o.time[o.time.length-1],h=[],f=c;f<l;f+=108e5)h.push(f);var d=h.map((function(t){var e=Jt(t,o.time,o.values),n=Jt(t,a.time,a.values);return(0,rt.jsx)(Rb,{speed:e,direction:n,time:t},"wind-chart-icon".concat(t))}));return(0,e.useEffect)((function(){var t=document.querySelector(".wind-chart").clientWidth;r(t);var e=-1*(u-c)/864e5*i;jo(".wind-chart > *").style("transform","translate(".concat(e,"px, 0px)"))}),[c,u,i]),(0,rt.jsx)("div",{className:"wind-chart",children:d})},Db=JSON.parse('[{"name":"Tahoe City","coords":[39.167036,-120.144906],"gridX":30,"gridY":91,"office":"REV"},{"name":"Incline Village","coords":[39.249326,-119.952806],"gridX":37,"gridY":94,"office":"REV"},{"name":"Glenbrook","coords":[39.089535,-119.937799],"gridX":36,"gridY":87,"office":"REV"},{"name":"South Lake Tahoe","coords":[38.939413,-119.974385],"gridX":34,"gridY":80,"office":"REV"},{"name":"Meyers","coords":[38.854553,-120.014343],"gridX":31,"gridY":77,"office":"REV"},{"name":"Homewood","coords":[39.084484,-120.161165],"gridX":28,"gridY":88,"office":"REV"},{"name":"Sunnyside","coords":[39.138651,-120.152808],"gridX":29,"gridY":90,"office":"REV"}]');function jb(t){var n=t.forecasts,i=t.updateForecasts,r=t.active_weather_location,o=t.module_container,a=function(){var t=s((0,e.useState)(0),2),n=(t[0],t[1]);return function(){return n((function(t){return t+1}))}}(),u=s((0,e.useState)(void 0),2),c=u[0],l=u[1],h=r.name,f=o.tab_index,d=Object.values(cu.WEATHER.TABS)[f],p=xu.get_forecast(n,xu.TEMPERATURE_KEY);p.values=p.values.map(ee);var v=xu.get_forecast(n,xu.PRECIPITATION_KEY),g=xu.get_forecast(n,xu.WIND_SPEED_KEY);g.values=g.values.map((function(t){return t*xu.KMH_TO_MPH}));var m=xu.get_forecast(n,xu.WIND_DIRECTION_KEY),y=xu.get_forecast(n,xu.HUMIDITY_KEY),_=xu.get_forecast(n,xu.SKY_COVER_KEY),k=xu.get_forecast(n,xu.TEMPERATURE_HIGH_KEY);k.values=k.values.map(ee);var w=xu.get_forecast(n,xu.TEMPERATURE_LOW_KEY);w.values=w.values.map(ee);for(var b=$t(),S=[b.getTime()],T=1;T<7;T++){var x=new Date(b.getTime()+864e5*T);x.setHours(0,0),S.push(x)}var C=void 0===c?b:S[c],E=void 0===c?p:k,M=te(Jt(C,E.time,E.values)),O=te(Jt(C,v.time,v.values)),P=te(Jt(C,g.time,g.values)),L=te(Jt(C,y.time,y.values)),A=xu.categorizeSkyCover(Jt(C,_.time,_.values)),I=S.map((function(t,e){var n=Jt(t,_.time,_.values),i=Jt(t,k.time,k.values),r=Jt(t,w.time,w.values);return(0,rt.jsx)(Pb,{date:new Date(t),sky_cover:n,high:i,low:r,is_active:e===c||0===e&&void 0===c,onClick:function(){return l(e)}},"weather-icon-".concat(t))}));return(0,rt.jsxs)(rt.Fragment,{children:[(0,rt.jsxs)("div",{className:"weather-header",children:[(0,rt.jsxs)("div",{className:"weather-header-left",children:[(0,rt.jsx)("i",{className:"weather-icon wi wi-day-sunny"}),(0,rt.jsx)("div",{className:"weather-header-value",children:M}),(0,rt.jsx)("span",{className:"weather-header-units",children:"\xb0F"}),(0,rt.jsxs)("div",{className:"weather-header-stats",children:[(0,rt.jsxs)("span",{children:[" Precipitation: ",O,"% "]}),(0,rt.jsxs)("span",{children:[" Humidity: ",L,"% "]}),(0,rt.jsxs)("span",{children:[" Wind: ",P," mph  "]})]}),(0,rt.jsx)("span",{onClick:function(){return function(){var t=Do(".weather-refresh"),e=0,n=setInterval((function(){t.style("transform","rotate(".concat(e,"deg)")),(e+=5)>=360&&(e=0,clearInterval(n))}),1);l(void 0);var o=r.office,s=r.gridX,u=r.gridY;i(o,s,u),a()}()},className:"weather-refresh material-symbols-outlined",children:"refresh"})]}),(0,rt.jsxs)("div",{className:"weather-header-right",children:[(0,rt.jsx)("span",{className:"weather-header-location",children:h}),(0,rt.jsx)("span",{className:"weather-header-date",children:function(t,e){var n=Dt[t.getDay()];if(!e)return"".concat(n);var i=Xt(t.getHours()),r=String(t.getMinutes()).padStart(2,"0"),o=t.getHours()>=12?"PM":"AM";return"".concat(n," ").concat(i,":").concat(r," ").concat(o)}(new Date(b),void 0===c)}),(0,rt.jsxs)("span",{className:"weather-header-conditions",children:[" ",A," "]})]})]}),"Temperature"===d.name?(0,rt.jsx)(Ab,{data:p,time:C,units:"\xb0"}):"Precipitation"===d.name?(0,rt.jsx)(Ib,{data:v,time:C}):"Wind"===d.name?(0,rt.jsx)(Bb,{speed:g,direction:m,time:C}):(0,rt.jsxs)("div",{children:[" Unknown tab ","".concat(d.name)," "]}),(0,rt.jsx)("div",{className:"weather-display-icons",children:I})]})}var Wb=function(t){var n=s(W(),2),i=s(n[0],4),r=(i[0],i[1]),o=i[2],a=i[3],u=n[1],c=s((0,e.useState)(void 0),2),l=c[0],h=c[1],f=void 0===l,d=null===l,p=Db[o];function v(t,e,n){h(void 0),xu.get_forecasts(t,e,n).then((function(t){h(t)})).catch((function(){h(null)}))}return(0,e.useEffect)((function(){v(p.office,p.gridX,p.gridY)}),[p]),(0,e.useEffect)((function(){var t=Db.map((function(t,e){var n=t.name,i=t.coords;return(0,rt.jsx)(Pu,{active:e===o,position:Ht.apply(void 0,lt(i)),location:n,onClick:function(){return a(e)}},"weather-marker-".concat(e))}));r(t)}),[o]),(0,rt.jsx)("div",{className:"weather-dashboard",children:f?(0,rt.jsx)("div",{className:"weather-message",children:"Loading Weather Forecasts"}):d?(0,rt.jsx)("div",{className:"weather-message-error",children:"Weather Forecasts Unavailable"}):(0,rt.jsx)(jb,{forecasts:l,updateForecasts:v,active_weather_location:p,module_container:u})})};var Fb=function(){var t=s(W(),2),e=(t[0],t[1]),n=e.tab_index,i=e.bottom_tab_index,r=s(re(Object.values(cu.WEATHER.TABS)[n].BOTTOM_TABS[i].time_range),2),o=r[0],a=r[1],u={y_label:"Average Monthly Precipitation",y_ticks:7,min_y:0,plot_type:fb,x_tick_formatter:function(t){return[jt[t.getMonth()].substring(0,3).toUpperCase(),""]}};return(0,rt.jsx)(mb,{data_type_name:ab.MONTHLY_PRECIPITATION_NAME,chart_props:u,start_date:o,end_date:a})};var zb=function(){var t=s(W(),2),e=(t[0],t[1]),n=e.tab_index,i=e.bottom_tab_index,r=s(re(Object.values(cu.WEATHER.TABS)[n].BOTTOM_TABS[i].time_range),2),o=r[0],a=r[1],u={y_label:"Average Monthly Temperature",y_ticks:7,min_y:0,plot_type:fb,x_tick_formatter:function(t){return[jt[t.getMonth()].substring(0,3).toUpperCase(),""]},color:["#cb8d99","#82dbdd"],annotations:[new ub(32),new cb("Freezing Point",.01,31,void 0,"hanging"),new cb("Monthly Avg. High",.85,83.5),new cb("Monthly Avg. Low",.85,78),new hb([[.82,84.75],[.845,84.75]],"#cb8d99",2),new hb([[.82,79.25],[.845,79.25]],"#82dbdd",2)]};return(0,rt.jsx)(mb,{data_type_name:[ab.MONTHLY_MAX_TEMPERATURE_NAME,ab.MONTHLY_MIN_TEMPERATURE_NAME],chart_props:u,start_date:o,end_date:a})};var Vb=function(){var t=s(W(),2),e=s(t[0],4),n=(e[0],e[1],e[2],e[3],t[1]),i=n.tab_index,r=n.bottom_tab_index,o=Object.keys(cu.WEATHER.TABS)[i],a=void 0!==cu.WEATHER.TABS[o].BOTTOM_TABS,u=a?cu.WEATHER.TABS[o].BOTTOM_TABS[r].name:void 0;if(!a)return(0,rt.jsx)(Wb,{});if("TEMPERATURE"===o){if("Today"===u)return(0,rt.jsx)(Wb,{});if("Historical"===u)return(0,rt.jsx)(zb,{})}else if("PRECIPITATION"===o){if("Today"===u)return(0,rt.jsx)(Wb,{});if("Historical"===u)return(0,rt.jsx)(Fb,{})}throw new Error("Unknown tab '".concat(o,"' and bottom tab ").concat(u," combination"))};function Hb(t){return(0,rt.jsx)(U,{path:"",element:(0,rt.jsx)(V,{to:t,replace:!0})})}i.createRoot(document.getElementById("root")).render((0,rt.jsx)(X,{basename:"laketahoeindepth",children:(0,rt.jsx)(Z,{children:(0,rt.jsxs)(U,{path:"/",element:(0,rt.jsx)(du,{}),children:[Hb("/".concat(cu.IMAGES.href)),(0,rt.jsxs)(U,{element:(0,rt.jsx)(_u,{}),path:cu.IMAGES.href,children:[Hb("/".concat(cu.IMAGES.href,"/").concat(cu.IMAGES.TABS.PHOTOS.href)),(0,rt.jsx)(U,{index:!0,element:(0,rt.jsx)(Hw,{}),path:cu.IMAGES.TABS.PHOTOS.href}),(0,rt.jsx)(U,{element:(0,rt.jsx)(Uw,{}),path:cu.IMAGES.TABS.LIVE.href})]}),(0,rt.jsxs)(U,{element:(0,rt.jsx)(ku,{}),path:cu.ACTIVITIES.href,children:[Hb("/".concat(cu.ACTIVITIES.href,"/").concat(cu.ACTIVITIES.TABS.WATER.href)),(0,rt.jsx)(U,{index:!0,element:(0,rt.jsx)($w,{}),path:cu.ACTIVITIES.TABS.WATER.href}),(0,rt.jsx)(U,{element:(0,rt.jsx)(Xw,{}),path:cu.ACTIVITIES.TABS.MOUNTAIN.href})]}),(0,rt.jsxs)(U,{element:(0,rt.jsx)(Lu,{}),path:cu.WEATHER.href,children:[Hb("/".concat(cu.WEATHER.href,"/").concat(cu.WEATHER.TABS.TEMPERATURE.href)),(0,rt.jsx)(U,{element:(0,rt.jsx)(Vb,{}),path:"*"})]}),(0,rt.jsxs)(U,{element:(0,rt.jsx)(Ww,{}),path:cu.CITIZEN_SCIENCE.href,children:[Hb("/".concat(cu.CITIZEN_SCIENCE.href,"/").concat(cu.CITIZEN_SCIENCE.TABS.ALGAE.href)),(0,rt.jsx)(U,{element:(0,rt.jsx)(Eb,{}),path:cu.CITIZEN_SCIENCE.TABS.ALGAE.href}),(0,rt.jsx)(U,{element:(0,rt.jsx)(Ob,{}),path:cu.CITIZEN_SCIENCE.TABS.LITTER.href}),(0,rt.jsx)(U,{element:(0,rt.jsx)(Mb,{}),path:cu.CITIZEN_SCIENCE.TABS.WATER_QUALITY.href})]}),(0,rt.jsxs)(U,{element:(0,rt.jsx)(Fw,{}),path:cu.RIVER_CONDITIONS.href,children:[Hb("/".concat(cu.RIVER_CONDITIONS.href,"/").concat(cu.RIVER_CONDITIONS.TABS.RIVERS_CREEKS.href)),(0,rt.jsx)(U,{element:(0,rt.jsx)(Sb,{}),path:cu.RIVER_CONDITIONS.TABS.RIVERS_CREEKS.href})]}),(0,rt.jsxs)(U,{element:(0,rt.jsx)(zw,{}),path:cu.LAKE_CONDITIONS.href,children:[Hb("/".concat(cu.LAKE_CONDITIONS.href,"/").concat(cu.LAKE_CONDITIONS.TABS.WAVE_HEIGHT.href)),(0,rt.jsx)(U,{element:(0,rt.jsx)(yb,{}),path:cu.LAKE_CONDITIONS.TABS.WAVE_HEIGHT.href}),(0,rt.jsx)(U,{element:(0,rt.jsx)(_b,{}),path:cu.LAKE_CONDITIONS.TABS.WATER_TEMPERATURE.href}),(0,rt.jsx)(U,{element:(0,rt.jsx)(kb,{}),path:cu.LAKE_CONDITIONS.TABS.ALGAE.href}),(0,rt.jsx)(U,{element:(0,rt.jsx)(wb,{}),path:cu.LAKE_CONDITIONS.TABS.CLARITY.href}),(0,rt.jsx)(U,{element:(0,rt.jsx)(bb,{}),path:cu.LAKE_CONDITIONS.TABS.LAKE_LEVEL.href})]})]})})})),it()}()}();
//# sourceMappingURL=main.d4ed9918.js.map